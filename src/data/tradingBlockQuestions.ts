import { TradingQuestion, MathQuestion, ProbaQuestion, BehavioralQuestion, MLQuestion } from '@/types'
import { tradingQuestions, mathQuestions, probaQuestions, behavioralQuestions, mlQuestions } from './questions'

// Organize ALL questions by Trading block categories
// This includes ALL questions from the original training page:
// - Mental Calculation: ALL math questions (50 questions)
// - Proba Exercises: ALL probability questions (44 questions)
// - Brainteaser: Brainteaser questions from proba (4 questions: rope, 9 balls, manhole, switches)
// - Trading Intuition: ALL trading/technical questions (38 questions)
// - ML Questions: ALL ML & AI questions (41 questions)
// - Behavioral: ALL behavioral questions (27 questions)
export const tradingBlockQuestions = {
  'behavioral': behavioralQuestions as BehavioralQuestion[], // All 27 behavioral questions
  'mental-calculation': mathQuestions as MathQuestion[], // All 50 math questions
  'proba-exercises': probaQuestions as ProbaQuestion[], // All 44 probability questions
  'brainteaser': [
    // Brainteaser questions from proba (4 questions)
    ...probaQuestions.filter(q => 
      q.id === 41 || // rope burning problem
      q.id === 42 || // 9 balls problem
      q.id === 43 || // manhole covers
      q.id === 44    // 3 switches problem
    ) as ProbaQuestion[],
    // Additional brainteaser questions
    {
      id: 100,
      question: '(Coins) You have 12 coins. One is counterfeit and is either heavier or lighter. Using only 3 weighings on a balance scale, can you identify the counterfeit coin and determine whether it is heavier or lighter?',
      answer: 'Yes. Weigh 4 vs 4 coins. If equal, the counterfeit is in the remaining 4. If unequal, the heavier/lighter group contains it. In the second weighing, narrow down to 2 coins. In the third weighing, identify the counterfeit and whether it\'s heavier or lighter.',
      explanation: [
        'First weighing: Weigh coins 1-4 vs 5-8.',
        'If equal: Counterfeit is in 9-12. Second weighing: Weigh 9,10 vs 11,1 (known good). If 9,10 heavier, either 9 or 10 is heavy. Third weighing: Weigh 9 vs 10 to identify.',
        'If unequal: Say 1-4 heavier. Counterfeit is either heavy in 1-4 or light in 5-8. Second weighing: Weigh 1,2,5 vs 3,6,9 (9 is known good). If 1,2,5 heavier, either 1 or 2 is heavy. Third weighing: Weigh 1 vs 2.',
        'This strategy works for all cases and always identifies the counterfeit in exactly 3 weighings.',
      ],
      hint: 'Divide and conquer: split into groups and use the results to narrow down possibilities',
      difficulty: 'hard',
      targetTime: 180,
    },
    {
      id: 101,
      question: '(Water jugs) You have a 3-liter jug and a 5-liter jug. How can you measure exactly 4 liters?',
      answer: 'Fill the 5L jug. Pour from 5L into 3L until 3L is full (leaving 2L in 5L). Empty 3L. Pour the 2L from 5L into 3L. Fill 5L again. Pour from 5L into 3L until 3L is full (adding 1L, leaving 4L in 5L).',
      explanation: [
        'Step 1: Fill 5L jug (5L full, 3L empty)',
        'Step 2: Pour from 5L to 3L (5L has 2L, 3L has 3L)',
        'Step 3: Empty 3L (5L has 2L, 3L empty)',
        'Step 4: Pour 2L from 5L to 3L (5L empty, 3L has 2L)',
        'Step 5: Fill 5L (5L has 5L, 3L has 2L)',
        'Step 6: Pour from 5L to 3L until 3L is full (5L has 4L, 3L has 3L)',
      ],
      hint: 'Use the difference between jug sizes (5-3=2) to create intermediate amounts',
      difficulty: 'medium',
      targetTime: 90,
    },
    {
      id: 102,
      question: '(Bridge and torch) Four people need to cross a bridge at night with one torch. At most two people can cross at a time. They take 1, 2, 5, and 10 minutes respectively. What is the minimum total time required?',
      answer: '17 minutes. Strategy: 1 and 2 cross (2 min), 1 returns (1 min), 5 and 10 cross (10 min), 2 returns (2 min), 1 and 2 cross again (2 min). Total: 2+1+10+2+2 = 17 minutes.',
      explanation: [
        'Key insight: The slowest people (5 and 10) should cross together to minimize time.',
        'Step 1: Fastest pair (1 and 2) cross together → 2 minutes',
        'Step 2: Fastest (1) returns with torch → 1 minute (total: 3 min)',
        'Step 3: Slowest pair (5 and 10) cross together → 10 minutes (total: 13 min)',
        'Step 4: Second fastest (2) returns with torch → 2 minutes (total: 15 min)',
        'Step 5: Fastest pair (1 and 2) cross together again → 2 minutes (total: 17 min)',
      ],
      hint: 'Minimize time by having slowest people cross together, and fastest people handle torch returns',
      difficulty: 'hard',
      targetTime: 120,
    },
    {
      id: 103,
      question: '(Egg drop) You have 2 eggs and a 100-story building. What is the minimum number of drops needed (in the worst case) to determine the highest floor from which an egg can be dropped without breaking?',
      answer: '14 drops. Strategy: Drop first egg from floors 14, 27, 39, 50, 60, 69, 77, 84, 90, 95, 99. If it breaks at floor k, test floors k-13 to k-1 with second egg. This minimizes worst-case drops.',
      explanation: [
        'Use a strategy that reduces the search space optimally with each drop.',
        'Drop first egg from floors: 14, 27, 39, 50, 60, 69, 77, 84, 90, 95, 99.',
        'If first egg breaks at floor k, you know the critical floor is between k-13 and k-1.',
        'Use second egg to test floors k-13, k-12, ..., k-1 sequentially (at most 13 more drops).',
        'Worst case: First egg breaks at floor 99 (11 drops), then test floors 86-98 with second egg (13 drops) = 14 total.',
        'This is optimal: any strategy requires at least 14 drops in worst case.',
      ],
      hint: 'Balance the number of drops of the first egg with the remaining floors to test with the second egg',
      difficulty: 'hard',
      targetTime: 180,
    },
    {
      id: 104,
      question: '(Prisoners and hats) 100 prisoners are lined up. Each prisoner wears either a black or white hat and can see the hats in front of them. Starting from the back, each must guess the color of their own hat. What strategy maximizes the number of correct guesses?',
      answer: '99 correct guesses. The last prisoner counts black hats in front and says "black" if even, "white" if odd. Each subsequent prisoner can deduce their hat color by counting black hats ahead and comparing to the parity established.',
      explanation: [
        'Last prisoner (can see all 99 hats ahead): Counts black hats. If even, says "black"; if odd, says "white". This establishes parity.',
        'Prisoner 99: Sees 98 hats ahead, hears last prisoner\'s answer. Counts black hats ahead. If parity matches, his hat is white; if not, black.',
        'Each subsequent prisoner uses the same logic: count black hats ahead, compare to established parity, deduce own hat color.',
        'All prisoners except the first (who has no information) guess correctly.',
        'This strategy guarantees 99 correct guesses regardless of hat distribution.',
      ],
      hint: 'Use the first guess to encode information (parity) that others can use to deduce their hat color',
      difficulty: 'hard',
      targetTime: 150,
    },
    {
      id: 105,
      question: '(Monty Hall problem) You choose one of three doors. The host opens a door with no prize. Do you switch or stay? What is the probability of winning?',
      answer: 'Switch. Probability of winning if you switch is 2/3. Probability if you stay is 1/3.',
      explanation: [
        'Initial choice: 1/3 probability of choosing the prize.',
        'If you chose correctly (1/3 chance), switching loses.',
        'If you chose incorrectly (2/3 chance), switching wins (host must reveal the other wrong door).',
        'Therefore, switching wins 2/3 of the time.',
        'Staying only wins if your initial choice was correct (1/3 probability).',
      ],
      hint: 'Consider what happens in each of the three possible initial door choices',
      difficulty: 'medium',
      targetTime: 60,
    },
    {
      id: 106,
      question: '(Clocks) A clock gains 5 minutes every hour. How long will it take before the clock shows the correct time again?',
      answer: '12 hours. The clock gains 5 minutes per hour, so it gains 60 minutes (1 full hour) in 12 hours. After 12 hours, it will be 1 hour ahead, which appears correct on a 12-hour clock.',
      explanation: [
        'Clock gains 5 minutes per hour.',
        'To gain 60 minutes (1 full hour), it takes 60/5 = 12 hours.',
        'After 12 hours, the clock shows 1 hour ahead.',
        'On a 12-hour clock, showing 1 hour ahead appears as the correct time (the hour hand is in the same position).',
        'Note: For a 24-hour clock, it would take 12 hours × 12 = 144 hours (6 days) to show correct time again.',
      ],
      hint: 'Calculate when the clock gains exactly one full hour (60 minutes)',
      difficulty: 'easy',
      targetTime: 45,
    },
    {
      id: 107,
      question: '(Bacteria growth) A bacteria culture doubles every minute. It completely fills a jar in 60 minutes. At what minute is the jar half full?',
      answer: '59 minutes. Since the culture doubles every minute, if it\'s full at 60 minutes, it must be half full at 59 minutes.',
      explanation: [
        'The culture doubles every minute.',
        'If the jar is full at minute 60, then at minute 59 it must be half full.',
        'At minute 59: jar is 1/2 full.',
        'At minute 60: jar doubles to 1 full (2 × 1/2 = 1).',
        'This is a classic exponential growth problem with a simple answer.',
      ],
      hint: 'Work backwards from the final state using the doubling property',
      difficulty: 'easy',
      targetTime: 30,
    },
    {
      id: 108,
      question: '(Weighing coins) You have 10 stacks of coins. One stack contains coins weighing 10g each, the others 9g each. You can use a digital scale only once. How do you identify the heavier stack?',
      answer: 'Take 1 coin from stack 1, 2 coins from stack 2, ..., 10 coins from stack 10. Weigh all together. The weight will be 55g × 9g = 495g plus the number of extra grams equals the stack number with heavy coins.',
      explanation: [
        'Take 1 coin from stack 1, 2 from stack 2, ..., 10 from stack 10.',
        'Total coins: 1+2+...+10 = 55 coins.',
        'If all were 9g: total weight = 55 × 9 = 495g.',
        'If stack k has 10g coins: total weight = 495 + k grams.',
        'Weigh all 55 coins. Subtract 495g. The remainder equals the stack number with heavy coins.',
      ],
      hint: 'Take a different number of coins from each stack so the total weight reveals which stack is heavy',
      difficulty: 'medium',
      targetTime: 90,
    },
    {
      id: 109,
      question: '(Boxes and labels) You have three boxes labeled "Apples", "Oranges", and "Apples & Oranges". All labels are incorrect. By taking one fruit from one box, how can you correctly relabel all boxes?',
      answer: 'Take one fruit from the box labeled "Apples & Oranges". If it\'s an apple, this box contains only apples. The box labeled "Oranges" must contain apples & oranges (since all labels are wrong). The box labeled "Apples" contains only oranges.',
      explanation: [
        'All labels are incorrect, so: "Apples & Oranges" box contains either only apples OR only oranges.',
        'Take one fruit from "Apples & Oranges" box.',
        'If it\'s an apple: This box = only apples. "Oranges" label must be on apples & oranges box (can\'t be on only oranges since that label is wrong). "Apples" label must be on only oranges box.',
        'If it\'s an orange: This box = only oranges. "Apples" label must be on apples & oranges box. "Oranges" label must be on only apples box.',
        'One sample is sufficient to determine all three box contents.',
      ],
      hint: 'Since all labels are wrong, the "Apples & Oranges" box must contain only one type of fruit',
      difficulty: 'medium',
      targetTime: 75,
    },
    {
      id: 110,
      question: '(Burning ropes) You have two ropes. Each rope takes exactly 60 minutes to burn but does not burn uniformly. How can you measure exactly 45 minutes?',
      answer: 'Light rope 1 at both ends and rope 2 at one end simultaneously. When rope 1 finishes burning (30 minutes), light the other end of rope 2. When rope 2 finishes burning, 45 minutes have elapsed.',
      explanation: [
        'Light rope 1 at both ends: burns in 30 minutes (half the time).',
        'Simultaneously light rope 2 at one end.',
        'When rope 1 finishes (30 min elapsed), rope 2 has 30 minutes of burn time remaining.',
        'Immediately light the other end of rope 2: it now has 30 minutes of material but burns from both ends, so finishes in 15 minutes.',
        'Total time: 30 + 15 = 45 minutes.',
      ],
      hint: 'Lighting a rope at both ends makes it burn twice as fast',
      difficulty: 'medium',
      targetTime: 90,
    },
    {
      id: 111,
      question: '(Probability – children) A family has two children. You are told that one of them is a boy born on a Tuesday. What is the probability that both children are boys?',
      answer: '13/27 ≈ 0.481. There are 27 equally likely combinations of gender and day of week. 13 have both boys (one born on Tuesday), 14 have one boy and one girl.',
      explanation: [
        'Sample space: Each child can be (Boy/Girl) × (Mon/Tue/Wed/Thu/Fri/Sat/Sun) = 14 possibilities each.',
        'Total combinations: 14 × 14 = 196.',
        'Combinations with at least one boy born on Tuesday: 27 (13 with both boys, 14 with one boy one girl).',
        'Combinations with both boys and at least one born on Tuesday: 13.',
        'Probability = 13/27 ≈ 0.481.',
        'Note: This is different from the simpler "one is a boy" problem (answer 1/3) because the Tuesday constraint provides more information.',
      ],
      hint: 'Count all combinations where at least one child is a boy born on Tuesday',
      difficulty: 'hard',
      targetTime: 120,
    },
    {
      id: 112,
      question: '(Probability – dice) What is the probability of getting at least one 6 when rolling four fair dice?',
      answer: '1 - (5/6)^4 = 1 - 625/1296 = 671/1296 ≈ 0.518 (51.8%)',
      explanation: [
        'Easier to calculate probability of NO 6s, then subtract from 1.',
        'Probability of no 6 on one die: 5/6.',
        'Probability of no 6 on all four dice: (5/6)^4 = 625/1296.',
        'Probability of at least one 6: 1 - 625/1296 = 671/1296 ≈ 0.518.',
      ],
      hint: 'Use the complement: P(at least one 6) = 1 - P(no 6s)',
      difficulty: 'medium',
      targetTime: 60,
    },
    {
      id: 113,
      question: '(Probability – cards) You draw two cards from a standard 52-card deck without replacement. What is the probability of drawing exactly one Ace?',
      answer: '32/221 ≈ 0.145. P = (C(4,1) × C(48,1)) / C(52,2) = (4 × 48) / 1326 = 192/1326 = 32/221',
      explanation: [
        'Total ways to draw 2 cards: C(52,2) = 52×51/2 = 1326.',
        'Ways to draw exactly one Ace: Choose 1 Ace from 4, and 1 non-Ace from 48.',
        'C(4,1) × C(48,1) = 4 × 48 = 192.',
        'Probability = 192/1326 = 32/221 ≈ 0.145.',
      ],
      hint: 'Use combinations: choose 1 Ace and 1 non-Ace',
      difficulty: 'medium',
      targetTime: 60,
    },
    {
      id: 114,
      question: '(Logic – switches) You are in a room with three switches. In another room, there are three light bulbs, each connected to one switch. You may enter the bulb room only once. How do you determine which switch controls which bulb?',
      answer: 'Turn on switch 1 for 5 minutes, then turn it off. Turn on switch 2. Enter the bulb room. The bulb that is on is controlled by switch 2. The bulb that is off but warm is controlled by switch 1. The bulb that is off and cold is controlled by switch 3.',
      explanation: [
        'Turn on switch 1, wait 5 minutes (bulb heats up), then turn it off.',
        'Turn on switch 2, leave it on.',
        'Enter the bulb room:',
        '- Bulb that is ON → controlled by switch 2.',
        '- Bulb that is OFF but WARM → controlled by switch 1 (was on, then turned off).',
        '- Bulb that is OFF and COLD → controlled by switch 3 (never turned on).',
      ],
      hint: 'Use the heat property of light bulbs to identify which was turned on previously',
      difficulty: 'medium',
      targetTime: 75,
    },
    {
      id: 115,
      question: '(Logic – liars and truth-tellers) On an island, some people always tell the truth and others always lie. You meet two people, A and B. A says: "B is a liar." B says: "A and I are of different types." Who is who?',
      answer: 'Both are liars. If A is truthful, then B is a liar. But if B is a liar, then "A and I are of different types" is false, meaning A and B are the same type, contradiction. Therefore A must be a liar, making B truthful. But if B is truthful, then A and B are different types, meaning A is a liar, which is consistent.',
      explanation: [
        'Assume A is truthful: Then B is a liar (A said so).',
        'If B is a liar, then "A and I are of different types" is false, meaning A and B are the same type.',
        'But we assumed A is truthful and B is a liar (different types), contradiction.',
        'Therefore A must be a liar.',
        'If A is a liar, then "B is a liar" is false, meaning B is truthful.',
        'If B is truthful, then "A and I are of different types" is true, meaning A (liar) and B (truthful) are different types, which is consistent.',
        'Conclusion: A is a liar, B is truthful.',
      ],
      hint: 'Use proof by contradiction: assume A is truthful and see if it leads to a contradiction',
      difficulty: 'hard',
      targetTime: 120,
    },
    {
      id: 116,
      question: '(Probability – taxis) In a city, 85% of taxis are blue and 15% are green. A witness identifies a taxi involved in an accident as green. The witness is 80% accurate. What is the probability the taxi was actually green?',
      answer: '12/29 ≈ 0.414 (41.4%). Use Bayes\' theorem: P(Green | Identified Green) = 0.8 × 0.15 / (0.8 × 0.15 + 0.2 × 0.85) = 0.12 / 0.29 = 12/29',
      explanation: [
        'Use Bayes\' theorem: P(Green | Identified Green) = P(Identified Green | Green) × P(Green) / P(Identified Green)',
        'P(Identified Green | Green) = 0.8 (witness accuracy)',
        'P(Green) = 0.15',
        'P(Identified Green) = P(Identified Green | Green) × P(Green) + P(Identified Green | Blue) × P(Blue)',
        'P(Identified Green) = 0.8 × 0.15 + 0.2 × 0.85 = 0.12 + 0.17 = 0.29',
        'P(Green | Identified Green) = 0.8 × 0.15 / 0.29 = 0.12 / 0.29 = 12/29 ≈ 0.414',
      ],
      hint: 'Use Bayes\' theorem, considering both true positives and false positives',
      difficulty: 'medium',
      targetTime: 90,
    },
    {
      id: 117,
      question: '(Game theory – coins) Two players take turns removing 1, 2, or 3 coins from a pile of 21 coins. The player who takes the last coin wins. What is the winning strategy?',
      answer: 'The first player wins by leaving a multiple of 4 coins after each turn. First move: take 1 coin (leaving 20). Then, whatever the opponent takes (1, 2, or 3), take enough to leave a multiple of 4. This guarantees you take the last coin.',
      explanation: [
        'Key insight: If you leave a multiple of 4 coins, you can always force a win.',
        'First move: Take 1 coin, leaving 20 (multiple of 4).',
        'Opponent takes 1, 2, or 3: You take 3, 2, or 1 respectively, leaving 16 (multiple of 4).',
        'Continue this strategy: always leave 12, then 8, then 4, then 0.',
        'Since 21 is not a multiple of 4, the first player can always force this position.',
        'The first player has a winning strategy.',
      ],
      hint: 'Find the "losing positions" (multiples of 4) and force your opponent into them',
      difficulty: 'medium',
      targetTime: 90,
    },
    {
      id: 118,
      question: '(Balls and urns) An urn contains 10 red balls and 10 blue balls. You randomly draw two balls. If they are the same color, you put back one red ball. If they are different colors, you put back one blue ball. You repeat until only one ball remains. What color is the final ball?',
      answer: 'The final ball is always RED. The parity (odd/even) of blue balls is invariant. Initially: 10 blue (even). Same color draw: if both blue, put back red (blue count decreases by 2, stays even). If both red, put back red (blue count unchanged, stays even). Different colors: put back blue (blue count unchanged, stays even). Since we start with even blue balls and parity is preserved, we end with even blue balls. With one ball remaining, even means 0 blue, so the final ball is RED.',
      explanation: [
        'Key insight: The parity of the number of blue balls is invariant under the operations.',
        'Initially: 10 blue balls (even number).',
        'Same color (both blue): Remove 2 blue, add 1 red → blue count decreases by 2 (parity unchanged, still even).',
        'Same color (both red): Remove 2 red, add 1 red → blue count unchanged (still even).',
        'Different colors: Remove 1 blue and 1 red, add 1 blue → blue count unchanged (still even).',
        'Since we start with an even number of blue balls and parity is preserved, we must end with an even number.',
        'With one ball remaining, even means 0 blue balls, so the final ball must be RED.',
        'The invariant is: (number of blue balls) mod 2. This is always 0 (even). With 1 ball remaining, even means the ball is RED.',
      ],
      hint: 'Find an invariant that is preserved by all operations (think about parity)',
      difficulty: 'hard',
      targetTime: 150,
    },
    {
      id: 200,
      question: "Two bullets are loaded into a gun's round barrel consecutively. The barrel has a capacity of 6. The gun is fired once, but no bullet is shot. Does rolling the barrel (shuffling) before next shot increase the probability of firing a bullet?",
      answer: "Yes, shuffling increases the probability of firing a bullet from 25% to 33.3%",
      explanation: [
        "Initial Misstep : If the two bullets are randomly put instead of consecutively, then, after firing one empty shot, there are 2 bullets and 5 total slots. The probability would be 2/5 = 40%, but that's not the case here.",
        "Correct step : The probability of firing a bullet without a shuffle is 1/4 = 25%.",
        "To understand this, imagine that the firing pin was on one of the empty slots (3, 4, 5, 6), and the first shot was taken, but no bullet was fired.",
        "Now assumming that the barrel rotates clockwise, the pin will move to one of these slots: (2, 3, 4, 5).",
        "Out of these four slots, only the slot (1) has a bullet. Hence probability of firing a bullet is 1/4 = 25%.",
        "Note that the same is true in anti-clockwise direction.",
        "After the shuffle, the state is reset. There are 6 total slots with 2 bullets, the probabilty of firing a bullet after a shuffle is 2/6 = 1/3 ≈ 33%.",
        "Thus, shuffling does increase the probability of firing a bullet (from 25% to 33%). Credit: brainstellar",
      ],
      hint: "Two bullets are loaded into a gun's round barrel consecutively. The barrel has a capacity of 6. The gun is fired once, but no bullet is shot. Does rolling the barrel (shuffling) before next shot increase the probability of firing a bullet?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 201,
      question: "Five pirates need to divide 100 Gold Coins. Pirates have a hierarchy, from Level 1 to level 5. The highest level pirate is the leader. The leader proposes a plan to distribute the gold and all the pirates vote on it (including the leader). If at least 50% of the pirates agree on the plan, the gold is split according to the proposal. If not, level-5 pirate is kicked from the ship, and the level-4 pirate now proposes a new plan. This process continues until a proposal is accepted. All pirates are extremely smart and extremely greedy. How does level-5 Pirate divide the treasure?",
      answer: "Coin distribution is: (98, 0, 1, 0, 1) from levels (5, 4, 3, 2, 1) respectively",
      explanation: [
        "Let the pirates be called P5, P4, P3, P2, P1. P5 is the leader.",
        "Let's study a simpler case with only 2 pirates. P2 can propose to take all the 100 gold coins. Even if P1 votes against this, P2 will vote in favor and the proposal will still be accepted (50% acceptance) leaving P1 with zero coins.",
        "The distribution is (100, 0) for levels (2, 1) respectively.",
        "Now let's look at the case with 3 pirates. P3 knows that if this proposal is not accepted, then P2 will get all the gold and P1 will get nothing.",
        "So P3 can bribe P1 with one gold coin. P1 knows that one gold coin is better than zero, and hence votes in favor of this proposal.",
        "Therefore, P3 can propose the following distribution {Level 3 pirate: 99, Level-2: 0, Level-3: 1}. Since pirate 1 and 3 will vote in favor, this proposal will be accepted.",
        "The distribution is (99, 0, 1) for levels (3, 2, 1) respectively.",
        "If there are 4 pirates, P4 can extend this pattern by bribing those who would get nothing in 3-pirates case, to ensure their votes.",
        "So the distribution will be (99, 0, 1, 0) for levels (4, 3, 2, 1) respectively, this will ensure that P2 will vote in favor and with the help of self voting (P4), we have 50% votes to accept this proposal. Credit: brainstellar",
      ],
      hint: "Five pirates need to divide 100 Gold Coins. Pirates have a hierarchy, from Level 1 to level 5. The highest level pirate is the leader. The leader proposes a plan to distribute the gold and all the pirates vote on it (including the leader). If at least 50% of the pirates agree on the plan, the gold is split according to the proposal. If not, level-5 pirate is kicked from the ship, and the level-4 pirate now proposes a new plan. This process continues until a proposal is accepted. All pirates are extremely smart and extremely greedy. How does level-5 Pirate divide the treasure?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 202,
      question: "An explorer walks: 1 mile South, 1 mile East, 1 mile North. And finds themselves back at the starting point. The explorer spots a bear, what is the color of the bear?",
      answer: "White",
      explanation: [
        "It is not possible to reach the starting point by taking three straight lines, at right angles.",
        "The directions North, East, West or South are defined by movement along latitudes and longitudes.",
        "Latitudes are all parallel, but longitudes converge at the poles, due to the spherical shape of the Earth.",
        "We can investigate the movement near these poles.",
        "If the explorer is initially standing at the North Pole : Every direction from the North Pole is due South.",
        "The explorer walks 1 mile South, i.e. away from the North Pole.",
        "Walking due East keeps the same distance (one mile) from the North Pole.",
        "In other words, the explorer walks along the circumference of a circle with a radius of 1 mile, centered at the North Pole.",
        "Walking due north takes them back to the North Pole again.",
        "And a bear living at the North Pole must be a polar bear, which is white. Credit: brainstellar",
      ],
      hint: "An explorer walks: 1 mile South 1 mile East 1 mile North. And finds themselves back at the starting point. The explorer spots a bear, what is the color of the bear?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 203,
      question: "There is a light bulb inside a room and three switches outside. All switches are currently in off state and only one switch controls the light bulb. You may turn any number of switches on or off any number of times you want. How many times do you need to go into the room to figure out which switch controls the light bulb?",
      answer: "1",
      explanation: [
        "The bulb gets hot slowly when turned on.",
        "Turn on the switch # 1 for 10 minutes, turn it off and turn on the switch # 2 and get into the room.",
        "There are 3 possible cases.",
        "If the bulb is on, then switch # 2 controls the bulb.",
        "If the bulb is off, but hot, then switch # 1 controls the bulb.",
        "If the bulb is off and cool, then switch # 3 controls the bulb.",
        "Thus, we can infer the switch that controls the bulb in one entry. Credit: brainstellar",
      ],
      hint: "There is a light bulb inside a room and three switches outside. All switches are currently in off state and only one switch controls the light bulb. You may turn any number of switches on or off any number of times you want. How many times do you need to go into the room to figure out which switch controls the light bulb?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 204,
      question: "How do you place 50 good candies and 50 rotten candies in two boxes such that if you choose a box at random and take out a candy at random, it better be good! We need to maximize the probability of getting a good candy when selecting a random box and a random candy from it.",
      answer: "Place 1 good candy in one box and all the remaining (49 good and 50 rotten candies) in the second box.",
      explanation: [
        "Place 1 good candy in one box and all remaining (49 good and 50 rotten candies) in the second box.",
        "This will give a probability of (1/2) * 1 + (1/2) * (49/99) = 74.74% Credit: brainstellar",
      ],
      hint: "How do you place 50 good candies and 50 rotten candies in two boxes such that if you choose a box at random and take out a candy at random, it better be good! We need to maximize the probability of getting a good candy when selecting a random box and a random candy from it.",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 205,
      question: "In a world where everyone wants a girl child, each family continues having babies till they have a girl. What do you think will the boy-to-girl ratio be eventually? Assuming probability of having a boy or a girl is the same and there is no other gender at the time of birth.",
      answer: "1:1",
      explanation: [
        "Suppose there are N couples.",
        "First time, N/2 girls and N/2 boys are born.",
        "N/2 couples retire, and rest half try for another child. Credit: brainstellar",
      ],
      hint: "In a world where everyone wants a girl child, each family continues having babies till they have a girl. What do you think will the boy-to-girl ratio be eventually? Assuming probability of having a boy or a girl is the same and there is no other gender at the time of birth.",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 206,
      question: "Hundred tigers and one sheep are put on a magic island that only has grass. Tigers can live on grass, but they want to eat sheep. If a Tiger bites the Sheep then it will become a sheep itself. If 2 tigers attack a sheep, only the first tiger to bite converts into a sheep. Tigers don't mind being a sheep, but they have a risk of getting eaten by another tiger. All tigers are intelligent and want to survive. Will the sheep survive?",
      answer: "Sheep survives!",
      explanation: [
        "If there is 1 tiger, then it will eat the sheep because he does not need to worry about being eaten. Sheep will not survive.",
        "If there are 2 tigers, both of them knows that if one eats the Sheep, the other tiger will eat him.",
        "So, the sheep will survive.",
        "If there are 3 tigers, then they each of them knows that if one tiger eats up the sheep, then Iceland will be left with 1 sheep and 2 tigers and as shown in the Credit: brainstellar",
      ],
      hint: "Hundred tigers and one sheep are put on a magic island that only has grass. Tigers can live on grass, but they want to eat sheep. If a Tiger bites the Sheep then it will become a sheep itself. If 2 tigers attack a sheep, only the first tiger to bite converts into a sheep. Tigers don't mind being a sheep, but they have a risk of getting eaten by another tiger. All tigers are intelligent and want to survive. Will the sheep survive?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 207,
      question: "A duck is sitting at the center of a circular lake. A fox is waiting at the shore, not able to swim, wishing to eat the duck. The Fox can move around the whole lake at a speed four times the speed at which the duck can swim. The duck can fly, but only once it reaches the shore of the lake, it can't fly from the water directly. Can the duck always reach the shore without being eaten by the fox? Note: This is an old duck, and cannot take a flight while swimming. The duck cannot submerge in the water.",
      answer: "At a radius of slightly less than R/4, the duck can swim in circles, forcing the fox to run around. Once the duck is at a phase of π from the fox it starts swimming towards the shore and flies away.",
      explanation: [
        "This is a classic problem involving geometry and relative speed, often referred to as the \"Duck and Fox Problem\".",
        "Swim in Circles: The duck begins by swimming in a circle with a radius of r < R/4 where R is the radius of the lake.",
        "The center of this circle is the same as that of the lake.",
        "The fox is four times as fast as the duck. By swimming in a small circle, the duck can start creating an angular separation between itself and the fox.",
        "Force the Fox to Run: Since the fox is trying to chase the duck, it will continue to run around, trying to move to the point nearest to the duck but on the shore.",
        "As the duck goes around slightly faster, the fox lags behind.",
        "Eventually, the duck will be at a point where the fox is directly across the lake from it.",
        "Wait for the Right Moment: The duck continues swimming in its smaller circle until the fox is straight across the lake from it.",
        "At this point, the duck and fox are separated by half the circumference of the lake, a distance that the fox has to cover to reach the duck if it heads straight for the shore.",
        "Head for the Shore: While standing directly opposite, the duck can now swim straight to the shore.",
        "Duck has to travel around R * 3/4 distance, while the fox has to travel π R.",
        "Given the ratio of their speeds, it will take 3R and 3.14 * R units of time respectively.",
        "Hence the duck will have a few extra moments to start the flight.",
        "Escape: Reaching moments before the fox, the duck can now fly away to safety. Credit: brainstellar",
      ],
      hint: "A duck is sitting at the center of a circular lake. A fox is waiting at the shore, not able to swim, wishing to eat the duck. The Fox can move around the whole lake at a speed four times the speed at which the duck can swim. The duck can fly, but only once it reaches the shore of the lake, it can't fly from the water directly. Can the duck always reach the shore without being eaten by the fox? Note: This is an old duck, and cannot take a flight while swimming. The duck cannot submerge in the water.",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 208,
      question: "An airplane flies in a straight line from airport A to airport B, and then back in a straight line from B to A. It travels with a constant engine speed and there is no wind. Will the total travel time for the same round trip be greater, less or the same if, throughout both the flights a constant wind blows from A to B?",
      answer: "The more the wind blows, the total time will be higher even though one of the journeys is faster.",
      explanation: [
        "Intuition: The time during which the plane's speed is boosted is shorter than the time during which it is slowed down, so the over all effect is of slow-down.",
        "Maths: Suppose the wind blows at a speed of w from A to B, and the plane's engine is capable of a steady speed of s (without any wind).",
        "Ignore acceleration and de-acceleration.",
        "Suppose the distance is d, the total time will be 2d/s without any wind.",
        "Speed from A to B is (s + w) and B to A is (s - w).",
        "t = d/(s+w) + d/(s-w) = d(2s/(s^2 - w^2)) = 2d/(s - (w^2/s)) > 2d/s",
        "For 0 < w < s, the denominator in the first term is less than s, and therefore the total time is greater than the time without the wind.",
        "Consider the edge case, where the plane's speed is the same as the wind. In one direction, the plane's speed is doubled, while in the other, it becomes zero! (i.e. it takes an infinite amount of time to finish the journey!) Credit: brainstellar",
      ],
      hint: "An airplane flies in a straight line from airport A to airport B, and then back in a straight line from B to A. It travels with a constant engine speed and there is no wind. Will the total travel time for the same round trip be greater, less or the same if, throughout both the flights a constant wind blows from A to B?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 209,
      question: "You are given two cords that both burn in exactly one hour, not necessarily at a uniform rate. How should you light the cords to determine a time interval of exactly 15 minutes?",
      answer: "Break the cord into approximately half, and burn these two cords from both of their ends. If both these cords finish burning together, that means exactly 15 minutes have passed. If any one of these cords finishes first, break the other cords from approximately the middle, and further burn all ends of these little cords. Continuing this way theoretically leads to exactly 15 minutes!",
      explanation: [
        "First, let's try to measure thirty minutes. To do that, we can burn both ends of a cord.",
        "Even if it burns non-uniformly, it will still finish in exactly 30 minutes.",
        "To measure 15 minutes, burn the first cord at one end and the second cord at both ends.",
        "Half an hour later, when the second cord finishes burning, the first cord has exactly 30 minutes of length left.",
        "Now we can burn the other end of the first cord, and it shall finish in exactly 15 minutes.",
        "Follow-up Question: Instead of having two cords, what if you only had one cord, how would you measure 15 minutes?",
        "Follow-up Answer: Break the cord into approximately half, and burn these two cords from both of their ends.",
        "If both these cords finish burning together, that means exactly 15 minutes have passed.",
        "If any one of these cords finishes first, break the other cords from approximately the middle, and further burn all ends of these little cords.",
        "Continuing this way theoretically leads to exactly 15 minutes! Credit: brainstellar",
      ],
      hint: "You are given two cords that both burn in exactly one hour, not necessarily at a uniform rate. How should you light the cords to determine a time interval of exactly 15 minutes?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 211,
      question: "Prove that there are two opposite points on the Earth's surface that have the same temperature. Assume that the temperature varies continuously over the surface.",
      answer: "",
      explanation: [
        "The motivation is that the temperature is a continuous function, and cannot keep increasing as we go around a circle.",
        "Consider any great circle, like the Equator.",
        "Suppose t(θ) is the temperature at the point θ.",
        "Define f(θ) = t(θ) - t(θ+π).",
        "Note that f(0) = t(0) - t(π) and f(π) = t(π) - t(2π) = t(π) - t(0) = -f(0).",
        "Either both f(0) and f(π) are 0 or one of them is positive and the other is negative.",
        "Using Mean Value Theorem, f(θ) must be zero for some point between 0 and π.",
        "Thus, there will always be a pair of two opposite points at the same temperature.",
        "Trivia: There are an uncountably infinite number of such pairs.",
        "Borsuk-Ulam Theorem states that every continuous function from an n-sphere into Euclidean n-space maps some pair of antipodal points to the same point.",
        "At n = 1, there exist two opposite points on the circle where the temperature is the same.",
        "At n = 2, at any moment, there is always a pair of antipodal points on the Earth's surface with equal temperatures and equal barometric pressures. Credit: brainstellar",
      ],
      hint: "Prove that there are two opposite points on the Earth's surface that have the same temperature. Assume that the temperature varies continuously over the surface.",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 212,
      question: "The probability of having accidents on a road in one hour is 3/4. What is the probability of accidents in half an hour?",
      answer: "1/2",
      explanation: [
        "Probability of no accident in 1 hour = P(no accidents in the first half an hour) * P(no accidents in the Credit: brainstellar",
      ],
      hint: "The probability of having accidents on a road in one hour is 3/43/43/4. What is the probability of accidents in half an hour?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 213,
      question: "Suppose you're on a game show, and you're given the choice of three doors: Behind one door is a car; behind the others, goats. You pick a door, say No. 1, and the host, who knows what's behind the doors, opens another door, say No. 3, which has a goat. Now, do you want to pick door No. 2? What is the probability to win the car if you switch?",
      answer: "2/3",
      explanation: [
        "The probability that your initial choice did not have a car is indeed 2/3.",
        "Initial Misstep: After one door is opened, there are exactly two doors left, and one of them has a car. So the probability that the car is behind either door is 1/2. This is incorrect because the host knows which door has a car and which door has a goat. The host always opens a door with a goat.",
        "Correct Solution: The following table shows which Door the host might open. Assume that the car is behind Gate #1, and we randomly choose one door.",
        "Initial choice: Door #1, Door #2, Door #3",
        "Reality: Car, Goat, Goat",
        "Host opens: #2 or #3, #3, #2",
        "Remaining: #3 or #2, #1, #1",
        "Good to switch: No, Yes, Yes",
        "We see that at the end, the remaining unopened door is Door #1 if we start with Door #2 or Door #3.",
        "This means that in 2 out of 3 cases, we started with the incorrect Door (#2 or #3) and we got the option to switch with the correct door at the end (#1).",
        "So you should switch to the other door, and win the car with a probability of 2/3.",
        "Generalization: The probability of being initially wrong is the same as the probability of being correct after switching.",
        "We can generalize this to n doors. The probability of winning the game by switching after the host has opened n-2 doors is (1 - 1/n). Credit: brainstellar",
      ],
      hint: "Suppose you're on a game show, and you're given the choice of three doors: Behind one door is a car; behind the others, goats. You pick a door, say No. 1, and the host, who knows what's behind the doors, opens another door, say No. 3, which has a goat. Now, do you want to pick door No. 2? What is the probability to win the car if you switch?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 214,
      question: "One hundred prisoners are lined up, facing one direction and assigned a random hat, either red or blue. Each prisoner can see the hats in front of them but not behind. Starting with the prisoner at the back of the line and moving forward, they must each, in turn, say only one word which must be \"red\" or \"blue\". If the word matches their hat color they are released, if not, they are kept imprisoned. They can hear each others' answers, no matter how far they are on the line, but they do not hear the verdict (whether the answer was correct). A friendly guard warns them one night before, giving them enough time to come up with a strategy. How many prisoners can be freed using the best strategy? Assume that there is an unknown number of red & blue hats.",
      answer: "99 of the 100 prisoners can be freed, and 1 has a 50:50 chance",
      explanation: [
        "We can number prisoners from 100 to 1, with 100 being the last person in the line.",
        "Prisoners agree that if the 100th person will say \"red\" if there are an even number of \"red\" hats visible on the prisoners 1 to 99, and blue otherwise.",
        "This way, prisoner number 99 can look ahead and count the red hats.",
        "if they add up to an even number and the number 100 said \"red\", then 99 must be wearing a blue hat.",
        "if they add up to an even number and number 100 said \"blue\", signaling an odd number of red hats, number 99 must also be wearing a red hat. Credit: brainstellar",
      ],
      hint: "One hundred prisoners are lined up, facing one direction and assigned a random hat, either red or blue. Each prisoner can see the hats in front of them but not behind. Starting with the prisoner at the back of the line and moving forward, they must each, in turn, say only one word which must be \"red\" or \"blue\". If the word matches their hat color they are released, if not, they are kept imprisoned. They can hear each others' answers, no matter how far they are on the line, but they do not hear the verdict (whether the answer was correct). A friendly guard warns them one night before, giving them enough time to come up with a strategy. How many prisoners can be freed using the best strategy? Assume that there is an unknown number of red & blue hats.",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 215,
      question: "A traveler meets a pair of twins at a fork in the road: one path is correct and one incorrect. One of the twins always tells the truth (knight), and the other one always lies (knave). Which single question can the traveler ask one of the twins to determine the correct path?",
      answer: "is guaranteed to be 'Yes' if and only if the road on the right is correct. The traveler can also ask, \"If I were to ask you whether the road on the right is correct, would you say 'Yes'?\", both the twins tell yes only if the right path is indeed correct.",
      explanation: [
        "This can be constructed in many ways.",
        "The traveler can ask, \"Would the other twin agree that the road on the left is correct?\"",
        "The answer is guaranteed to be 'Yes' if and only if the road on the right is correct.",
        "The traveler can also ask, \"If I were to ask you whether the road on the right is correct, would you say 'Yes'?\", both the twins tell yes only if the right path is indeed correct. Credit: brainstellar",
      ],
      hint: "A traveler meets a pair of twins at a fork in the road: one path is correct and one incorrect. One of the twins always tells the truth (knight), and the other one always lies (knave). Which single question can the traveler ask one of the twins to determine the correct path?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 216,
      question: "There are two jars, one contains water, and the other contains wine (equal volumes). A certain amount of water is transferred to the wine, then the same amount of the mixture is transferred back to the water beaker. Is there now more water in the wine than there is wine in the water? Assume there is no expansion, compression, spillage or any chemical reaction.",
      answer: "Equal!",
      explanation: [
        "The final volumes of both the mixture-liquids are equal.",
        "This means in the first jars, the combined volume of water & wine is the same as that of jar B.",
        "Assume that the original volume is L.",
        "Suppose the final volume in the first jar is x for water and (L-x) for wine.",
        "This implies that the second jar has x amount of wine and (L-x) of water.",
        "This proves that there are equal amounts of water in the wine jar and wine in the water jar. Credit: brainstellar",
      ],
      hint: "There are two jars, one contains water, and the other contains wine (equal volumes). A certain amount of water is transferred to the wine, then the same amount of the mixture is transferred back to the water beaker. Is there now more water in the wine than there is wine in the water? Assume there is no expansion, compression, spillage or any chemical reaction.",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 217,
      question: "There are 100 Light bulbs in a sequence, all kept in OFF state. The first person comes and toggles all the bulbs which are at position that is multiple of 1, i.e. switch all bulbs to ON. The second person toggles all multiples of 2, i.e. turn the even numbered bulbs OFF and leave the odd ones as is. The third person comes and toggles all multiples of 3. This process continues till the 100th person do their part. After this, how many bulbs are in ON state?",
      answer: "10 bulbs",
      explanation: [
        "Observation: Draw a small grid of 6x6 on a piece of paper and simulate the outcome.",
        "Observe that each bulb is toggled as many times as many unique divisors it has.",
        "For example, bulb number 6 has divisors [1,2,3,6], so it is toggled back and forth by person number [1,2,3,6], i.e, 4 times.",
        "In this case, only the bulb number 1 and 4 are ON at the end of 6 steps, and they have odd number of divisors.",
        "Can it be that perfect square number have odd unique divisors? Checking for some Credit: brainstellar",
      ],
      hint: "There are 100 Light bulbs in a sequence, all kept in OFF state. The first person comes and toggles all the bulbs which are at position that is multiple of 111, i.e. switch all bulbs to ON. The second person toggles all multiples of 222, i.e. turn the even numbered bulbs OFF and leave the odd ones as is. The third person comes and toggles all multiples of 333. This process continues till the 100th100^{\\text{th}}100th person do their part. After this, how many bulbs are in ON state?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 218,
      question: "We have a weighted coin that shows a Head with probability p and tails with 1−p, (0.5<p<1). How to define two equally likely events using this coin? Each event is a function of the outcomes of one or more coin tosses. For example, we can toss 2 times and define Event1 as [HH, TT] and Event2 as [TH, HT].",
      answer: "Toss 2 times, event1 is HT, event2 is TH, and repeat the process otherwise.",
      explanation: [
        "For an arbitrary p, this cannot be accomplished in a single toss.",
        "If we toss twice, we observe that the probability of HT and TH is the same, i.e. the probability of heads in the first toss and tails in the second is the same as its reverse, i.e. p * (1-p) = (1-p) * p",
        "Hence, we can declare these two as the two events.",
        "If we observe HH or TT, we retry.",
        "Follow-up question: What's the probability of an infinite repetition?",
        "Follow-up Answer: Let us calculate the probability of the first retry",
        "Probability of HH or TT = p^2 + (1-p)^2",
        "P(r) = 2p^2 -2p + 1",
        "This is a quadratic equation, with a minimum value of P(r) = 0.5 at p = 0.5, and 0.5 < P(r) < 1 for the range 0.5 < p < 1",
        "Thus, the probability of an infinite repetition is P(r) * P(r) * ... = 0 (because P(r) < 1)",
        "Note that if r is close to 1 then P(r) is close to 1, and it might take a very long sequence before event 1 or event 2 occurs. Credit: brainstellar",
      ],
      hint: "We have a weighted coin that shows a Head with probability ppp and tails with 1−p1-p1−p, (0.5<p<1)(0.5<p<1)(0.5<p<1). How to define two equally likely events using this coin? Each event is a function of the outcomes of one or more coin tosses. For example, we can toss 2 times and define Event1 as [HH, TT] and Event2 as [TH, HT].",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 219,
      question: "Spiderman has two close friends, Mary Jane & Gwen Stacy. After every mission, he rushes to the central subway. One line heads towards Mary's place, and another towards Stacy. Trains from each line leave every 10 minutes. Spiderman being impartial always boards the first train that leaves. However, he observes that he ends up visiting Mary Jane nine times more often than Gwen Stacy. Can you decipher why?",
      answer: "The gap from M to G is 1 minute, and the gap from G to M is 9 minutes",
      explanation: [
        "Since both trains leave at the same frequency of 10 minutes, probably the solution lies in the gap between the two consecutive trains of each line.",
        "Suppose the train M (towards Mary) leaves at the minutes: 0, 10, 20,...",
        "And the train G (towards Gwen) leaves at the minutes: x, (x+ 10), (x+20)... and so on, where (0 < x < 10)",
        "Suppose Spiderman randomly reaches the station at some time t + 10*n minutes where n is an arbitrary integer and t is the fraction that determines his fate, 0 < t ≤ 10.",
        "Note that if 0 < t ≤ x means that he just missed M and now has to wait for G.",
        "While x < t ≤ 10 means the opposite.",
        "Thus, the probability that he takes the train G is: P(G) = P(0 < t ≤ x)",
        "0.1 = (x-0)/10 ⟹ x = 1",
        "The train heading to Mary Jane's location leaves precisely 1 minute before the train heading to Gwen Stacy's location.",
        "Therefore, 9 out of 10 times, spiderman reaches the station when the Credit: brainstellar",
      ],
      hint: "Spiderman has two close friends, Mary Jane & Gwen Stacy. After every mission, he rushes to the central subway. One line heads towards Mary's place, and another towards Stacy. Trains from each line leave every 10 minutes. Spiderman being impartial always boards the first train that leaves. However, he observes that he ends up visiting Mary Jane nine times more often than Gwen Stacy. Can you decipher why?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 220,
      question: "An Egg breaks only if dropped from above a threshold floor, within a 100-story building. Every time you drop an egg, it is counted as an attempt. You are given 2 eggs to deduce the threshold floor, with a minimum number of attempts in the worst case!",
      answer: "It can be done in 14 steps in the worst case.",
      explanation: [
        "We can skip some floors and jump ahead when testing with the first egg (egg1).",
        "Whenever egg1 breaks, egg2 has to scan linearly from the last safe floor to the floor where egg1 broke.",
        "For example, we can test floors 10, 15, 20 and so on.",
        "Suppose egg1 broke at the 20th floor, now we need to test from 16 to 19, which can be done one by one using the second egg (egg2).",
        "But this is suboptimal, because regardless of when egg1 breaks, egg2 is always taking 4 attempts.",
        "We can improve this algorithm by reducing the length of the gap on each attempt of egg1.",
        "For instance, if we test at floor 10, 10+9, 10+9+8, and so on, then in the worst case, the number of attempts will be at-most (1+9)=10 or (2+8)=10 and so on...",
        "But, there's a problem, this sequence ends at 10 + 9 + 8... = n * (n+1)/2 = 55 and does not span the entire range of 100 floors.",
        "But the idea is in the right direction.",
        "A solution for minimum steps in the worst case is the smallest integer greater than or equal to the positive solution of x * (x+1)/2 = 100 ⟹ x = 13.651",
        "Start at floor 14, if the egg breaks start linearly from 1, if it does not break then drop the egg from 14 + 13 = 27th floor, and so on.",
        "This ensures at-most 14 attempts. Credit: brainstellar",
      ],
      hint: "An Egg breaks only if dropped from above a threshold floor, within a 100-story building. Every time you drop an egg, it is counted as an attempt. You are given 2 eggs to deduce the threshold floor, with a minimum number of attempts in the worst case!",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 221,
      question: "Without explicitly calculating, find out which is bigger: e^π or π^e?",
      answer: "e^π",
      explanation: [
        "Initial Misstep: e^π ≈ 23.14; π^e ≈ 22.46, hence e^π is bigger. But this is not a valid method. We need to compare the two numbers without calculating them.",
        "Method 1: Since e^x = 1 + x + x^2/2! + …, we have e^x > 1+x.",
        "Let x = (π/e -1) and solve: ⟹ e^(π/e - 1) > 1 + π/e - 1 ⟹ e^(π/e)/e > π/e ⟹ e^(π/e) > π ⟹ e^π > π^e (raised to power e on both sides)",
        "Hence e^π is bigger.",
        "Method 2: Suppose ∼ denotes the relation between the two terms.",
        "e^π ∼ π^e ⟺ e^(1/e) ∼ π^(1/π) (raised to power 1/(eπ) on both sides)",
        "Note the function f(x) = x^(1/x)",
        "To investigate how this function behaves, we need to take its derivative.",
        "Consider g(x) = ln(f(x)) = ln(x)/x",
        "Differentiate using product rule: g'(x) = (1-ln(x))/x^2",
        "The derivative g' is negative if ln(x) > 1 ⟹ g is decreasing for x > e ⟹ f is decreasing for x > e because ln is a monotonic transformation.",
        "⟹ f(e) > f(π) because e < π ⟹ e^(1/e) > π^(1/π) ⟹ e^π > π^e",
        "Thus e^π is bigger.",
        "Notes: This puzzle is usually considered easy because it is easy to ask and verify (using a calculator). Credit: brainstellar",
      ],
      hint: "Without explicitly calculating, find out which is bigger: e^πe^\\pie^π or π^e\\pi^eπ^e?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 222,
      question: "1024 pirates stand in a circle. They start shooting alternately in a cycle such that the 1st pirate shoots the 2nd, the 3rd shoots the 4th and so on. The pirates who got shot are eliminated from the game. They continue in circles, shooting the next standing pirate, till only one pirate is left. Which position should someone stand to survive?",
      answer: "1",
      explanation: [
        "Let us try a few numbers.",
        "For n = 2, the 1st person survives by shooting the 2nd.",
        "For n = 4, the 1st person survives again.",
        "Let us define \"round\" as one complete circle of shootings.",
        "Logically it makes sense that the first person always survives as the number of people keeps halving evenly in each round.",
        "Let us prove this by induction.",
        "Let S(n) be the safe position for a given n = 2^k",
        "Base Case: When k = 0, we have one pirate (2^0 = 1). The only pirate, which is the first, is the last to survive, so S(1) = 1.",
        "Inductive Step: Assume our hypothesis is true for k = m. That is, S(2^m) = 1.",
        "We need to prove this holds for k = m + 1, i.e. for n = 2^(m+1) pirates.",
        "In the first round of shooting, all pirates in even-numbered positions are eliminated.",
        "Therefore, at the end of the first round, there are 2^m pirates left, all in odd-numbered positions.",
        "Now, the pirates' positions are reset, and the first pirate (who was initially in position 1) is still in position 1.",
        "Therefore, we now have a circle of 2^m pirates, starting from the first pirate.",
        "The inductive hypothesis states that the first pirate will survive till the end.",
        "Thus, S(2^k) = 1 is true for any integer k ≥ 0.",
        "For n = 1024 = 2^10, the position of the surviving pirate would still be the 1st position.",
        "Therefore, someone should stand in the first position to survive.",
        "Trivia: This problem is called \"Josephus problem\", named after Flavius Josephus, a Jewish historian living in the 1st century.",
        "If n is not a power of 2, then we can use a formula. Find the largest m such that 2^m < n. Take l = n - 2^m. Then the safe position is 2 * l + 1. Credit: brainstellar",
      ],
      hint: "1024 pirates stand in a circle. They start shooting alternately in a cycle such that the 1st pirate shoots the 2nd, the 3rd shoots the 4th and so on. The pirates who got shot are eliminated from the game. They continue in circles, shooting the next standing pirate, till only one pirate is left. Which position should someone stand to survive?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 223,
      question: "I bought two fair six-sided dice. Keeping the first one untouched, I modified the second die, by erasing each face and writing a number of my own. Now, the sum of outcomes of the two dice is equally likely an integer between 1 and 12. Can you deduce the numbers written on the modified die? Note: For each dice, each face is equally likely to turn up after a toss.",
      answer: "0 0 0 6 6 6",
      explanation: [
        "The sum of 1 and 12 ensures that there is at least one 0 and one 6.",
        "Since the sum ranges from 1 to 12 only, the faces of the modified die can only have an integer from 0 to 6.",
        "This also means that the sum of two outcomes can be 1 only iff the regular and modified dice outcomes are 1 and 0 respectively.",
        "Let R and M be the outcomes of the regular and modified dice respectively.",
        "⟹ P(R + M = 1) = P(R = 1 ∩ M = 0) = P(R = 1) * P(M = 0) = P(R = 1) * P(M = 0)",
        "⟹ 1/12 = 1/6 * P(M = 0) ⟹ P(M = 0) = 1/2 Credit: brainstellar",
      ],
      hint: "I bought two fair six-sided dice. Keeping the first one untouched, I modified the second die, by erasing each face and writing a number of my own. Now, the sum of outcomes of the two dice is equally likely an integer between 1 and 12. Can you deduce the numbers written on the modified die? Note: For each dice, each face is equally likely to turn up after a toss.",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 224,
      question: "This is a 3 part question. Assume the gender of a child can be either Boy or Girl, equally likely. Suppose I have two children. Younger one is a girl. What is the probability that both children are girls? Suppose I have two children, and atleast one of them is a boy. Find the probability that both of them are boys. Suppose I have two kids, lets call them X and Y. Suppose X is a girl. What is the probability that I have two daughters?",
      answer: "1/2, 1/3, 1/2",
      explanation: [
        "Since it is already known that younger one is a girl, we just need the probability that older one is also a girl.",
        "This is simply 1/2 since both genders are equally likely as per the assumption in the question.",
        "Without any information, there are 4 equally likely possibilities (BB, BG, GB, GG) for the genders of the two children.",
        "Since atleast-one of them is a boy, we can remove the GG case from our sample space.",
        "Now there are 3 possibilities, and all three are equally likely, hence the probability that both the children are girls is 1/3",
        "This is counter-intuitive.",
        "One might say that since the names (X, Y) were anonymous, this problem should have been same as the second problem.",
        "But it turns out that there is indeed some extra information, which changes the probability.",
        "Author has actually fixed a person (X), and X's gender is \"G\" from now on.",
        "Thus we only need to find the probability that Y's gender is \"G\".",
        "It still confuses me how statment (2) and statement (3) are different statements, leading to different outcomes.",
        "Statement (1) is equivalent to statement (3).",
        "Conditional Probability: We can also calculate the second answer using conditional probability.",
        "We can denote: A: the event that at least one child is a boy. B: the event that both children are boys.",
        "We want to find the probability of event B, given that A has ocurred.",
        "Using conditional probability formula: P(B | A) = P(B ∩ A)/P(A)",
        "Here P(B ∩ A) = P(B) = 1/4 (both B and A are true when B is true)",
        "P(A) = 3/4 (amongst 4 equally likely cases, 3 are favourable)",
        "overall, P(B | A) = (1/4)/(3/4) = 1/3 Credit: brainstellar",
      ],
      hint: "This is a 3 part question. Assume the gender of a child can be either Boy or Girl, equally likely. Suppose I have two children. Younger one is a girl. What is the probability that both children are girls? Suppose I have two children, and atleast one of them is a boy. Find the probability that both of them are boys. Suppose I have two kids, lets call them X and Y. Suppose X is a girl. What is the probability that I have two daughters?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 225,
      question: "In a dark room, there is a deck of 52 cards, with exactly 10 cards facing up, rest are facing down. You can touch the cards with your hands but cannot sense which cards are facing up/down. You need to split all these cards into two decks with equal number of cards facing up!",
      answer: "Create a deck of 10 cards randomly from the original 52-card deck. And then turn over the 10-card deck.",
      explanation: [
        "This puzzle involves a trick, i.e, we can manually flip over any number of cards.",
        "We create a deck of k = 10 cards randomly selected from the deck.",
        "Suppose the k-card deck included x number of cards that were originally facing up, and k-x cards are facing up in the other deck.",
        "By flipping over this k-card deck, now there are exactly k-x cards facing up in this deck, same as the other deck.",
        "This question can be solved regardless of the original number k = 10, as long as we know the count of cards facing up. Credit: brainstellar",
      ],
      hint: "In a dark room, there is a deck of 52 cards, with exactly 10 cards facing up, rest are facing down. You can touch the cards with your hands but cannot sense which cards are facing up/down. You need to split all these cards into two decks with equal number of cards facing up!",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 226,
      question: "A certain town comprises of 100 married couples. Some husbands secretly cheat on their wives. All wives know about the nature of every husband except their own. When a wife concludes that her husband cheated, she kicks her husband into the street at midnight. All husbands remain silent about their secret. One day, the mayor of the town announces to the whole town that there is at least 1 cheating husband in the town. After announcement, no one talks, waiting for someone to get kicked. Till 9th night from announcement, no husband was kicked, but on the 10th night, some husbands got kicked out simultaneously. How many are they?",
      answer: "",
      explanation: [
        "It must be 10 husbands kicked out.",
        "If there was only 1 cheating husband in the town, there will be 99 women who know exactly who the cheater is.",
        "The 1 remaining woman, who is being cheated on, would have assumed there are no cheaters.",
        "But now that the mayor has confirmed that there is at least one cheater, she realizes that her own husband must be cheating on her.",
        "So her husband gets kicked on the day of the announcement.",
        "Now let's assume there are 2 cheaters in the town.",
        "There will be 98 women in the town who know who the 2 cheaters are.",
        "The 2 wives, who are being cheated on, would think that there is only 1 cheater in the town.",
        "Since neither of these 2 women know that their husbands are cheaters, they both do not report their husbands in on the day of the announcement.",
        "The Credit: brainstellar",
      ],
      hint: "A certain town comprises of 100 married couples. Some husbands secretly cheat on their wives. All wives know about the nature of every husband except their own. When a wife concludes that her husband cheated, she kicks her husband into the street at midnight. All husbands remain silent about their secret. One day, the mayor of the town announces to the whole town that there is at least 1 cheating husband in the town. After announcement, no one talks, waiting for someone to get kicked. Till 9th night from announcement, no husband was kicked, but on the 10th night, some husbands got kicked out simultaneously. How many are they?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 227,
      question: "A father claims about snowfall last night. First daughter tells that the probability of snowfall on a particular night is 1/8. Second daughter tells that 5 out of 6 times the father is lying! What is the probability that there actually was a snowfall?",
      answer: "1/36",
      explanation: [
        "Let S = Snowfall occurred, and C be the event that the father is claiming snowfall ocurred.",
        "Probability of (Snowfall given Claim) = P(S | C) = P(C|S) * P(S)/P(C)",
        "P(S) = 1/8",
        "P(C|S) = 1 - 5/6 = 1/6 (given in the question, father lies 5/6 times)",
        "P(C) = P(True claim) + P(False Claim) = P(C ∩ S) + P(C ∩ S') where S' means that it did not snow.",
        "= P(C|S) * P(S) + P(C | S') * P(S') = (1/6 * 1/8) + (5/6 * 7/8)",
        "P(S | C) = P(C|S) * P(S)/P(C) = (1/6 * 1/8)/((1/6 * 1/8) + (5/6 * 7/8)) = 1/36 Credit: brainstellar",
      ],
      hint: "A father claims about snowfall last night. First daughter tells that the probability of snowfall on a particular night is 1/8. Second daughter tells that 5 out of 6 times the father is lying! What is the probability that there actually was a snowfall?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 228,
      question: "You are in a game against devil, on a perfectly round table and with an infinite pile of pennies. He says, \"OK, we'll take turns putting one penny down, no overlapping allowed, and the pennies must rest flat on the table surface. The first guy who can't put a penny down loses.\" You can go first. How will you guarantee victory?",
      answer: "",
      explanation: [
        "You place a penny right in the center of the table.",
        "After that, whenever the devil places a penny on the table, mimic his placement by placing a penny diametrically opposite and at same distance from center.",
        "If he has a place to place a penny, so will you.",
        "The devil will run out of places to put a quarter before you do. Credit: brainstellar",
      ],
      hint: "You are in a game against devil, on a perfectly round table and with an infinite pile of pennies. He says, \"OK, we'll take turns putting one penny down, no overlapping allowed, and the pennies must rest flat on the table surface. The first guy who can't put a penny down loses.\" You can go first. How will you guarantee victory?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 229,
      question: "Two witches make a nightly visit to an all-night coffee shop. Each arrives at a random time between 0:00 and 1:00. Each one of them stays for exactly 30 minutes. On any one given night, what is the probability that the witches will meet at the coffee shop?",
      answer: "3/4",
      explanation: [
        "Plot the graph of X and Y, where X and Y denote the time each witch arrives.",
        "This will form a 60x60 square for total feasible region.",
        "The probability that they meet is |X-Y|<= 30.",
        "Draw this as favorable region, by joining line (30,0) with (60,30) and (0,30) with (30,60).",
        "Clearly the interior of this region has area 3/4 th of total.",
        "Hence the probability = 3/4 = 0.75 Credit: brainstellar",
      ],
      hint: "Two witches make a nightly visit to an all-night coffee shop. Each arrives at a random time between 0:00 and 1:00. Each one of them stays for exactly 30 minutes. On any one given night, what is the probability that the witches will meet at the coffee shop?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 230,
      question: "So there's this king. Someone breaks into his wine cellar where he stores 1000 bottles of wine. This person proceeds to poison one of the 1000 bottles, but gets away too quickly for the king's guard to see which one he poisoned or to catch him. The king needs the remaining 999 safe bottles for his party in 4 weeks. The king has 10 prisoners who deserve execution. The poison takes about 3 weeks to take effect, and any amount of it will kill whoever drinks it. How can he figure out which bottle was poisoned in time for the party?",
      answer: "",
      explanation: [
        "The king has to mix wine in order to isolate the single poisoned one.",
        "There are 10 servants. After about 3 weeks, each one can be either dead or alive, meaning that there are 2^10 = 1024 possible outcomes.",
        "Since 1024 > 1000, it's actually possible for some scheme to work.",
        "Here's the scheme: The king assigns each servant a number from 1-10.",
        "The king assigns each bottle a number from 0-999.",
        "When he labels them, though, he writes the number on the bottle in binary with ten digits, like this: 0: 000000000, 1: 000000001, 2: 000000010, 3: 000000011, 4: 000000100, 5: 000000101, ... 999: 1111100111 and so on.",
        "Now the strategy is simple: Pick bottle 1, write its binary form, look at the positions where '1' appears (here: 1st only).",
        "Make the corresponding prisoner drink small quantitiy of that wine. (ie prisoner 1 takes a sip of wine #1).",
        "Continue this process upto 1000th wine.",
        "After 3 weeks, suppose only prisoner number 4 & 7 die.",
        "This means the binary representation of poisoned wine has '1' at position 4 & 7, and rest all zeros.",
        "Convert this binary number to decimal and that gives the poisoned wine. Credit: brainstellar",
      ],
      hint: "So there's this king. Someone breaks into his wine cellar where he stores 1000 bottles of wine. This person proceeds to poison one of the 1000 bottles, but gets away too quickly for the king's guard to see which one he poisoned or to catch him. The king needs the remaining 999 safe bottles for his party in 4 weeks. The king has 10 prisoners who deserve execution. The poison takes about 3 weeks to take effect, and any amount of it will kill whoever drinks it. How can he figure out which bottle was poisoned in time for the party?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 231,
      question: "Let X be a random variable that takes value 0 or 1 with 50% probability each. You need to define a new random variable Y as a function of X, such that Y has the value 1 with 25% probability and 0 otherwise.",
      answer: "Y = X * X' where X' is an independent copy of X",
      explanation: [
        "Given X is a random variable such that P(X=1)=P(X=0)=0.5.",
        "These mathematical entities typically represent a real world concept.",
        "For example, this X can take value 0 or 1 based on the outcome of a coin toss, say Tails representing 0 and Heads represeting 1.",
        "But we can toss this coin again, and get another sample independent of the first outcome.",
        "Let X' take the value 0 or 1 based on this second toss, independent of the first toss.",
        "This is the concept of an independent copy.",
        "Let X' be an independent copy of X. It has the same probability distribution as X but the value may or may not be the same.",
        "Thus, P(X=1) = P(X'=1) = 0.5",
        "Also, we can imagine if one coin-toss has probability of 1/2 for a heads, then the probability will be 1/4 for both coins to show up heads.",
        "P(X=1, X'=1) = P(X=1) * P(X'=1) = 1/4",
        "Hence, we can define Y = 1 if both X and X' are 1, and 0 otherwise.",
        "We can also use product operator to simplify this relationship.",
        "Y = X * X'",
        "This way, if both X and X' are 1 then Y will be 1, otherwise zero.",
        "This is not the same as Z = X^2 because Z can take the value 0 or 1 with probability 50% each.",
        "Programming Variant: Following is the programming version of this question: Function f1() returns true or false with 50% probability each, define function f2() that can return true with 25% probability, and false otherwise. You may use the function f1.",
        "This can be answered using the and gate.",
        "def f2(): return f1() and f1() Credit: brainstellar",
      ],
      hint: "Let XXX be a random variable that takes value 0 or 1 with 50% probability each. You need to define a new random variable YYY as a function of XXX, such that YYY has the value 1 with 25% probability and 0 otherwise.",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 301,
      question: "A line of 100 airline passengers is waiting to board a plane. They each hold a ticket to one of the 100 seats on that flight. For convenience, let's say that the nth passenger in line has a ticket for seat number 'n'. Being drunk, the first person in line picks a random seat (equally likely for each seat). All of the other passengers are sober, and will go to their assigned seats unless it is already occupied; If it is occupied, they will then find a free seat to sit in, at random. What is the probability that the last (100th) person to board the plane will sit in their own seat (#100)?",
      answer: "1/2",
      explanation: [
        "Note that the last passenger can only take seat #1 or #100.",
        "If any passenger takes seat #1, the cycle stops, and all the subsequent passengers take their own seats (including the last).",
        "Otherwise, if the #100 seat is taken before #1, the cycle is paused, i.e., the subsequent passengers do take their own seats, but the last passenger would take seat #1.",
        "Now, any passenger from 1st to 99th who is picking a random vacant seat will choose between #1, #100 or any other seat equally likely.",
        "Thus, by symmetry, #1 or #100, anyone will be taken first - with equal probability.",
        "Hence the last person ends up in their own seat with a probability of 0.5",
        "Follow-up Question: What's the probability that the second-last person sits on their seat?",
        "Follow-up Answer: 2/3. The answer follows from the same logic of symmetry between the choice of seat #1, seat #100 and seat #99.",
        "The probability that the kth person from the last will find their seat vacant is k/(k+1). Credit: brainstellar",
      ],
      hint: "A line of 100 airline passengers is waiting to board a plane. They each hold a ticket to one of the 100 seats on that flight. For convenience, let's say that the nthn^{\\text{th}}nth passenger in line has a ticket for seat number 'n'. Being drunk, the first person in line picks a random seat (equally likely for each seat). All of the other passengers are sober, and will go to their assigned seats unless it is already occupied; If it is occupied, they will then find a free seat to sit in, at random. What is the probability that the last (100th) person to board the plane will sit in their own seat (#100)?",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 302,
      question: "A stick is broken into 3 parts, by choosing 2 points randomly along its length. With what probability can it form a triangle?",
      answer: "1/4",
      explanation: [
        "All 3 sides have to have lengths less than half the length of the stick.",
        "the conditions are min{x.y}<= 0.5; max{x,y}>=0.5; |x-y|<=0.5.",
        "looking at the unit square, and dividing into 8 congruent triangles by lines parallel to the axes and y=x line, its easy to see 2 of the 8 triangles satisfy the condition.",
        "so the answer is 1/4 Credit: brainstellar",
      ],
      hint: "A stick is broken into 3 parts, by choosing 2 points randomly along its length. With what probability can it form a triangle?",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 303,
      question: "A rabbit sits at the bottom of a staircase with n stairs. The rabbit can hop up only one or two stairs at a time. What kind of sequence is depicted by the different ways possible for the rabbit to ascend to the top of the stairs of length n=1,2,3...?",
      answer: "Fibonacci Sequence.",
      explanation: [
        "Suppose f(n) are the number of ways to reach nth stair.",
        "Notice that the final hop is either a single jump or double jump, i.e. its from (n-1)th stair or (n-2)th.",
        "Thus f(n) = f(n-1) + f(n-2), where f(0)=f(1)=1.",
        "This is Fibonacci sequence. Credit: brainstellar",
      ],
      hint: "A rabbit sits at the bottom of a staircase with n stairs. The rabbit can hop up only one or two stairs at a time. What kind of sequence is depicted by the different ways possible for the rabbit to ascend to the top of the stairs of length n=1,2,3...?",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 304,
      question: "A. B & C live together and share everything equally. One day A brings home 5 logs of wood, B brings 3 logs and C brings none. Then they use the wood to cook together and share the food. Since C did not bring any wood, he gives $8 instead. How much to A and how much to B?",
      answer: "",
      explanation: [
        "Since each person consumed 8/3 woods.",
        "A gave 5-8/3 = 7/3 woods to C and B gave 3-8/3 = 1/3 woods to C.",
        "So, Out of the 8 dollars, A gets 7 and B gets 1 Credit: brainstellar",
      ],
      hint: "A. B & C live together and share everything equally. One day A brings home 5 logs of wood, B brings 3 logs and C brings none. Then they use the wood to cook together and share the food. Since C did not bring any wood, he gives $8 instead. How much to A and how much to B?",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 305,
      question: "Suppose you have a hotel which has one floor with infinite number of rooms in a row and all of them are occupied. A new customer wants to check in, how will you accommodate her? What if infinite number of people want to check in, how will you accommodate them? Suppose infinite number of buses arrive at the hotel, each having infinite number of people, how will you accommodate them?",
      answer: "",
      explanation: [
        "Since there are infinite number of rooms and infinite+1= infinite",
        "Just ask person in room k to move to k+1, thus making the first room vacant. :)",
        "In the other case, since infinite+infinite = infinite asking person in room k to move to 2k solves the problem.",
        "Since NxN is countable set. We can get a 1-1 mapping from N to NxN",
        "Hence, we can accommodate (infinite people X infinite buses) in the hotel.",
        "Relevant article: http://en.wikipedia.org/wiki/Cantor_pairing_function Credit: brainstellar",
      ],
      hint: "Suppose you have a hotel which has one floor with infinite number of rooms in a row and all of them are occupied. A new customer wants to check in, how will you accommodate her? What if infinite number of people want to check in, how will you accommodate them? Suppose infinite number of buses arrive at the hotel, each having infinite number of people, how will you accommodate them?",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 306,
      question: "In this gambling game, a player can buy a ticket for Rs 1 on any number from 1 to 6. Three identical and unfair dice are rolled. If the booked number appears on 0, 1, 2 or 3 dice, player wins Rs 0, 1, 2 or 3 respectively, without returning the original Rs 1. What is expected money you can win after buying a ticket for Rs 1?",
      answer: "1/2",
      explanation: [
        "We bet Rs 1 on each number 1-6.",
        "In any case, we get Rs 3 back.",
        "That is 1/2 per ticket.",
        "Hence the expected amount of money we can win is 1/2.",
        "A tedious way to arrive at this answer is to calculate the probability of getting 1, 2 or 3 faces common to our booking. Credit: brainstellar",
      ],
      hint: "In this gambling game, a player can buy a ticket for Rs 1 on any number from 1 to 6. Three identical and unfair dice are rolled. If the booked number appears on 0, 1, 2 or 3 dice, player wins Rs 0, 1, 2 or 3 respectively, without returning the original Rs 1. What is expected money you can win after buying a ticket for Rs 1?",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 307,
      question: "A group has 70 members. For any two members X and Y there is a language that X speaks but Y does not, and there is a language that Y speaks but X does not. At least how many different languages are spoken by this group?",
      answer: "This group has at least 8 different languages.",
      explanation: [
        "Let's go with hit and trial.",
        "Everyone knows the same language, that is a contradiction.",
        "Therefore it must be Credit: brainstellar",
      ],
      hint: "A group has 70 members. For any two members XXX and YYY there is a language that XXX speaks but YYY does not, and there is a language that YYY speaks but XXX does not. At least how many different languages are spoken by this group?",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 308,
      question: "A and B are in a team called AB, playing against C. If AB team wins they win Rs 3, nothing otherwise. The Game: A and B are placed in 2 separate rooms far away. A will toss a coin and B will also toss a coin; A will have to guess the outcome of B's toss and B will guess A's. If both guesses are right, team AB wins Rs 3, nothing otherwise. Should they play the game, by paying Rs 1 at the start?",
      answer: "1/2",
      explanation: [
        "Let's list down all the possibilities.",
        "A B: H H, H T, T H, T T",
        "Observe that 2 out of 4 times, their coins have the same face, i.e. either both heads or both tails.",
        "They can speak their own coin's face as their guess.",
        "They win the game with a probability of 1/2.",
        "The pay-off will be positive (1/2 * 3 - 1 = 0.5), and hence they should play this game. Credit: brainstellar",
      ],
      hint: "A and B are in a team called AB, playing against C. If AB team wins they win Rs 3, nothing otherwise. The Game: A and B are placed in 2 separate rooms far away. A will toss a coin and B will also toss a coin; A will have to guess the outcome of B's toss and B will guess A's. If both guesses are right, team AB wins Rs 3, nothing otherwise. Should they play the game, by paying Rs 1 at the start?",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 309,
      question: "Snow-particles are falling on the ground one after another. A particular snowflake turns out to be of type \"Stellar Dendrite\" with probability 'p' if its previous particle was also Stellar Dendrite, and with probability 'q' if previous one was something else. If a snowflake is picked from ground, what is the probability that it is Stellar Dendrite?",
      answer: "probability is q/(1-p+q)",
      explanation: [
        "Let x be the probability that a snowflake picked from the ground is a 'Stellar Dendrite'.",
        "Thus, when a new snowflake is falling, the last snowflake was Stellar Dendrite with probability x.",
        "This means that the probability the new falling snowflake is Stellar Dendrite = x * p + (1-x) * q.",
        "But, for the composition of the snowflakes on the ground to remain constant, xp+(1-x)q should be same as x",
        "⟹ x = xp + q - xq = x(p-q) + q",
        "⟹ x(1- (p-q)) = q",
        "⟹ x = q/(1-p+q)",
        "This is a kind of steady state analysis. Credit: brainstellar",
      ],
      hint: "Snow-particles are falling on the ground one after another. A particular snowflake turns out to be of type \"Stellar Dendrite\" with probability 'p' if its previous particle was also Stellar Dendrite, and with probability 'q' if previous one was something else. If a snowflake is picked from ground, what is the probability that it is Stellar Dendrite?",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 310,
      question: "After the revolution, each of the 66 citizens of a certain city, including the king, has a salary of 1. King cannot vote, but has the power to suggest changes - namely, redistribution of salaries. Each person's salary must be a whole number of dollars, and the salaries must sum to 66. He suggests a new salary plan for every person including himself in front of the city. Citizens are greedy, and vote yes if their salary is raised, no if decreased, and don't vote otherwise. The suggested plan will be implemented if the number of \"yes\" votes are more than \"no\" votes. The king is both, selfish and clever. He proposes a series of such plans. What is the maximum salary he can obtain for himself?",
      answer: "63",
      explanation: [
        "Continuing from the hint, The king begins by proposing that 33 citizens have their salaries doubled to $2, at the expense of the remaining 33 (himself included). Credit: brainstellar",
      ],
      hint: "After the revolution, each of the 66 citizens of a certain city, including the king, has a salary of 1. King cannot vote, but has the power to suggest changes - namely, redistribution of salaries. Each person's salary must be a whole number of dollars, and the salaries must sum to 66. He suggests a new salary plan for every person including himself in front of the city. Citizens are greedy, and vote yes if their salary is raised, no if decreased, and don't vote otherwise. The suggested plan will be implemented if the number of \"yes\" votes are more than \"no\" votes. The king is both, selfish and clever. He proposes a series of such plans. What is the maximum salary he can obtain for himself?",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 311,
      question: "At a party of N people, there are some friendships. Prove that there are at-least two people with the same count of friends. Assume that N≥2 and that the friendships are symmetric, i.e, if A is friends with B, then B is in turn friends with A.",
      answer: "Since there are N-1 possibilities for friend-count and total N people, atleast two people must have the same count.",
      explanation: [
        "The question can be solved by using the Pigeonhole Principle, which essentially states that if there are Credit: brainstellar",
      ],
      hint: "At a party of NNN people, there are some friendships. Prove that there are at-least two people with the same count of friends. Assume that N≥2N \\ge 2N≥2 and that the friendships are symmetric, i.e, if AAA is friends with BBB, then BBB is in turn friends with AAA.",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 312,
      question: "p and q are two points chosen at random between 0 & 1. What is the probability that the ratio p/q lies between 1 & 2?",
      answer: "0.25",
      explanation: [
        "Assume that the points are x & y respectively.",
        "We want to know if x/y is between 1 and 2.",
        "If we plot this, the limits are x/y = 1 and x/y = 2.",
        "Thus, the desired region is the area between lines y = x & y = x/2.",
        "This region is 1/4 th of the rest. Credit: brainstellar",
      ],
      hint: "p and q are two points chosen at random between 0 & 1. What is the probability that the ratio p/q lies between 1 & 2?",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 314,
      question: "Roll a die, and you get paid what the dice shows. But if you want, you can request a second chance & roll the die again; get paid what the second roll shows instead of the first. What is the expected value?",
      answer: "4.25",
      explanation: [
        "Let's compute the expected value of a single roll first.",
        "A fair six-sided die has outcomes 1 through 6 each with probability 1/6.",
        "So the expected value of a single roll is: 1/6 * 1 + 1/6 * 2 + 1/6 * 3 + 1/6 * 4 + 1/6 * 5 + 1/6 * 6 = 3.5",
        "Now, for the strategy where we can roll a second time, the optimal strategy is to roll again when the first roll is below the expected value (i.e., 1, 2, or 3) because on average, the second roll should be higher.",
        "So, if we roll a 1, 2, or 3, we should roll again, and the expected value of that roll is again 3.5.",
        "If we roll a 4, 5, or 6, we should keep it.",
        "Therefore, the expected value of the game under this optimal strategy is:",
        "1/6 * 3.5 + 1/6 * 3.5 + 1/6 * 3.5 + 1/6 * 4 + 1/6 * 5 + 1/6 * 6 = 25.5/6 = 4.25",
        "So, the expected payout under the optimal strategy of re-rolling when the first roll is 1, 2, or 3 is $4.25.",
        "Follow up question: What if you are allowed to roll the dice as many times as you want? What is the expected value of the game?",
        "Answer: 6",
        "Solution: If the number is not 6, you can request a retry. Stop only when the value is equal to 6. Credit: brainstellar",
      ],
      hint: "Roll a die, and you get paid what the dice shows. But if you want, you can request a second chance & roll the die again; get paid what the second roll shows instead of the first. What is the expected value?",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 315,
      question: "A very innocent monkey throws a fair die. The monkey will eat as many bananas as are shown on the die, from 1 to 5. But if the die shows '6', the monkey will eat 5 bananas and throw the die again. This may continue indefinitely. What is the expected number of bananas the monkey will eat?",
      answer: "4",
      explanation: [
        "Method 1: The intuition is that either the die is thrown only once, or Credit: brainstellar",
      ],
      hint: "A very innocent monkey throws a fair die. The monkey will eat as many bananas as are shown on the die, from 1 to 5. But if the die shows '6', the monkey will eat 5 bananas and throw the die again. This may continue indefinitely. What is the expected number of bananas the monkey will eat?",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 316,
      question: "What is the expected number of coin tosses required to get N consecutive heads? Denote the term by E_N",
      answer: "Recurrence form: E_N = 2E_{N-1} + 2; Closed form: E_N = 2^{N+1}-2",
      explanation: [
        "Method 1: We can simply reuse the method from problem \"Innocent Monkey\" (the law of total probability)",
        "Define let X_N = number of tosses to get N consecutive heads",
        "E_N = expected number of coin tosses we require from now on, to get N consecutive heads.",
        "Note that if we already have N-1 Heads, then with probability (1/2), we can get N consecutive heads, and with probability (1/2), we get a tail, and the state is reset.",
        "E_N = 1/2(E_{(N-1)} + 1) + 1/2(E_{N-1} + 1 + E_N)",
        "the extra 1 is because we just used a toss",
        "E_N = 2E_{N-1} + 2",
        "This is a recurrence relation and a good enough solution.",
        "But we can solve this into its closed form too.",
        "The right way to solve this is by using generating functions or characteristic equations.",
        "But we will use a Credit: brainstellar",
      ],
      hint: "What is the expected number of coin tosses required to get NNN consecutive heads? Denote the term by ENE_NEN",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 317,
      question: "A chess tournament has K levels and N=2^K players with skills P1>P2>...>P_N. At each level, random pairs are formed and one person from each pair proceeds to the next level. When two opponents play, the one with the better skills always wins. What is the probability that players P1 and P2 will meet in the final level?",
      answer: "N/(2(N-1))",
      explanation: [
        "Consider K = 1, N = 2, the probability is 1.",
        "Consider K = 2, N = 4; the first round can be in the following ways:",
        "(P_1 × P_2) × (P_3 × P_4), (P_1 × P_3) × (P_2 × P_4), (P_1 × P_4) × (P_2 × P_3)",
        "They don't meet in finals in the first case (out of a total of three).",
        "Thus, for K = 2, N = 4, the probability that they meet is 2/3.",
        "Assume that instead of forming random pairs at each level, we have already constructed a \"tournament tree\", which is a binary tree.",
        "At the bottom of this structure, we have the initial N players.",
        "Each node represents the match between the two children (players), and the value of each node is the player who won that match.",
        "The value of the top-level root node is the overall winner of the tournament.",
        "With this image, we can see the whole tournament is deterministic and only depends on the initial arrangement of players (at the bottom level).",
        "We also notice that the two players who reach the final level are the best players of the left half of the tree and the right of the tree (respectively).",
        "Imagine N players getting partitioned into two groups of N/2 players each, with player P_1 topping in the first group and player P_2 in the second.",
        "The best player of each partition reaches the final.",
        "The probability that a random partition separates player P_1 from P_2 is (N/2)/(N-1)",
        "Here's how: There are N empty slots in a sequence at the bottom layer of the tournament tree.",
        "We can start assigning players from P_1.",
        "Suppose P_1 is assigned to a slot in the first half.",
        "For P_2, there are total N-1 slots remaining, and N/2 are in a new group (that does not contain P_1).",
        "Hence, there are (N/2) favorable choices and N-1 total choices.",
        "Hence the probability is N/(2(N-1))",
        "Note: The question says that we are forming random pairs at each level. But that is equivalent to retroactively constructing the bottom-layer of the tournament tree, in any desirable fashion.",
        "For example, consider at the i th level, we randomly decide to match P_j with P_k, even though they were not siblings in the tree at that level.",
        "That's fine, we can modify the tree such that now P_j and P_k are siblings, while keeping the entire branch below each of those nodes intact. Credit: brainstellar",
      ],
      hint: "A chess tournament has KKK levels and N=2KN = 2^KN=2K players with skills P1>P2>...>PNP_1 > P_2 > ... >P_{N}P1​>P2​>...>PN​. At each level, random pairs are formed and one person from each pair proceeds to the next level. When two opponents play, the one with the better skills always wins. What is the probability that players P1P_1P1​ and P2P_2P2​ will meet in the final level?",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 318,
      question: "A coin is tossed 10 times and the output written as a string. What is the expected number of HH? Note that in HHH, number of HH = 2. (eg: expected number of HH in 2 tosses is 0.25, 3 tosses is 0.5)",
      answer: "",
      explanation: [
        "Let the expected number of HH for n tossed is E(n).",
        "So, probability that an (n-1) toss experiments, ends in T is 1/2.",
        "So, E(n) = 1/2 * E(n-1) + 1/2 * (1/2 * (E(n-1)+1) + 1/2 * (E(n-1)))",
        "(The first case when it ends in T. & The second case when it ends in H.",
        "In the second case, if you get an H then, you get 1 Credit: brainstellar",
      ],
      hint: "A coin is tossed 10 times and the output written as a string. What is the expected number of HH? Note that in HHH, number of HH = 2. (eg: expected number of HH in 2 tosses is 0.25, 3 tosses is 0.5)",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 319,
      question: "The stick drops and breaks at a random point distributed uniformly across the length. What is the expected length of the smaller part?",
      answer: "",
      explanation: [
        "The probability that the break point belongs to first half is 1/2.",
        "In this case, the expected length of the small part is L/4.",
        "Its L/4 in the other case too.",
        "Hence E = 1/2 * L/4 + 1/2 * L/4 = L/4 Credit: brainstellar",
      ],
      hint: "The stick drops and breaks at a random point distributed uniformly across the length. What is the expected length of the smaller part?",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 401,
      question: "An ant is standing on one corner of a cube & can only walk on the edges. The ant is drunk and from any corner, it moves randomly by choosing any edge! What is the expected number of edges the ant travels, to reach the opposite corner?",
      answer: "10",
      explanation: [
        "We can define 4 equivalent states, based on the corner the Ant is at:",
        "Starting corner.",
        "Corner adjacent to the starting corner.",
        "Corner that shares an edge with the opposite corner.",
        "The opposite corner.",
        "We can represent the expected number of steps E_i from each state as follows:",
        "E_0 = 1 + 1/3(E_1 + E_1 + E_1)",
        "E_1 = 1 + 1/3(E_0 + E_2 + E_2)",
        "E_2 = 1 + 1/3(E_1 + E_1 + E_3)",
        "E_3 = 0 (already reached the destination)",
        "Solving this we find E_0 = 10",
        "Calculations:",
        "⟹ E_0 = 1 + E_1 & E_2 = 1 + 2/3 * E_1",
        "Substitute E_0 and E_2 in the middle equation.",
        "⟹ 3E_1 = 3 + (1 + E_1) + 2(1 + 2/3 E_1)",
        "⟹ 3E_1 = 4 + E_1 + 2 + 4/3 E_1",
        "⟹ 2/3 E_1 = 6 ⟹ E_1 = 9 ⟹ E_0 = 10 Credit: brainstellar",
      ],
      hint: "An ant is standing on one corner of a cube & can only walk on the edges. The ant is drunk and from any corner, it moves randomly by choosing any edge! What is the expected number of edges the ant travels, to reach the opposite corner?",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 402,
      question: "What is the expected distance of any point on Earth and the north pole? Take Earth radius 1. Clarification: Shortest distance cuts through the sphere, instead of lying on surface. Further thinking: Is this question same as choosing two random points on unit sphere and asking their expected distance?",
      answer: "4/3",
      explanation: [
        "2 * sin(x/2) is the distance of north pole from a point on the ring at angle x from the z axis.",
        "So, integrate from 0 to pi, (2 * pi * sin(x) * 2 * sin(x/2) dx) and divide by the total area which is 4 * pi.",
        "Answer: 4/3",
        "Another approach is to imagine a horizontal ring of dy thickness at distance y from N (north pole).",
        "Area of ring = 2 * pi * dy",
        "Probability of choosing point on this ring = dy/2",
        "Distance of N & a point on ring = sqrt(2y)",
        "Exp length = integral (y=0 to 2) of sqrt(2y) dy/2 = 4/3",
        "And yes, taking two random points on surface of sphere and asking their expected distance is same as this very question. Credit: brainstellar",
      ],
      hint: "What is the expected distance of any point on Earth and the north pole? Take Earth radius 1. Clarification: Shortest distance cuts through the sphere, instead of lying on surface. Further thinking: Is this question same as choosing two random points on unit sphere and asking their expected distance?",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 403,
      question: "A stick is broken into 3 pieces, by randomly choosing two points along its unit length, and cutting it. What is the expected length of the middle part?",
      answer: "1/3",
      explanation: [
        "Double integral of |x-y|dxdy gives 1/3 as answer.",
        "This is same as one would expect from a broken pencil.",
        "Palak's Solution: Integrate from 0 to 1, x * x/2 + (1-x) * (1-x)/2 = 1/3",
        "logic: if one cut is at distance x from left, with probability x, the second cut comes before it, and expected length of middle piece is x/2.. Credit: brainstellar",
      ],
      hint: "A stick is broken into 3 pieces, by randomly choosing two points along its unit length, and cutting it. What is the expected length of the middle part?",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 404,
      question: "There are n letters and n envelopes. You put the letters randomly in the envelopes so that each letter is in one envelope. (Effectively a random permutation of n numbers chosen uniformly). Calculate the expected number of envelopes with the correct letter inside them.",
      answer: "1",
      explanation: [
        "Let X_i be the indicator random variable such that: 1 if the i th letter ends up in the i th envelope. 0 otherwise",
        "E[X_i] = P(X_i = 1) = 1/n for any i",
        "let X be the number of letters that ended up in their respective envelopes.",
        "Now, X = X_1 + X_2 + … + X_n",
        "E[X] = E[∑_{i=1}^{n} X_i] = ∑_{i=1}^{n} E[X_i] (Using Linearity of Expectations)",
        "= ∑_{i=1}^{n} (1/n) = 1",
        "Therefore, we expect on average one letter to be in the correct envelope. Credit: brainstellar",
      ],
      hint: "There are nnn letters and nnn envelopes. You put the letters randomly in the envelopes so that each letter is in one envelope. (Effectively a random permutation of nnn numbers chosen uniformly). Calculate the expected number of envelopes with the correct letter inside them.",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 405,
      question: "A soda company is holding a contest where everyone who collects one each of N different coupons wins some prize. You get a coupon with each purchase of a soda, and each coupon is equally likely. What's the expected number of soda bottles you have to buy in order to collect all the coupons?",
      answer: "",
      explanation: [
        "Divide the whole process in to stages. Each stage ends with collecting a coupon which is new (different from the coupons we already have)",
        "Let C_i be the random variable which denotes the number of coupons we buy in the stage i.",
        "Let C be the random variable which denotes the number of coupons we buy in order to get all n coupons",
        "Now, C= C_1 + C_2 + ... + C_n",
        "Note C_1 = 1;",
        "In general, while we are during stage i, we already have with us (i-1) different coupons.",
        "So, the probability of getting a new coupon is p_i = n-(i-1)/n.",
        "Also note that each C_i is a Geometrically distributed random variable with success probability equal to p_i.",
        "So, E(C_i) = 1/p_i = n/(n-i+1).",
        "By using Linearity of Expectations, E(C) = E(C_1) +E(C_2) + ...+E(C_n) = n(1/n + 1/(n-1)+ ... +1) ~ nlogn. Credit: brainstellar",
      ],
      hint: "A soda company is holding a contest where everyone who collects one each of N different coupons wins some prize. You get a coupon with each purchase of a soda, and each coupon is equally likely. What's the expected number of soda bottles you have to buy in order to collect all the coupons?",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 406,
      question: "You have 100 noodles in your soup bowl. You are told to take two ends of some noodles (each end on any noodle has the same probability of being chosen) in your bowl and connect them. You continue until there are no free ends. What is the expected number of loops? What is the probability of making one large loop which includes every noodle?",
      answer: "= 1/(2N-1) + 1/(2N-3) + ... + 1/3 + 1 where N = 100. This formula can also be proved using induction. Calculating Probability of single large loop: If you followed last result, this one is simple, this time all the identitiy variables are zero except last one. Thus probability is [1 - 1/(2N-1)] * [1 - 1/(2N-3)] * ... * [1-1/3] = Product (i = 2 to N) [(2i-2)/(2i-1)]",
      explanation: [
        "First calculate expected number of loops:",
        "Denote X1 = identity variable, which takes value 1 every time a (long) noodle becomes a loop by connecting to its end, (if its own end is connected to some other noodle, then that other noodle's end will be considered).",
        "Thus, number of loops = X1 +...+ X100, thus, expected number of loops = E(X1) + ... + E(X100).",
        "This will give answer = 1/(2N-1) + 1/(2N-3) + ... + 1/3 + 1 where N = 100.",
        "This formula can also be proved using induction.",
        "Calculating Probability of single large loop:",
        "If you followed last result, this one is simple, this time all the identitiy variables are zero except last one.",
        "Thus probability is [1 - 1/(2N-1)] * [1 - 1/(2N-3)] * ... * [1-1/3] = Product (i = 2 to N) [(2i-2)/(2i-1)] Credit: brainstellar",
      ],
      hint: "You have 100 noodles in your soup bowl. You are told to take two ends of some noodles (each end on any noodle has the same probability of being chosen) in your bowl and connect them. You continue until there are no free ends. What is the expected number of loops? What is the probability of making one large loop which includes every noodle?",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 407,
      question: "Given the set of numbers from 1 to n: {1, 2, 3 .. n} We draw n numbers randomly (with uniform distribution) from this set (with replacement). What is the expected number of distinct values that we would draw?",
      answer: "E(n) = n[1-(1-1/n)^n]",
      explanation: [
        "Notice that number of distinct points in the produced set is same as number of distinct points selected from the given set {1..n}.",
        "For that we denote indicator function Si, that is, Si = 1 if the interger i is taken into produced set.",
        "Let S denote the number of distinct points selected, S = S1+..+Sn",
        "E(S) = E(S1) +...+ E(Sn) and E(Si) = 1 * P(Si) = 1 - (Probability that 'i' is not chosen in any draw) = 1 - (Prob that is i is not chosen in one 1st draw)^n = 1 - (1 - 1/n)^n",
        "Thus E(S) = n * (1 - ((n-1)/n)^n) Credit: brainstellar",
      ],
      hint: "Given the set of numbers from 1 to n: { 1, 2, 3 .. n } We draw n numbers randomly (with uniform distribution) from this set (with replacement). What is the expected number of distinct values that we would draw?",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 408,
      question: "What is the expected number of cards that need to be turned over in a regular 52-card deck in order to see the first ace?",
      answer: "53/5",
      explanation: [
        "Define X1,X2…X48, such that Xi = 1 if ith card turns over before 4 aces, 0 otherwise.",
        "Thus, total number of cards turned to see first ace = 1 + sum (Xi)",
        "using linearity of expectation, E(X) = 1 + sum (E(Xi))",
        "Now consider the ith card and the four aces, all the orders are equally likely:",
        "X,A,A,A,A Or A,X,A,A,A, or 3 others.",
        "They are equally likely when we have no knowledge about position of these Aces with respect of the deck.",
        "Hence we have 5 equally likely slots for ith card: 1 A 2 A 3 A 4 A 5.",
        "We are interested in 1st slot.",
        "Hence E(Xi) = 1/5 for all i = 1 to 48",
        "Thus E(X) = 1 + 48/5 = 53/5 = 10.6",
        "This can be done by recursive equation f(n) = (4/n) * 1 + ((n-4)/n) * (1+f(n-1)), where f(n)=expected cards to flip in a deck of n cards, but I definitely can't solve this without a computer.",
        "A shorter explanation is to consider the 52 cards uniformly distributed over (0,1), so on average they're at k/53 for k=1,2,3,…,52.",
        "The four aces are on average at 1/5, 2/5, 3/5, 4/5.",
        "So 0.2=k/53 implies k=10.6, done! Credit: brainstellar",
      ],
      hint: "What is the expected number of cards that need to be turned over in a regular 52-card deck in order to see the first ace?",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 409,
      question: "x & y are two random points selected uniformly between 0 & 1. Using them, create a point uniformly random in a circle of radius 1. (uniform means that the probability density is constant)",
      answer: "θ = 2πx and r = √y, then take the point as (r cos(θ), r sin(θ))",
      explanation: [
        "We could generate a random point in the square and reject it if it is not in the circle.",
        "However, the question asks to transform the point, not filter it.",
        "We need to somehow manipulate the given random point (x, y)",
        "Initial Misstep: The coordinates of the point in the circle are then given by (r cos(θ), r sin(θ)) where r is the radius and θ is the angle.",
        "Thus, we can use polar coordinates, x can be converted to the angle and y can be used as the radius.",
        "Let θ = 2πx, its value ranged between 0 to 2π",
        "Let r = y, the radius in the polar coordinates, its value is between 0 and 1.",
        "The Polar Coordinate (r, θ) can be converted to the cartesian coordinate.",
        "Thus, (y cos(2πx), y sin(2πx)) will generate a random point within the disk of radius 1.",
        "However, to ensure uniform distribution, we can't just take r = y.",
        "This is because points near the center of the circle are much Credit: brainstellar",
      ],
      hint: "xxx & yyy are two random points selected uniformly between 000 & 111. Using them, create a point uniformly random in a circle of radius 111. (uniform means that the probability density is constant)",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 410,
      question: "N points are chosen at random on the circumference of a circle. A convex n-gon (n sided polygon) is drawn by joining these n points. What is the probability that the center of circle lies inside the region of n-gon?",
      answer: "1 - nP where P = 1/2^{n-1}",
      explanation: [
        "For a polygon inscribed in a circle to exclude the center of that circle, there must be a straight line that can be drawn through the center of the circle such that all vertices (points) of the polygon are on one side of that line.",
        "In terms of the circle, this line is a diameter, and all the points are within a semi-circle.",
        "Thus, the polygon excludes the center if and only if all points are within a semi-circle.",
        "This is easier to check.",
        "Suppose we lock the first point (at random), imagine a semi-circular arc that starts from this point, in a clockwise direction around the circle.",
        "We want to know if the Credit: brainstellar",
      ],
      hint: "N points are chosen at random on the circumference of a circle. A convex nnn-gon (n sided polygon) is drawn by joining these n points. What is the probability that the center of circle lies inside the region of nnn-gon?",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 412,
      question: "On pressing a button, a random number is generated uniformly between 0 & 1. You keep on generating these numbers until their sum exceeds 1. What is the probability that you need to press the button more than n times? What is the expected number of times you need to press the button?",
      answer: "Probability: 1/n!; Expected times: e",
      explanation: [
        "Probability of Credit: brainstellar",
      ],
      hint: "On pressing a button, a random number is generated uniformly between 0 & 1. You keep on generating these numbers until their sum exceeds 1. What is the probability that you need to press the button more than n times? What is the expected number of times you need to press the button?",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 413,
      question: "You are initially located at the origin on the x-axis. You start a random walk with an equal probability of moving left or right, one step at a time. What is the probability that you will reach point a before reaching point −b? Assume a and b are natural numbers. a>1;b>1",
      answer: "b/(a+b)",
      explanation: [
        "Probability: Let us assume that we stop walking the moment we reach any of a or −b.",
        "As we keep walking randomly, we'll eventually hit one of the two points, and the game will surely end.",
        "Suppose P_a is the probability that we end at a, and (1 - P_a) is the probability that we end with −b.",
        "Let X be the position on the x-axis at the end of this game.",
        "E[X] = a * P_a + (-b) * (1 - P_a)",
        "Also note that the walk is symmetric (equal probability in either direction), so, logically, E[X] = 0",
        "0 = a * P_a - b * (1 - P_a)",
        "Solve to get P_a = b/(a + b)",
        "Follow up Question: What is the expected number of steps to reach either a or −b?",
        "Follow up Solution: Warning: This solution uses the knowledge of Martingales and advanced stochastic theory.",
        "In probability theory, a Martingale is a model of a fair game where knowledge of past events does not help to predict the mean of the future winnings, and where the expected value of the Credit: brainstellar",
      ],
      hint: "You are initially located at the origin on the xxx-axis. You start a random walk with an equal probability of moving left or right, one step at a time. What is the probability that you will reach point aaa before reaching point −b-b−b? Assume aaa and bbb are natural numbers. a>1;b>1a >1; b > 1a>1;b>1",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 414,
      question: "You are taking out candies one by one from a jar that has 10 red candies, 20 blue candies, and 30 green candies in it. What is the probability that there is at least 1 blue candy and 1 green candy left in the jar when you have taken out all the red candies? Assume that the candies of the same color are indistinguishable from one another.",
      answer: "7/12",
      explanation: [
        "30/60 * 20/30 + 20/60 * 30/40 = 7/12",
        "We will reach this formula by considering the complete sequence of 60 candies.",
        "Any scenario that satisfies the given question will match one of the following two:",
        "The 60th candy in this sequence is green, and some blue candy exists before this and after the last red candy.",
        "The 60th candy is blue, and some green candy exists before this and after the last red candy.",
        "In the first scenario, let G be the event that the 60th candy is green.",
        "Let B* be the event that there is a blue candy before that but after the last red.",
        "Since these two events are not independent, we want to calculate:",
        "P(G ∩ B*) = P(G) * P(B* | G)",
        "P(G) = 30/60 because the 60th candy will be one of 30 greens, and there are a total of 60 choices.",
        "P(B* | G) is the probability of finding a blue candy after the last red, given that the 60th candy is green.",
        "Now remove all green candies from consideration, there are 30 candies (10 red & 20 blue).",
        "Imagine a random sequence of these 30 candies (it might be scattered anywhere from position 1 to 59, but still, it is a random sequence of 30 candies only).",
        "The probability that the 30th one of these is blue is 20/30.",
        "Thus P(G ∩ B*) = (30/60) * (20/30). Credit: brainstellar",
      ],
      hint: "You are taking out candies one by one from a jar that has 101010 red candies, 202020 blue candies, and 303030 green candies in it. What is the probability that there is at least 111 blue candy and 111 green candy left in the jar when you have taken out all the red candies? Assume that the candies of the same color are indistinguishable from one another.",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 415,
      question: "An aircraft hovers above sea, trying to catch a submarine moving with a constant velocity under the sea. The submarine is completely invisible, but using a human radar only once, the aircraft knows the exact location of submarine under the sea. The direction of submarine is unknown, but constant. The aircraft can move at twice the speed of submarine. As soon as the aircraft is just vertically above the submarine, Aircrafet can magnetically pick it up. How does the aircraft catch the submarine? How much time ill it take?",
      answer: "Let Op, Os be the initial positions of the plane and the submarine, resp. For time t0 = d/(s+p), the plane will move towards Os in the OpOs direction. After that, with Os as the origin, the plane will maintain a constant velocity of s along the radial direction. Thus, at an angle theta from OpOs, tangential displacement in time dt is sqrt(p^2-s^2) * dt = r * d(theta) = s * t * d(theta) => dt/t = s/sqrt(p^2-s^2) * d(theta). Integrating t from t0 to tf, and theta from 0 to 2 * pi, we get tf = t0 *",
      explanation: [
        "Let speed of plane be 2s, submarine: s, original distance d",
        "Locus of submarine after time t is circle of radius s * t centered at original location of submarine.",
        "Thus the plane moves 2/3 distance towards submarine, and then spirals out by increasing radius with speed 's'.",
        "The submarine is caught after one round.",
        "For General case, with speeds p > s, see Palak's Answer:",
        "Let Op, Os be the initial positions of the plane and the submarine, resp.",
        "For time t0 = d/(s+p), the plane will move towards Os in the OpOs direction.",
        "After that, with Os as the origin, the plane will maintain a constant velocity of s along the radial direction.",
        "Thus, at an angle theta from OpOs, tangential displacement in time dt is sqrt(p^2-s^2) * dt = r * d(theta) = s * t * d(theta) => dt/t = s/sqrt(p^2-s^2) * d(theta).",
        "Integrating t from t0 to tf, and theta from 0 to 2 * pi, we get tf = t0 * exp[2 * pi * s/sqrt(p^2-s^2)] = [d/(s+p)] * exp[2 * pi * s/sqrt(p^2-s^2)].",
        "Note that the plane can be vertically above the submarine any time between t0 and tf, depending on the direction theta of the velocity of the submarine wrt OpOs, thus making tf the worst case time. Credit: brainstellar",
      ],
      hint: "An aircraft hovers above sea, trying to catch a submarine moving with a constant velocity under the sea. The submarine is completely invisible, but using a human radar only once, the aircraft knows the exact location of submarine under the sea. The direction of submarine is unknown, but constant. The aircraft can move at twice the speed of submarine. As soon as the aircraft is just vertically above the submarine, Aircrafet can magnetically pick it up. How does the aircraft catch the submarine? How much time ill it take?",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 416,
      question: "A spy is located on a one-dimensional line. At time 0, the spy is at location A. With each time interval, the spy moves B units to the right (if B is negative, the spy is moving left). A and B are fixed integers, but they are unknown to you. You are to catch the spy. The means by which you can attempt to do that is: at each time interval (starting at time 0), you can choose a location on the line and ask whether or not the spy is currently at that location. That is, you will ask a question like \"Is the spy currently at location 27?\" and you will get a yes/no answer. Devise an algorithm that will eventually find the spy",
      answer: ". Devise an algorithm that will eventually find the spy",
      explanation: [
        "Here is a detailed solution with images",
        "And here is a short solution:",
        "Since integer 2-tuples (x, y) are countable, there exists a function f: N → N*N such that f covers all integer 2-tuples.",
        "Let f(n) = (f_1(n), f_2(n)).",
        "The algorithm will be to check for location f_1(n) + n * f_2(n) at time instant n.",
        "Given A and B, there exists n_0 such that f(n_0) = (f_1(n_0), f_2(n_0)) = (A, B), and thus at time instant n_0 we will be checking for location f_1(n_0) + n_0 * f_2(n_0) which is = A + B * n_0 - the actual location of the spy. Credit: brainstellar",
      ],
      hint: "A spy is located on a one-dimensional line. At time 0, the spy is at location A. With each time interval, the spy moves B units to the right (if B is negative, the spy is moving left). A and B are fixed integers, but they are unknown to you. You are to catch the spy. The means by which you can attempt to do that is: at each time interval (starting at time 0), you can choose a location on the line and ask whether or not the spy is currently at that location. That is, you will ask a question like \"Is the spy currently at location 27?\" and you will get a yes/no answer. Devise an algorithm that will eventually find the spy",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 419,
      question: "You are given N coins which look identical (assume N = 2^k). But actually some of them are pure gold coins (hence are heavy) and the rest are aluminum coins with thin gold plating (light). You are given one beam balance with two pans. What is the number of weighing required to separate the gold from fake coins? (all gold coins have equal weights & all fake coins too have the same weight)",
      answer: "",
      explanation: [
        "It takes about (log N)^2 operations:",
        "Divide the set of 2^k with d heavy coins into two sets, each with 2^(k-1) coins with floor(d/2) heavy coins.",
        "If we can do this, we can determine the number of heavy coins in O(log n)^2 operations.",
        "Dividing the set can be done in O(log n).",
        "(*Later) So, T(n) = T(n/2) + O(log n) T(n) = O(log^2 n).",
        "To be exact, this is k*(k+1)/2. where k = log N",
        "(*Sub-Algorithm) Divide the set into two sets A and B of equal number of coins.",
        "Let A greater than B and to make both side of equal weight, I need to shift few coins from A to B and equal number of coins from B to A.",
        "So divide A into A1 and A2, and B into B1 and B2.",
        "Move A2 from A into B and B1 from B into A now if (A1,B1) is greater than (B2,A2) then I have not moved enough coins from A into B so as to make B part heavy enough hence you divide A1 into A11,A12 and move A12 in B side Credit: brainstellar",
      ],
      hint: "You are given N coins which look identical (assume N = 2^k). But actually some of them are pure gold coins (hence are heavy) and the rest are aluminum coins with thin gold plating (light). You are given one beam balance with two pans. What is the number of weighing required to separate the gold from fake coins? (all gold coins have equal weights & all fake coins too have the same weight)",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 420,
      question: "Two immensely intelligent players, A & B, engage in a game, the rules of which are as follows. For a natural number N, the board consists of numbers from 1 to N. Each player takes turns to strike off a (new) number from the board. But, to make sure N doesn't affect who wins, there is an added rule. Once you strike off a number, you also have to strike off all its divisors in that same chance, irrespective of whether any of those divisors were already marked. The player to strike off the last number on the board wins. Can A construct a winning strategy? Note: The question asks for the existence of the strategy, not to devise the strategy itself.",
      answer: "For a given N, either A has a winning strategy or B. If B has the strategy, then A can strike 1 and copy B's strategy.",
      explanation: [
        "There is no simple winning strategy, based on the initial number N, that A can use to win the game.",
        "We'll use the common strategy stealing argument.",
        "Determinism: The game can be represented as a tree, where each node represents a possible state of the game, and the children represent valid moves to the Credit: brainstellar",
      ],
      hint: "Two immensely intelligent players, A & B, engage in a game, the rules of which are as follows. For a natural number NNN, the board consists of numbers from 111 to NNN. Each player takes turns to strike off a (new) number from the board. But, to make sure NNN doesn't affect who wins, there is an added rule. Once you strike off a number, you also have to strike off all its divisors in that same chance, irrespective of whether any of those divisors were already marked. The player to strike off the last number on the board wins. Can A construct a winning strategy? Note: The question asks for the existence of the strategy, not to devise the strategy itself.",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 421,
      question: "N undercover agents have been found in don's lair. Less than half of them are terrorists and the rest are anti-terrorists. The nature of their job is so secret that there is no proof what so ever to testify who is who. Although each of them knows who was actual terrorist and who was anti because they worked in teams. A query consists of asking person i if person j is Anti. Anti will always speak truth but a terrorist may lie to confuse you. The goal is to find out one anti in fewest queries.",
      answer: "is correct. Note that if such chain contains an anti then last person in the chain would be anti. So query person 1 about 2. If answer is yes query person 2 about 3. continue till answer is correct. suppose at some point person i when queried about person j says wrong, in that case remove person i and j from the chain, and continue query process by querying predecessor of i about successor of j. Here note that when we remove person i and j from the chain at-least one of them must be faulty. here",
      explanation: [
        "Please note that this question cannot be solved with any algorithm if terrorists are Credit: brainstellar",
      ],
      hint: "N undercover agents have been found in don's lair. Less than half of them are terrorists and the rest are anti-terrorists. The nature of their job is so secret that there is no proof what so ever to testify who is who. Although each of them knows who was actual terrorist and who was anti because they worked in teams. A query consists of asking person i if person j is Anti. Anti will always speak truth but a terrorist may lie to confuse you. The goal is to find out one anti in fewest queries.",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 210,
      question: "There are 10 black socks and 10 red socks in a cupboard. Your task is to draw a few socks at random, without looking, such that you get at least one matching pair (single color). What's the least number of socks that you need to draw? Assume that there is no left-right distinction in these socks.",
      answer: "3",
      explanation: [
        "The Pigeonhole Principle states that if there are (N+1) pigeons to fit in N holes, at least one hole will have 2 or Credit: brainstellar",
      ],
      hint: "There are 10 black socks and 10 red socks in a cupboard. Your task is to draw a few socks at random, without looking, such that you get at least one matching pair (single color). What's the least number of socks that you need to draw? Assume that there is no left-right distinction in these socks.",
      difficulty: "easy",
      targetTime: 60,
    },
  ] as ProbaQuestion[],
  'trading-intuition': tradingQuestions as TradingQuestion[], // All 38 trading/technical questions
  'ml-questions': mlQuestions as MLQuestion[], // All 41 ML & AI questions
}

export const tradingCategoryLabels: Record<string, string> = {
  'behavioral': 'Behavioral Questions',
  'mental-calculation': 'Mental Calculation',
  'proba-exercises': 'Proba Exercises',
  'brainteaser': 'Brainteaser',
  'trading-intuition': 'Trading Intuition',
  'ml-questions': 'ML Questions',
}

