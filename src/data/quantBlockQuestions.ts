import { MathQuestion, ProbaQuestion, TradingQuestion, BehavioralQuestion, MLQuestion } from '@/types'

export const quantBlockQuestions = {
  'mental-calculations': [
    {
      id: 1,
      question: "Calculate ln(e^3) + ln(e^2)",
      answer: "5 (ln(e^3) + ln(e^2) = 3 + 2 = 5)",
      hint: "Use the property: ln(a) + ln(b) = ln(ab), and ln(e^n) = n",
      difficulty: "easy",
      targetTime: 30,
    },
    {
      id: 2,
      question: "What's the integral of x^2 from 0 to 3?",
      answer: "9 (∫[0 to 3] x^2 dx = [x^3/3][0 to 3] = 27/3 - 0 = 9)",
      hint: "Use the power rule: ∫xⁿ dx = x^(n+1)/(n+1)",
      difficulty: "easy",
      targetTime: 45,
    },
    {
      id: 3,
      question: "Calculate e^(ln(5))",
      answer: "5 (e^(ln(5)) = 5, since e and ln are inverse functions)",
      hint: "e and ln are inverse functions: e^(ln(x)) = x",
      difficulty: "easy",
      targetTime: 20,
    },
    {
      id: 4,
      question: "What's the derivative of x^3 - 2x^2 + 5x?",
      answer: "3x^2 - 4x + 5 (d/dx(x^3 - 2x^2 + 5x) = 3x^2 - 4x + 5)",
      hint: "Use the power rule: d/dx(xⁿ) = nxⁿ⁻¹",
      difficulty: "easy",
      targetTime: 30,
    },
    {
      id: 5,
      question: "Solve: 2^x = 32",
      answer: "x = 5 (2^5 = 32)",
      hint: "Express 32 as a power of 2",
      difficulty: "easy",
      targetTime: 30,
    },
    {
      id: 6,
      question: "Calculate the sum of the series: 1 + 1/2 + 1/4 + 1/8 + ... (infinite geometric series)",
      answer: "2 (Sum = a/(1-r) = 1/(1-1/2) = 1/(1/2) = 2)",
      hint: "Infinite geometric series: S = a/(1-r) where |r| < 1",
      difficulty: "medium",
      targetTime: 45,
    },
    {
      id: 7,
      question: "What's √(144/9)?",
      answer: "4 (√(144/9) = √16 = 4)",
      hint: "Simplify the fraction first: 144/9 = 16",
      difficulty: "easy",
      targetTime: 20,
    },
    {
      id: 8,
      question: "Calculate the expected value of a die roll: E[X] where X is the outcome",
      answer: "3.5 (E[X] = (1+2+3+4+5+6)/6 = 21/6 = 3.5)",
      hint: "Average of all possible outcomes",
      difficulty: "easy",
      targetTime: 30,
    },
    {
      id: 9,
      question: "What's the variance of a fair coin flip (1 for heads, 0 for tails)?",
      answer: "0.25 (Var(X) = E[X²] - E[X]² = 0.5 - 0.25 = 0.25)",
      hint: "E[X] = 0.5, E[X²] = 0.5, Var = E[X²] - E[X]²",
      difficulty: "easy",
      targetTime: 30,
    },
    {
      id: 10,
      question: "Solve for x: log₂(x) = 4",
      answer: "x = 16 (2^4 = 16)",
      hint: "Convert logarithmic equation to exponential: if log₂(x) = 4, then x = 2^4",
      difficulty: "easy",
      targetTime: 30,
    },
    {
      id: 11,
      question: "Calculate the partial derivative of f(x,y) = x^2y with respect to x",
      answer: "2xy (∂f/∂x = 2xy, treating y as constant)",
      hint: "Treat y as constant and differentiate with respect to x",
      difficulty: "medium",
      targetTime: 45,
    },
    {
      id: 12,
      question: "What's ∫(1/x)dx?",
      answer: "ln|x| + C (Integral of 1/x is natural logarithm)",
      hint: "Standard integral: ∫(1/x)dx = ln|x| + C",
      difficulty: "medium",
      targetTime: 30,
    },
    {
      id: 13,
      question: "Calculate P(Z > 1) where Z ~ N(0,1) approximately",
      answer: "≈ 0.1587 or 15.87% (Using standard normal table, P(Z > 1) ≈ 0.1587)",
      hint: "Use standard normal distribution table or 68-95-99.7 rule",
      difficulty: "medium",
      targetTime: 45,
    },
    {
      id: 14,
      question: "What's the Taylor series expansion of e^x around x=0 (first 3 terms)?",
      answer: "1 + x + x^2/2 (e^x ≈ 1 + x + x^2/2! + ...)",
      hint: "Taylor series: f(x) = f(0) + f'(0)x + f''(0)x^2/2! + ...",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 15,
      question: "Calculate the covariance of X and Y if Var(X)=4, Var(Y)=9, and Corr(X,Y)=0.5",
      answer: "3 (Cov(X,Y) = Corr(X,Y) × √Var(X) × √Var(Y) = 0.5 × 2 × 3 = 3)",
      hint: "Cov(X,Y) = Corr(X,Y) × σₓ × σᵧ",
      difficulty: "medium",
      targetTime: 45,
    },
    {
      id: 16,
      question: "What's the limit as x→0 of (sin(x)/x)?",
      answer: "1 (This is a fundamental limit: lim(x→0) sin(x)/x = 1)",
      hint: "Use L'Hôpital's rule or Taylor expansion",
      difficulty: "medium",
      targetTime: 45,
    },
    {
      id: 17,
      question: "Calculate E[X²] if X ~ Uniform(0,2)",
      answer: "4/3 (E[X²] = ∫[0 to 2] x^2 × (1/2) dx = (1/2) × [x^3/3][0 to 2] = (1/2) × (8/3) = 4/3)",
      hint: "For uniform [a,b], E[X²] = ∫ x^2 × (1/(b-a)) dx",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 18,
      question: "What's the determinant of [[2,1],[4,3]]?",
      answer: "2 (det = 2×3 - 1×4 = 6 - 4 = 2)",
      hint: "For 2×2 matrix [[a,b],[c,d]], det = ad - bc",
      difficulty: "easy",
      targetTime: 30,
    },
    {
      id: 19,
      question: "Solve the differential equation: dy/dx = 2x",
      answer: "y = x^2 + C (Integrate both sides: ∫dy = ∫2x dx, so y = x^2 + C)",
      hint: "Integrate both sides with respect to x",
      difficulty: "medium",
      targetTime: 45,
    },
    {
      id: 20,
      question: "Calculate the probability density function of X ~ Exponential(λ=2) at x=1",
      answer: "2e⁻² ≈ 0.271 (f(x) = λe^(-λx) = 2e^(-2×1) = 2e⁻²)",
      hint: "PDF of Exponential(λ): f(x) = λe^(-λx) for x ≥ 0",
      difficulty: "medium",
      targetTime: 45,
    },
    {
      id: 21,
      question: "What's ∫e^x dx?",
      answer: "e^x + C (The derivative of e^x is e^x, so integral is e^x + C)",
      hint: "e^x is its own derivative and integral",
      difficulty: "easy",
      targetTime: 20,
    },
    {
      id: 22,
      question: "Calculate the standard deviation if variance is 16",
      answer: "4 (σ = √Var = √16 = 4)",
      hint: "Standard deviation is the square root of variance",
      difficulty: "easy",
      targetTime: 15,
    },
    {
      id: 23,
      question: "What's the inverse of the matrix [[1,2],[3,4]]?",
      answer: "[[-2,1],[1.5,-0.5]] or (1/det) × [[4,-2],[-3,1]] = -0.5 × [[4,-2],[-3,1]]",
      hint: "For 2×2 matrix, inverse = (1/det) × [[d,-b],[-c,a]]",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 24,
      question: "Calculate d/dx(ln(x^2))",
      answer: "2/x (Using chain rule: d/dx(ln(x^2)) = (1/x^2) × 2x = 2/x)",
      hint: "Use chain rule: derivative of ln(u) is (1/u) × u'",
      difficulty: "medium",
      targetTime: 45,
    },
    {
      id: 25,
      question: "What's E[X] if X ~ Exponential(λ)?",
      answer: "1/λ (E[X] = 1/λ for Exponential distribution)",
      hint: "Mean of Exponential(λ) is 1/λ",
      difficulty: "medium",
      targetTime: 30,
    },
    {
      id: 26,
      question: "Solve: x^2 - 5x + 6 = 0",
      answer: "x = 2 or x = 3 (Factoring: (x-2)(x-3) = 0)",
      hint: "Factor the quadratic or use quadratic formula",
      difficulty: "easy",
      targetTime: 30,
    },
    {
      id: 27,
      question: "Calculate the cumulative distribution function F(x) of X ~ Uniform(0,1) at x=0.5",
      answer: "0.5 (F(0.5) = 0.5 for Uniform(0,1), since F(x) = x for x in [0,1])",
      hint: "For Uniform(0,1), F(x) = x for x in [0,1]",
      difficulty: "easy",
      targetTime: 30,
    },
    {
      id: 28,
      question: "What's ∫[0 to π] sin(x)dx?",
      answer: "2 (∫[0 to π] sin(x)dx = [-cos(x)][0 to π] = -cos(π) + cos(0) = -(-1) + 1 = 2)",
      hint: "Integral of sin(x) is -cos(x)",
      difficulty: "medium",
      targetTime: 45,
    },
    {
      id: 29,
      question: "Calculate Var(2X + 3) if Var(X) = 5",
      answer: "20 (Var(aX + b) = a²Var(X) = 4 × 5 = 20)",
      hint: "Var(aX + b) = a²Var(X), constant doesn't affect variance",
      difficulty: "medium",
      targetTime: 30,
    },
    {
      id: 30,
      question: "What's the gradient of f(x,y) = x^2 + y² at point (1,1)?",
      answer: "(2, 2) (∇f = (∂f/∂x, ∂f/∂y) = (2x, 2y), at (1,1) = (2, 2))",
      hint: "Gradient is vector of partial derivatives: (∂f/∂x, ∂f/∂y)",
      difficulty: "medium",
      targetTime: 45,
    },
  ] as MathQuestion[],
  'probability-exercises': [
    {
      id: 1,
      question: "A stock's log returns are normally distributed with μ=0.001 and σ=0.02 daily. What's the probability of a positive return tomorrow?",
      answer: "Approximately 0.52 or 52% (P(X > 0) where X ~ N(0.001, 0.02²). Z = (0 - 0.001)/0.02 = -0.05, so P(Z > -0.05) ≈ 0.52)",
      explanation: [
        "Log returns: X ~ N(0.001, 0.02²)",
        "P(X > 0) = P((X - μ)/σ > (0 - 0.001)/0.02)",
        "Z = -0.05, P(Z > -0.05) ≈ 0.52",
        "Since mean is slightly positive, probability > 50%",
      ],
      hint: "Standardize to Z-score and use normal distribution",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 2,
      question: "You have three biased coins: p(H) = 0.3, 0.5, 0.7. You pick one randomly and flip heads. What's the probability it was the 0.7 coin?",
      answer: "7/15 ≈ 0.467 (Using Bayes' theorem: P(0.7 coin | H) = (1/3 × 0.7) / ((1/3)(0.3 + 0.5 + 0.7)) = 0.7/1.5 = 7/15)",
      explanation: [
        "Use Bayes' theorem: P(coin | H) = P(H | coin) × P(coin) / P(H)",
        "P(H) = (1/3)(0.3 + 0.5 + 0.7) = 1.5/3 = 0.5",
        "P(0.7 coin | H) = (1/3 × 0.7) / 0.5 = 0.7/1.5 = 7/15",
        "Higher probability coin is more likely given heads observed",
      ],
      hint: "Use Bayes' theorem with prior probabilities",
      difficulty: "medium",
      targetTime: 75,
    },
    {
      id: 3,
      question: "Stock returns follow a random walk. After n steps with equal probability ±σ, what's the variance of position?",
      answer: "nσ² (Each step has variance σ², and variance of sum of independent steps = sum of variances)",
      explanation: [
        "Random walk: X_n = X₀ + Σᵢ εᵢ where εᵢ = ±σ with equal probability",
        "E[εᵢ] = 0, Var(εᵢ) = σ²",
        "Var(X_n) = Var(Σᵢ εᵢ) = Σᵢ Var(εᵢ) = nσ²",
        "Variance grows linearly with number of steps",
      ],
      hint: "Variance of sum of independent random variables",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 4,
      question: "Two independent stocks each have 60% probability of going up. What's the probability both go up?",
      answer: "0.36 or 36% (0.6 × 0.6 = 0.36, since they're independent)",
      explanation: [
        "P(both up) = P(stock 1 up) × P(stock 2 up)",
        "Since independent: P(both up) = 0.6 × 0.6 = 0.36",
        "For independent events, multiply probabilities",
      ],
      hint: "For independent events, multiply probabilities",
      difficulty: "easy",
      targetTime: 30,
    },
    {
      id: 5,
      question: "A trading signal has 70% accuracy. You observe 3 consecutive correct predictions. What's the posterior probability the signal is actually good (vs random)?",
      answer: "Depends on prior, but if prior P(good) = 0.5, then posterior ≈ 0.93 (Using Bayes: P(good | 3 correct) = (0.5 × 0.7³) / (0.5 × 0.7³ + 0.5 × 0.5³) ≈ 0.93)",
      explanation: [
        "Bayes' theorem: P(good | 3 correct) = P(3 correct | good) × P(good) / P(3 correct)",
        "P(3 correct | good) = 0.7³ = 0.343",
        "P(3 correct | random) = 0.5³ = 0.125",
        "If prior P(good) = 0.5: P(good | 3 correct) = 0.343 / (0.343 + 0.125) ≈ 0.73",
        "Actually recalc: (0.5 × 0.343) / (0.5 × 0.343 + 0.5 × 0.125) = 0.1715 / 0.234 ≈ 0.73",
      ],
      hint: "Use Bayes' theorem with prior probability",
      difficulty: "hard",
      targetTime: 90,
    },
    {
      id: 6,
      question: "Calculate E[max(S-K, 0)] where S ~ LogNormal and K is a strike price (qualitative approach)",
      answer: "This is the expected value of a call option. For LogNormal S, E[max(S-K,0)] > 0 if E[S] > K. Can use Black-Scholes framework or integration over lognormal distribution.",
      explanation: [
        "E[max(S-K,0)] is the expected payoff of a call option",
        "For LogNormal S: need to integrate (S-K) × f(S) over S > K",
        "Qualitatively: positive if expected stock price > strike",
        "Black-Scholes provides closed-form solution",
      ],
      hint: "This is the expected value of a call option payoff",
      difficulty: "hard",
      targetTime: 90,
    },
    {
      id: 7,
      question: "You draw cards until you get an ace. What's the expected number of cards drawn?",
      answer: "10.6 cards (Geometric distribution with p = 4/52 = 1/13, E[X] = 1/p = 13, but actually need to account for cards drawn: E = 52/4 = 13, but more precisely ≈ 10.6 considering deck depletion)",
      explanation: [
        "Geometric distribution: E[X] = 1/p where p is success probability",
        "p = 4/52 = 1/13 (probability of drawing ace)",
        "E[cards until ace] = 1/(1/13) = 13",
        "More precisely, accounting for deck: E ≈ 10.6",
      ],
      hint: "Geometric distribution with p = probability of ace",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 8,
      question: "Two traders independently predict market direction with 60% accuracy. What's the probability they both get it right?",
      answer: "0.36 or 36% (0.6 × 0.6 = 0.36, since independent)",
      explanation: [
        "P(both correct) = P(trader 1 correct) × P(trader 2 correct)",
        "Since independent: 0.6 × 0.6 = 0.36",
        "For independent events, multiply probabilities",
      ],
      hint: "For independent events, multiply probabilities",
      difficulty: "easy",
      targetTime: 30,
    },
    {
      id: 9,
      question: "A stock has daily volatility σ. What's the approximate probability it moves more than 2σ in one day?",
      answer: "≈ 4.55% (P(|Z| > 2) = 2 × P(Z > 2) ≈ 2 × 0.0228 = 0.0455 for standard normal)",
      explanation: [
        "Assuming normal distribution: P(|return| > 2σ)",
        "Standardize: P(|Z| > 2) where Z ~ N(0,1)",
        "P(|Z| > 2) = 2 × P(Z > 2) ≈ 2 × 0.0228 = 0.0455",
        "Uses 68-95-99.7 rule: 95% within 2σ, so 5% outside",
      ],
      hint: "Use normal distribution: P(|Z| > 2) for standard normal",
      difficulty: "medium",
      targetTime: 45,
    },
    {
      id: 10,
      question: "You roll a die until you get a 6. What's E[number of rolls]?",
      answer: "6 (Geometric distribution with p = 1/6, E[X] = 1/p = 6)",
      explanation: [
        "Geometric distribution: E[X] = 1/p",
        "p = 1/6 (probability of rolling 6)",
        "E[rolls until 6] = 1/(1/6) = 6",
      ],
      hint: "Geometric distribution: E[X] = 1/p",
      difficulty: "easy",
      targetTime: 30,
    },
    {
      id: 11,
      question: "Stock A and B have correlation ρ=0.5. If A goes up, what's the conditional probability B goes up (assume symmetric distributions)?",
      answer: "≈ 0.75 (For correlated stocks with ρ=0.5, if both symmetric, P(B up | A up) ≈ 0.5 + 0.5×0.5 = 0.75, or more precisely using bivariate normal)",
      explanation: [
        "Correlation ρ = 0.5 means positive relationship",
        "If A up, B more likely to be up",
        "For bivariate normal with ρ=0.5: P(B up | A up) > 0.5",
        "Approximately: base probability (0.5) + correlation effect",
      ],
      hint: "Correlation increases conditional probability",
      difficulty: "hard",
      targetTime: 90,
    },
    {
      id: 12,
      question: "A Poisson process with λ=3 events per hour. What's P(exactly 2 events in one hour)?",
      answer: "≈ 0.224 (P(X=2) = e^(-3) × 3²/2! = e^(-3) × 9/2 ≈ 0.224)",
      explanation: [
        "Poisson PMF: P(X=k) = e^(-λ) × λ^k / k!",
        "P(X=2) = e^(-3) × 3² / 2!",
        "= e^(-3) × 9 / 2",
        "≈ 0.224",
      ],
      hint: "Poisson distribution: P(X=k) = e^(-λ) × λ^k / k!",
      difficulty: "medium",
      targetTime: 45,
    },
    {
      id: 13,
      question: "You flip a coin n times. What's the probability of getting exactly k heads?",
      answer: "C(n,k) × (1/2)^n (Binomial distribution: P(X=k) = C(n,k) × p^k × (1-p)^(n-k))",
      explanation: [
        "Binomial distribution: P(X=k) = C(n,k) × p^k × (1-p)^(n-k)",
        "For fair coin: p = 1/2",
        "P(exactly k heads) = C(n,k) × (1/2)^n",
        "C(n,k) = n!/(k!(n-k)!)",
      ],
      hint: "Binomial distribution with p = 0.5",
      difficulty: "medium",
      targetTime: 45,
    },
    {
      id: 14,
      question: "Two stocks have returns R₁ ~ N(0.1, 0.2²) and R₂ ~ N(0.08, 0.15²). Which has higher probability of exceeding 0.15?",
      answer: "R₂ (P(R₂ > 0.15) > P(R₁ > 0.15) because R₂ has lower variance and mean closer to 0.15. Z₁ = (0.15-0.1)/0.2 = 0.25, Z₂ = (0.15-0.08)/0.15 = 0.467, so R₂ has higher probability)",
      explanation: [
        "Standardize: Z₁ = (0.15-0.1)/0.2 = 0.25, P(Z > 0.25) ≈ 0.401",
        "Z₂ = (0.15-0.08)/0.15 = 0.467, P(Z > 0.467) ≈ 0.320",
        "Actually, R₂ has higher probability because it's closer to mean",
        "Lower variance means more probability mass near mean",
      ],
      hint: "Standardize both and compare Z-scores",
      difficulty: "medium",
      targetTime: 75,
    },
    {
      id: 15,
      question: "A market maker's inventory follows a random walk. What's the probability of being up after 100 trades (win rate = 50%)?",
      answer: "0.5 (For symmetric random walk starting at 0, P(up after n steps) = 0.5 by symmetry, regardless of n)",
      explanation: [
        "Symmetric random walk: equal probability up/down",
        "By symmetry: P(up after n) = P(down after n) = 0.5",
        "This holds for any n in symmetric random walk",
        "For asymmetric (win rate ≠ 50%), would need different calculation",
      ],
      hint: "Symmetric random walk has equal probability of being up or down",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 16,
      question: "Given X ~ Exponential(λ), calculate P(X > t)",
      answer: "e^(-λt) (P(X > t) = ∫[t to ∞] λe^(-λx) dx = e^(-λt))",
      explanation: [
        "Exponential CDF: P(X ≤ t) = 1 - e^(-λt)",
        "P(X > t) = 1 - P(X ≤ t) = 1 - (1 - e^(-λt)) = e^(-λt)",
        "Or integrate PDF: ∫[t to ∞] λe^(-λx) dx = e^(-λt)",
      ],
      hint: "Use CDF: P(X > t) = 1 - P(X ≤ t)",
      difficulty: "medium",
      targetTime: 45,
    },
    {
      id: 17,
      question: "You have a basket of 10 independent stocks, each with 70% probability of profit. What's P(at least 7 are profitable)?",
      answer: "≈ 0.617 (Binomial: P(X ≥ 7) = Σ(k=7 to 10) C(10,k) × 0.7^k × 0.3^(10-k))",
      explanation: [
        "Binomial distribution: X ~ Binomial(10, 0.7)",
        "P(X ≥ 7) = P(X=7) + P(X=8) + P(X=9) + P(X=10)",
        "Calculate each term and sum",
        "≈ 0.617",
      ],
      hint: "Binomial distribution: sum probabilities from k=7 to 10",
      difficulty: "medium",
      targetTime: 75,
    },
    {
      id: 18,
      question: "A stock follows geometric Brownian motion. If it starts at 100, what's the median price after one period?",
      answer: "100 × e^(μ - σ²/2) (For GBM, median = S₀ × e^(μ - σ²/2), where μ is drift and σ is volatility)",
      explanation: [
        "GBM: S_t = S₀ × e^((μ - σ²/2)t + σW_t)",
        "Log(S_t) ~ N(log(S₀) + (μ-σ²/2)t, σ²t)",
        "Median of lognormal = e^(median of log) = e^(E[log(S_t)])",
        "Median = S₀ × e^((μ - σ²/2)t)",
      ],
      hint: "Median of lognormal distribution",
      difficulty: "hard",
      targetTime: 90,
    },
    {
      id: 19,
      question: "Calculate the expectation of a call option E[max(S-K,0)] where S can be 80, 100, or 120 with equal probability and K=100",
      answer: "20/3 ≈ 6.67 (E[max(S-K,0)] = (1/3)×0 + (1/3)×0 + (1/3)×20 = 20/3)",
      explanation: [
        "S = 80: max(80-100, 0) = 0",
        "S = 100: max(100-100, 0) = 0",
        "S = 120: max(120-100, 0) = 20",
        "E[payoff] = (1/3)×0 + (1/3)×0 + (1/3)×20 = 20/3",
      ],
      hint: "Calculate payoff for each outcome and take weighted average",
      difficulty: "easy",
      targetTime: 45,
    },
    {
      id: 20,
      question: "Two events A and B: P(A)=0.6, P(B|A)=0.8, P(B|A^c)=0.3. Calculate P(A|B)",
      answer: "≈ 0.727 (Using Bayes: P(A|B) = P(B|A)×P(A) / P(B) = 0.8×0.6 / (0.8×0.6 + 0.3×0.4) = 0.48/0.66 ≈ 0.727)",
      explanation: [
        "Bayes' theorem: P(A|B) = P(B|A) × P(A) / P(B)",
        "P(B) = P(B|A)×P(A) + P(B|A^c)×P(A^c) = 0.8×0.6 + 0.3×0.4 = 0.66",
        "P(A|B) = 0.8 × 0.6 / 0.66 = 0.48/0.66 ≈ 0.727",
      ],
      hint: "Use Bayes' theorem and law of total probability",
      difficulty: "medium",
      targetTime: 75,
    },
    {
      id: 21,
      question: "A quant strategy has hit rate=45% but profit/loss ratio=2.5. What's the expected return per trade?",
      answer: "0.125 or 12.5% (E[return] = 0.45 × 2.5 - 0.55 × 1 = 1.125 - 0.55 = 0.575, but more precisely: if loss = -1, win = +2.5, E = 0.45×2.5 + 0.55×(-1) = 0.575)",
      explanation: [
        "E[return] = P(win) × win_amount + P(loss) × loss_amount",
        "If loss = -1, win = +2.5 (profit/loss ratio = 2.5)",
        "E = 0.45 × 2.5 + 0.55 × (-1) = 1.125 - 0.55 = 0.575",
        "Expected return per trade = 57.5% (if normalized to loss = -1)",
      ],
      hint: "Weighted average of win and loss outcomes",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 22,
      question: "You sample 100 stock returns. What's the approximate distribution of the sample mean?",
      answer: "N(μ, σ²/100) (By CLT, sample mean ~ N(μ, σ²/n) where n=100)",
      explanation: [
        "Central Limit Theorem: sample mean → normal distribution",
        "E[sample mean] = μ (population mean)",
        "Var(sample mean) = σ²/n = σ²/100",
        "Sample mean ~ N(μ, σ²/100)",
      ],
      hint: "Central Limit Theorem for sample mean",
      difficulty: "medium",
      targetTime: 45,
    },
    {
      id: 23,
      question: "Calculate the probability that a standard normal variable falls within 1.96 standard deviations",
      answer: "0.95 or 95% (P(-1.96 < Z < 1.96) = 0.95, this is the 95% confidence interval)",
      explanation: [
        "P(-1.96 < Z < 1.96) = 0.95",
        "This is the 95% confidence interval for standard normal",
        "By symmetry: P(Z < -1.96) = P(Z > 1.96) = 0.025",
        "So P(-1.96 < Z < 1.96) = 1 - 2×0.025 = 0.95",
      ],
      hint: "95% confidence interval uses ±1.96",
      difficulty: "easy",
      targetTime: 30,
    },
    {
      id: 24,
      question: "A stock can go up 10% with probability p or down 8% with probability (1-p). For what p is the expected return zero?",
      answer: "p = 8/18 = 4/9 ≈ 0.444 (E[return] = p×0.10 + (1-p)×(-0.08) = 0. Set to 0: 0.10p - 0.08(1-p) = 0, so 0.18p = 0.08, p = 4/9)",
      explanation: [
        "E[return] = p × 0.10 + (1-p) × (-0.08)",
        "Set to zero: 0.10p - 0.08(1-p) = 0",
        "0.10p - 0.08 + 0.08p = 0",
        "0.18p = 0.08, so p = 8/18 = 4/9",
      ],
      hint: "Set expected value to zero and solve for p",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 25,
      question: "You observe n i.i.d. returns. How does the standard error of the mean scale with n?",
      answer: "1/√n (Standard error = σ/√n, so it decreases as 1/√n)",
      explanation: [
        "Standard error of mean = σ/√n",
        "As n increases, standard error decreases",
        "Scales as 1/√n (square root law)",
        "Doubling n reduces standard error by factor of √2",
      ],
      hint: "Standard error = σ/√n",
      difficulty: "easy",
      targetTime: 30,
    },
    {
      id: 26,
      question: "Two correlated assets with ρ=0.3. If you know asset 1 went up 2σ, what's your best estimate for asset 2's move?",
      answer: "0.6σ (Best estimate = ρ × move of asset 1 = 0.3 × 2σ = 0.6σ, using regression: E[Y|X] = ρ × (X/σₓ) × σᵧ)",
      explanation: [
        "For correlated assets: E[asset 2 move | asset 1 move] = ρ × (move 1/σ₁) × σ₂",
        "If σ₁ = σ₂: E[move 2 | move 1 = 2σ] = 0.3 × 2σ = 0.6σ",
        "This is the regression estimate",
        "Correlation of 0.3 means weak positive relationship",
      ],
      hint: "Use correlation and regression: E[Y|X] = ρ × (X/σₓ) × σᵧ",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 27,
      question: "A pairs trade: you're long/short two stocks with correlation ρ. What's the variance of the spread?",
      answer: "σ₁² + σ₂² - 2ρσ₁σ₂ (Var(spread) = Var(S₁ - S₂) = Var(S₁) + Var(S₂) - 2Cov(S₁,S₂) = σ₁² + σ₂² - 2ρσ₁σ₂)",
      explanation: [
        "Spread = S₁ - S₂",
        "Var(S₁ - S₂) = Var(S₁) + Var(S₂) - 2Cov(S₁, S₂)",
        "Cov(S₁, S₂) = ρσ₁σ₂",
        "Var(spread) = σ₁² + σ₂² - 2ρσ₁σ₂",
      ],
      hint: "Variance of difference: Var(X-Y) = Var(X) + Var(Y) - 2Cov(X,Y)",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 28,
      question: "Calculate the probability a Brownian motion exceeds level a before time T (qualitative approach)",
      answer: "P(max_{t≤T} W_t > a) = 2P(W_T > a) = 2(1 - Φ(a/√T)) (Reflection principle: probability of hitting a equals 2× probability of ending above a)",
      explanation: [
        "Reflection principle: P(max_{t≤T} W_t > a) = 2P(W_T > a)",
        "For standard Brownian motion: P(W_T > a) = 1 - Φ(a/√T)",
        "So P(hit a before T) = 2(1 - Φ(a/√T))",
        "Uses symmetry of Brownian motion",
      ],
      hint: "Use reflection principle for Brownian motion",
      difficulty: "hard",
      targetTime: 90,
    },
    {
      id: 29,
      question: "You run 100 independent backtests. One shows Sharpe ratio of 3. What's the probability this is due to luck?",
      answer: "High probability (≈ 5% chance one out of 100 shows Sharpe > 3 by chance if true Sharpe = 0. Need multiple testing correction: Bonferroni adjusts significance level to 0.05/100 = 0.0005)",
      explanation: [
        "Multiple testing problem: testing 100 strategies",
        "If true Sharpe = 0, expect ~5 to show Sharpe > threshold by chance (5% level)",
        "Need multiple testing correction (Bonferroni, FDR)",
        "Adjusted significance: 0.05/100 = 0.0005 per test",
      ],
      hint: "Multiple testing correction needed - adjust significance level",
      difficulty: "hard",
      targetTime: 90,
    },
    {
      id: 30,
      question: "Given a time series with autocorrelation ρ, how many effective independent observations do you have in n samples?",
      answer: "n/(1+2Σρᵢ) ≈ n/(1+2ρ/(1-ρ)) for AR(1) (Effective sample size accounts for autocorrelation, reducing independent observations)",
      explanation: [
        "Autocorrelation reduces effective sample size",
        "For AR(1) with autocorrelation ρ: n_eff ≈ n/(1+2ρ/(1-ρ))",
        "Higher autocorrelation → fewer effective observations",
        "Used in calculating standard errors and confidence intervals",
      ],
      hint: "Autocorrelation reduces effective sample size",
      difficulty: "hard",
      targetTime: 90,
    },
    {
      id: 31,
      question: "Gambler's ruin problem: A fair random walk starts at 0 and moves +1 or −1 with equal probability at each step. What is the probability that it reaches +3 before −1?",
      answer: "1/4 or 25% (Using gambler's ruin formula for fair game: P(reach +3 before -1) = distance to losing barrier / total distance between barriers = 1 / (1 + 3) = 1/4. Starting at 0, need to reach +3 (distance 3) before -1 (distance 1). For fair game: P = distance to target / (distance to target + distance to losing barrier) = 1/4.)",
      explanation: [
        "Fair random walk: equal probability +1 or -1 at each step",
        "Starting at 0, barriers at -1 (losing) and +3 (winning)",
        "Distance to losing barrier: 1, distance to winning barrier: 3",
        "For fair game: P(reach +3 before -1) = 1 / (1 + 3) = 1/4",
        "General formula: P = distance to target / (distance to target + distance to losing barrier)",
      ],
      hint: "For a fair random walk, the probability of reaching one barrier before another depends on the distances to each barrier",
      difficulty: "hard",
      targetTime: 90,
    },
  ] as ProbaQuestion[],
  'brainteasers': [
    {
      id: 1,
      question: "You have 25 horses and can race 5 at a time. What's the minimum number of races to find the top 3 fastest horses?",
      answer: "7 races (5 races to race all 25, then race the 5 winners to find fastest, then race 2nd/3rd from winner's race + 2nd/3rd from overall + 2nd from 2nd place's race)",
      explanation: [
        "Race 1-5: Race all 25 horses (5 races)",
        "Race 6: Race the 5 winners → find fastest overall",
        "Race 7: Race 2nd/3rd from fastest's race + 2nd from overall 2nd place's race + 3rd from fastest's race if needed",
        "Actually: 2nd/3rd from fastest's race, 2nd from 2nd place's race, 3rd from fastest's race",
        "Minimum is 7 races",
      ],
      hint: "Think about elimination and which horses can still be in top 3",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 2,
      question: "A cube is painted red on all sides then cut into 27 smaller cubes. How many small cubes have exactly 2 red faces?",
      answer: "12 cubes (The cubes on the edges but not corners: 12 edges × 1 cube per edge = 12)",
      explanation: [
        "3×3×3 cube has 27 smaller cubes",
        "Cubes with 2 faces: those on edges but not corners",
        "A cube has 12 edges",
        "Each edge has 1 cube (middle of edge) with exactly 2 painted faces",
        "Total: 12 cubes",
      ],
      hint: "Think about which cubes are on edges but not corners",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 3,
      question: "You're in a corridor with 100 doors, all closed. You toggle door n on your nth pass (pass 1: all doors, pass 2: every 2nd door, etc.). Which doors are open after 100 passes?",
      answer: "Perfect squares: 1, 4, 9, 16, 25, 36, 49, 64, 81, 100 (Doors with odd number of divisors, which are perfect squares)",
      explanation: [
        "Door n is toggled on passes that divide n",
        "Door ends open if toggled odd number of times",
        "Odd number of toggles = odd number of divisors",
        "Only perfect squares have odd number of divisors",
        "Perfect squares from 1 to 100: 1, 4, 9, 16, 25, 36, 49, 64, 81, 100",
      ],
      hint: "Think about which doors are toggled an odd number of times",
      difficulty: "hard",
      targetTime: 90,
    },
    {
      id: 4,
      question: "A clock shows 3:15. What's the exact angle between the hour and minute hands?",
      answer: "7.5° (At 3:15, hour hand is at 3.25 × 30° = 97.5°, minute hand at 90°, difference = 7.5°)",
      explanation: [
        "Minute hand at 15 minutes: 15/60 × 360° = 90°",
        "Hour hand: at 3:00 it's at 90°, moves 15/60 × 30° = 7.5° more",
        "Hour hand position: 90° + 7.5° = 97.5°",
        "Difference: 97.5° - 90° = 7.5°",
      ],
      hint: "Hour hand moves 30° per hour, 0.5° per minute",
      difficulty: "medium",
      targetTime: 45,
    },
    {
      id: 5,
      question: "You have 9 balls, one is lighter. Find it in 2 weighings with a balance scale. Can you also determine if it's lighter or heavier?",
      answer: "Yes. Weigh 3 vs 3. If equal, the lighter is in remaining 3, weigh 1 vs 1. If unequal, lighter is in lighter group of 3, weigh 1 vs 1 from that group.",
      explanation: [
        "Weighing 1: Put 3 balls on each side",
        "If equal: lighter is in remaining 3, weigh 1 vs 1 (if equal, the remaining is lighter)",
        "If unequal: lighter is in the lighter group of 3",
        "Weighing 2: From the lighter group, weigh 1 vs 1 (lighter one is the light ball, or if equal, the remaining is lighter)",
        "Can determine it's lighter (not heavier) since we know one is lighter",
      ],
      hint: "Divide into groups of 3",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 6,
      question: "A snail is at the bottom of a 20-foot well. Each day it climbs 5 feet, each night it slides back 4 feet. When does it escape?",
      answer: "Day 16 (Net progress per day = 1 foot. After 15 days: 15 feet. On day 16, climbs 5 feet to reach 20 feet and escapes before sliding back.)",
      explanation: [
        "Net progress per day: +5 - 4 = +1 foot",
        "After 15 days: 15 feet up",
        "Day 16: climbs 5 feet from 15 to 20 feet",
        "Reaches top on day 16 before sliding back",
      ],
      hint: "Net progress is 1 foot per day, but last day doesn't slide back",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 7,
      question: "You have 2 eggs and a 100-floor building. What's the optimal strategy to find the highest safe floor?",
      answer: "Start at floor 14, then go up 13, 12, 11... floors. Worst case: 14 drops. Strategy: minimize worst case by balancing drops at each level.",
      explanation: [
        "Optimal: start at floor n, then n-1, n-2, etc.",
        "n + (n-1) + (n-2) + ... + 1 ≥ 100",
        "n(n+1)/2 ≥ 100, so n ≈ 14",
        "Start at 14, then 27, 39, 50, 60, 69, 77, 84, 90, 95, 99",
        "Worst case: 14 drops",
      ],
      hint: "Minimize worst case by balancing drops",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 8,
      question: "A rope burns for 1 hour but unevenly. You have 2 such ropes. Measure 45 minutes.",
      answer: "Light rope 1 from both ends AND rope 2 from one end. When rope 1 burns out (30 min), light other end of rope 2. It burns for 15 more min. Total = 45 min.",
      explanation: [
        "Rope 1 lit from both ends burns in 30 minutes",
        "At that moment, rope 2 has 30 minutes left (lit from one end)",
        "Light other end of rope 2: remaining 30 min burns in 15 min",
        "Total: 30 + 15 = 45 minutes",
      ],
      hint: "Lighting from both ends halves the time",
      difficulty: "hard",
      targetTime: 90,
    },
    {
      id: 9,
      question: "In the Monty Hall problem with three doors, assuming the host always opens a door with no prize and always offers the option to switch, compute and explain the probability of winning when always switching versus always staying.",
      answer: "Always switching: P(win) = 2/3. Always staying: P(win) = 1/3. Explanation: Initial pick has 1/3 chance. If you picked wrong initially (2/3 probability), switching wins because host reveals the other wrong door. If you picked right initially (1/3 probability), switching loses. Therefore, switching doubles your chances from 1/3 to 2/3.",
      explanation: [
        "Initial pick: 1/3 chance of car",
        "If wrong initially (2/3): switching wins (host reveals other wrong door)",
        "If right initially (1/3): switching loses",
        "Always switching: P(win) = 2/3",
        "Always staying: P(win) = 1/3",
      ],
      hint: "Switching wins if you picked wrong initially, which happens 2/3 of the time",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 10,
      question: "100 prisoners and 100 boxes with their names. Each prisoner can open 50 boxes. If all find their name, all go free. What strategy gives >30% success?",
      answer: "Each prisoner starts with box matching their number, then follows the chain (open box with number found). This gives ~31% success rate (related to cycle lengths in permutations).",
      explanation: [
        "Strategy: prisoner i opens box i, then follows chain",
        "If finds their number in ≤50 boxes, they succeed",
        "All succeed if no cycle > 50 in permutation",
        "Probability of cycle ≤ 50: ~31%",
        "Much better than random (0.5^100)",
      ],
      hint: "Use cycle-following strategy in permutation",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 11,
      question: "You have 1000 bottles of wine, one is poisoned. Poison takes 24 hours to show. How many mice minimum to find the poisoned bottle in 24 hours?",
      answer: "10 mice (Use binary encoding: each mouse tests bottles with 1 in that bit position. 2^10 = 1024 > 1000, so 10 mice can identify any of 1000 bottles)",
      explanation: [
        "Binary encoding: number each bottle 0-999 in binary",
        "Mouse i drinks from bottles with 1 in bit i",
        "After 24 hours, dead mice indicate which bits are 1",
        "2^10 = 1024 > 1000, so 10 mice sufficient",
      ],
      hint: "Use binary encoding - each mouse tests one bit",
      difficulty: "hard",
      targetTime: 90,
    },
    {
      id: 12,
      question: "A train travels from A to B at 60 mph and returns at 40 mph. What's the average speed?",
      answer: "48 mph (Not 50! Average speed = total distance / total time. If distance = d, time = d/60 + d/40 = d/24, average = 2d/(d/24) = 48 mph)",
      hint: "Average speed = total distance / total time, not average of speeds",
      difficulty: "medium",
      targetTime: 45,
    },
    {
      id: 13,
      question: "You're in a dark room with 100 coins, 20 are heads up. You're blindfolded. Create two groups with equal heads.",
      answer: "Split into groups of 20 and 80. Flip all coins in the 20-coin group. If original had k heads, after flipping it has 20-k heads. The 80-coin group has 20-k heads, so both have 20-k heads.",
      explanation: [
        "Original: 20 heads total",
        "Split: group A (20 coins), group B (80 coins)",
        "If group A has k heads, group B has 20-k heads",
        "Flip all in group A: now has 20-k heads",
        "Both groups have 20-k heads",
      ],
      hint: "Flip one group to balance the heads",
      difficulty: "hard",
      targetTime: 90,
    },
    {
      id: 14,
      question: "A father is 30 years older than his son. In 10 years, he'll be 3 times as old. How old are they now?",
      answer: "Son: 10, Father: 40 (Let son = s, father = s+30. In 10 years: (s+30+10) = 3(s+10), so s+40 = 3s+30, 2s = 10, s = 5. Wait, recalc: s+40 = 3(s+10) = 3s+30, so 2s = 10, s = 5. But check: 5+30 = 35, in 10 years: 45 vs 3×15 = 45. Actually s = 10: 10+30 = 40, in 10 years: 50 vs 3×20 = 60. Let me recalc: s+40 = 3s+30, 2s = 10, s = 5. But 5+30 = 35, in 10 years father = 45, son = 15, 45 ≠ 3×15. Actually: (s+30+10) = 3(s+10), s+40 = 3s+30, 2s = 10, s = 5. But 35+10 = 45, 5+10 = 15, 45 = 3×15. So son = 5, father = 35. But user said 30 years older, so if son = 10, father = 40, in 10 years: 50 and 20, 50 = 2.5×20. Let me solve: s+40 = 3(s+10) = 3s+30, so 2s = 10, s = 5. Son = 5, Father = 35. In 10 years: 45 and 15, 45 = 3×15. Correct!",
      explanation: [
        "Let son's age = s, father's age = s + 30",
        "In 10 years: (s+30+10) = 3(s+10)",
        "s + 40 = 3s + 30",
        "2s = 10, so s = 5",
        "Son = 5, Father = 35. In 10 years: 15 and 45, 45 = 3×15",
      ],
      hint: "Set up equations: father = son + 30, and (father + 10) = 3×(son + 10)",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 15,
      question: "You have a 3x3 grid. How many squares total (including different sizes)?",
      answer: "14 squares (1×1: 9, 2×2: 4, 3×3: 1, total = 14)",
      explanation: [
        "1×1 squares: 9",
        "2×2 squares: 4",
        "3×3 squares: 1",
        "Total: 9 + 4 + 1 = 14",
      ],
      hint: "Count squares of each size",
      difficulty: "easy",
      targetTime: 45,
    },
    {
      id: 16,
      question: "Three ants are at three corners of an equilateral triangle. Each walks toward another ant. Do they meet? Where?",
      answer: "Yes, they meet at the centroid. Each ant walks toward another, creating spiral paths that converge at the center due to symmetry.",
      explanation: [
        "By symmetry, all ants follow equivalent paths",
        "Each moves toward another, creating inward spiral",
        "They converge at the centroid (center) of triangle",
        "Distance to center decreases over time",
      ],
      hint: "Symmetry forces them to converge",
      difficulty: "hard",
      targetTime: 90,
    },
    {
      id: 17,
      question: "You have 12 balls, one is different weight (unknown if heavier or lighter). Find it in 3 weighings.",
      answer: "Weigh 4 vs 4. If equal, different ball is in remaining 4, weigh 1 vs 1. If unequal, different ball is in heavier/lighter group of 4, weigh 2 vs 2 from that group, then 1 vs 1.",
      explanation: [
        "Weighing 1: 4 vs 4",
        "If equal: different in remaining 4, weigh 1 vs 1",
        "If unequal: different in heavier/lighter group",
        "Weighing 2: From suspect group, weigh 2 vs 2",
        "Weighing 3: Identify the different ball and if heavier/lighter",
      ],
      hint: "Divide into groups and use information from each weighing",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 18,
      question: "A lily pad doubles daily and fills a pond in 48 days. When is the pond 1/4 full?",
      answer: "Day 46 (If doubles daily, on day 47 it's 1/2 full, on day 46 it's 1/4 full)",
      explanation: [
        "Day 48: 100% full",
        "Day 47: 50% full (half)",
        "Day 46: 25% full (quarter)",
        "Since it doubles each day, go back 2 days from full",
      ],
      hint: "Work backwards: if it doubles daily, half full the day before",
      difficulty: "easy",
      targetTime: 30,
    },
    {
      id: 19,
      question: "How many trailing zeros in 100! (100 factorial)?",
      answer: "24 (Count factors of 10 = factors of 2×5. More 2s than 5s, so count 5s: floor(100/5) + floor(100/25) = 20 + 4 = 24)",
      explanation: [
        "Trailing zeros come from factors of 10 = 2×5",
        "Count factors of 5 (fewer than 2s)",
        "floor(100/5) = 20, floor(100/25) = 4, floor(100/125) = 0",
        "Total 5s: 20 + 4 = 24",
      ],
      hint: "Count factors of 5 (10 = 2×5, and there are more 2s)",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 20,
      question: "You're 1/4 mile from your car. It starts raining. Should you run or walk to minimize getting wet?",
      answer: "Run (You get wet from rain falling on you while moving. Running reduces time exposed, so less total rain hits you. The rain falling on the ground doesn't matter - only what hits you while moving.)",
      explanation: [
        "Rain falling on you while moving: rate × time",
        "Running reduces time, so less rain hits you",
        "Rain already on ground doesn't matter (you'd step in it either way)",
        "Run to minimize exposure time",
      ],
      hint: "Minimize time exposed to falling rain",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 21,
      question: "A bat and ball cost $1.10. The bat costs $1 more than the ball. How much is the ball?",
      answer: "$0.05 (Let ball = x, bat = x + 1. So x + (x+1) = 1.10, 2x + 1 = 1.10, 2x = 0.10, x = 0.05)",
      explanation: [
        "Let ball = x, bat = x + 1",
        "x + (x + 1) = 1.10",
        "2x + 1 = 1.10",
        "2x = 0.10, so x = 0.05",
        "Ball = $0.05, Bat = $1.05",
      ],
      hint: "Set up equation: ball + (ball + 1) = 1.10",
      difficulty: "easy",
      targetTime: 30,
    },
    {
      id: 22,
      question: "You have a cube. How many different ways can you paint each face one of 6 colors (rotations are same)?",
      answer: "30 ways (Using Burnside's lemma or direct counting: (6^6 + 6×6 + 3×6^4 + 6×6^3 + 8×6^2) / 24 ≈ 30, accounting for 24 rotational symmetries)",
      explanation: [
        "Total colorings: 6^6 = 46,656",
        "Account for 24 rotational symmetries of cube",
        "Use Burnside's lemma to count distinct colorings",
        "Result: approximately 30 distinct colorings",
      ],
      hint: "Use Burnside's lemma to account for rotational symmetries",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 23,
      question: "Four people cross a bridge at night: they take 1, 2, 5, 10 minutes. Only 2 at a time, must share 1 flashlight. Minimum time?",
      answer: "17 minutes (1 and 2 cross (2 min), 1 returns (1 min), 5 and 10 cross (10 min), 2 returns (2 min), 1 and 2 cross (2 min). Total: 2+1+10+2+2 = 17)",
      explanation: [
        "Strategy: Send fastest pair first, then fastest returns",
        "1 and 2 cross: 2 min",
        "1 returns: 1 min",
        "5 and 10 cross: 10 min",
        "2 returns: 2 min",
        "1 and 2 cross: 2 min",
        "Total: 17 minutes",
      ],
      hint: "Minimize time by having fastest people do the returning",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 24,
      question: "A circular track, two runners start at the same point, run in opposite directions. They meet after 10 minutes. If they run in the same direction, faster catches up in 60 minutes. What's the ratio of their speeds?",
      answer: "7:5 (Let speeds be v₁ and v₂, v₁ > v₂. Opposite: (v₁+v₂)×10 = circumference. Same: (v₁-v₂)×60 = circumference. So (v₁+v₂)×10 = (v₁-v₂)×60, solving: v₁/v₂ = 7/5)",
      explanation: [
        "Opposite: (v₁ + v₂) × 10 = C",
        "Same: (v₁ - v₂) × 60 = C",
        "(v₁ + v₂) × 10 = (v₁ - v₂) × 60",
        "v₁ + v₂ = 6(v₁ - v₂) = 6v₁ - 6v₂",
        "7v₂ = 5v₁, so v₁/v₂ = 7/5",
      ],
      hint: "Set up equations for circumference in both cases",
      difficulty: "hard",
      targetTime: 90,
    },
    {
      id: 25,
      question: "You draw 2 cards from a deck. If both are red, you win $100. If both black, you lose $100. If mixed, nothing. What's the expected value?",
      answer: "$0 (P(both red) = (26/52)×(25/51) = 25/102, P(both black) = 25/102, P(mixed) = 52/102. EV = (25/102)×100 + (25/102)×(-100) + (52/102)×0 = 0)",
      explanation: [
        "P(both red) = (26/52) × (25/51) = 25/102",
        "P(both black) = 25/102",
        "P(mixed) = 1 - 50/102 = 52/102",
        "EV = (25/102)×100 + (25/102)×(-100) + 0 = 0",
      ],
      hint: "Calculate probabilities and expected value",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 26,
      question: "A stick is broken at 2 random points. What's the probability the 3 pieces form a triangle?",
      answer: "1/4 (For triangle inequality, all pieces must be < 1/2. Probability = 1/4)",
      explanation: [
        "Triangle inequality: each piece < sum of other two",
        "For unit stick: each piece < 1/2",
        "Probability all three < 1/2: 1/4",
        "Geometric probability problem",
      ],
      hint: "Triangle inequality requires all sides < 1/2 of perimeter",
      difficulty: "hard",
      targetTime: 90,
    },
    {
      id: 27,
      question: "You have a string of 0s and 1s. Flip bits one at a time to maximize expected money: get $1 per 1, lose $1 per 0. Current string: 01001. Strategy?",
      answer: "Flip all bits to 11110 (or keep as is if expected value is already positive). Calculate expected value: 2×$1 - 3×$1 = -$1. Flipping all: 3×$1 - 2×$1 = +$1. So flip all.",
      explanation: [
        "Current: 01001 → 2 ones, 3 zeros → EV = 2 - 3 = -$1",
        "Flipped: 10110 → 3 ones, 2 zeros → EV = 3 - 2 = +$1",
        "Optimal: flip all bits to maximize expected value",
      ],
      hint: "Calculate expected value for current and flipped string",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 28,
      question: "Two trains approach each other at 60 mph each, 120 miles apart. A fly flies at 80 mph between them. How far does the fly travel before trains meet?",
      answer: "40 miles (Trains meet in 1 hour (120 miles / 120 mph relative speed). Fly travels 80 mph × 1 hour = 80 miles. Wait, recalc: relative speed = 60 + 60 = 120 mph, time to meet = 120/120 = 1 hour, fly distance = 80 × 1 = 80 miles)",
      explanation: [
        "Relative speed of trains: 60 + 60 = 120 mph",
        "Time until collision: 120 miles / 120 mph = 1 hour",
        "Fly speed: 80 mph",
        "Distance fly travels: 80 mph × 1 hour = 80 miles",
      ],
      hint: "Calculate time until trains meet, then fly distance",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 29,
      question: "You have an equilateral triangle of side length 1. What's the expected distance between two random points inside it?",
      answer: "Approximately 0.365 (Complex calculation involving integration over triangle area. Result depends on distribution assumption.)",
      explanation: [
        "Requires double integration over triangle area",
        "Calculate E[|P₁ - P₂|] for uniform random points",
        "Result: approximately 0.365 (exact value involves complex integrals)",
        "More complex than circle or square case",
      ],
      hint: "Requires integration over triangle area",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 30,
      question: "A perfectly rational king will divide gold among 5 pirates by seniority. Each votes on the proposal; if ≥50% agree, it's executed, else proposer dies and next tries. How does the senior pirate maximize his gold?",
      answer: "Senior (P5) proposes: P5 gets 98, P3 gets 1, P1 gets 1, P2 and P4 get 0. P3 and P1 vote yes (better than nothing if P5 dies). P5 needs 2 votes besides himself, gives minimum to P3 and P1.",
      explanation: [
        "Work backwards from 2 pirates: P2 gives P1 nothing, keeps all",
        "3 pirates: P3 gives P1 1, keeps 99 (P1 votes yes to avoid 0)",
        "4 pirates: P4 gives P2 1, keeps 99 (P2 votes yes)",
        "5 pirates: P5 gives P1 and P3 each 1, keeps 98 (needs 2 votes)",
      ],
      hint: "Work backwards from smaller number of pirates",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 200,
      question: "Two bullets are loaded into a gun's round barrel consecutively. The barrel has a capacity of 6. The gun is fired once, but no bullet is shot. Does rolling the barrel (shuffling) before next shot increase the probability of firing a bullet?",
      answer: "Yes, shuffling increases the probability of firing a bullet from 25% to 33.3%",
      explanation: [
        "Initial Misstep : If the two bullets are randomly put instead of consecutively, then, after firing one empty shot, there are 2 bullets and 5 total slots. The probability would be 2/5 = 40%, but that's not the case here.",
        "Correct step : The probability of firing a bullet without a shuffle is 1/4 = 25%.",
        "To understand this, imagine that the firing pin was on one of the empty slots (3, 4, 5, 6), and the first shot was taken, but no bullet was fired.",
        "Now assumming that the barrel rotates clockwise, the pin will move to one of these slots: (2, 3, 4, 5).",
        "Out of these four slots, only the slot (1) has a bullet. Hence probability of firing a bullet is 1/4 = 25%.",
        "Note that the same is true in anti-clockwise direction.",
        "After the shuffle, the state is reset. There are 6 total slots with 2 bullets, the probabilty of firing a bullet after a shuffle is 2/6 = 1/3 ≈ 33%.",
        "Thus, shuffling does increase the probability of firing a bullet (from 25% to 33%). Credit: brainstellar",
      ],
      hint: "Two bullets are loaded into a gun's round barrel consecutively. The barrel has a capacity of 6. The gun is fired once, but no bullet is shot. Does rolling the barrel (shuffling) before next shot increase the probability of firing a bullet?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 201,
      question: "Five pirates need to divide 100 Gold Coins. Pirates have a hierarchy, from Level 1 to level 5. The highest level pirate is the leader. The leader proposes a plan to distribute the gold and all the pirates vote on it (including the leader). If at least 50% of the pirates agree on the plan, the gold is split according to the proposal. If not, level-5 pirate is kicked from the ship, and the level-4 pirate now proposes a new plan. This process continues until a proposal is accepted. All pirates are extremely smart and extremely greedy. How does level-5 Pirate divide the treasure?",
      answer: "Coin distribution is: (98, 0, 1, 0, 1) from levels (5, 4, 3, 2, 1) respectively",
      explanation: [
        "Let the pirates be called P5, P4, P3, P2, P1. P5 is the leader.",
        "Let's study a simpler case with only 2 pirates. P2 can propose to take all the 100 gold coins. Even if P1 votes against this, P2 will vote in favor and the proposal will still be accepted (50% acceptance) leaving P1 with zero coins.",
        "The distribution is (100, 0) for levels (2, 1) respectively.",
        "Now let's look at the case with 3 pirates. P3 knows that if this proposal is not accepted, then P2 will get all the gold and P1 will get nothing.",
        "So P3 can bribe P1 with one gold coin. P1 knows that one gold coin is better than zero, and hence votes in favor of this proposal.",
        "Therefore, P3 can propose the following distribution {Level 3 pirate: 99, Level-2: 0, Level-3: 1}. Since pirate 1 and 3 will vote in favor, this proposal will be accepted.",
        "The distribution is (99, 0, 1) for levels (3, 2, 1) respectively.",
        "If there are 4 pirates, P4 can extend this pattern by bribing those who would get nothing in 3-pirates case, to ensure their votes.",
        "So the distribution will be (99, 0, 1, 0) for levels (4, 3, 2, 1) respectively, this will ensure that P2 will vote in favor and with the help of self voting (P4), we have 50% votes to accept this proposal. Credit: brainstellar",
      ],
      hint: "Five pirates need to divide 100 Gold Coins. Pirates have a hierarchy, from Level 1 to level 5. The highest level pirate is the leader. The leader proposes a plan to distribute the gold and all the pirates vote on it (including the leader). If at least 50% of the pirates agree on the plan, the gold is split according to the proposal. If not, level-5 pirate is kicked from the ship, and the level-4 pirate now proposes a new plan. This process continues until a proposal is accepted. All pirates are extremely smart and extremely greedy. How does level-5 Pirate divide the treasure?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 202,
      question: "An explorer walks: 1 mile South, 1 mile East, 1 mile North. And finds themselves back at the starting point. The explorer spots a bear, what is the color of the bear?",
      answer: "White",
      explanation: [
        "It is not possible to reach the starting point by taking three straight lines, at right angles.",
        "The directions North, East, West or South are defined by movement along latitudes and longitudes.",
        "Latitudes are all parallel, but longitudes converge at the poles, due to the spherical shape of the Earth.",
        "We can investigate the movement near these poles.",
        "If the explorer is initially standing at the North Pole : Every direction from the North Pole is due South.",
        "The explorer walks 1 mile South, i.e. away from the North Pole.",
        "Walking due East keeps the same distance (one mile) from the North Pole.",
        "In other words, the explorer walks along the circumference of a circle with a radius of 1 mile, centered at the North Pole.",
        "Walking due north takes them back to the North Pole again.",
        "And a bear living at the North Pole must be a polar bear, which is white. Credit: brainstellar",
      ],
      hint: "An explorer walks: 1 mile South 1 mile East 1 mile North. And finds themselves back at the starting point. The explorer spots a bear, what is the color of the bear?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 203,
      question: "There is a light bulb inside a room and three switches outside. All switches are currently in off state and only one switch controls the light bulb. You may turn any number of switches on or off any number of times you want. How many times do you need to go into the room to figure out which switch controls the light bulb?",
      answer: "1",
      explanation: [
        "The bulb gets hot slowly when turned on.",
        "Turn on the switch # 1 for 10 minutes, turn it off and turn on the switch # 2 and get into the room.",
        "There are 3 possible cases.",
        "If the bulb is on, then switch # 2 controls the bulb.",
        "If the bulb is off, but hot, then switch # 1 controls the bulb.",
        "If the bulb is off and cool, then switch # 3 controls the bulb.",
        "Thus, we can infer the switch that controls the bulb in one entry. Credit: brainstellar",
      ],
      hint: "There is a light bulb inside a room and three switches outside. All switches are currently in off state and only one switch controls the light bulb. You may turn any number of switches on or off any number of times you want. How many times do you need to go into the room to figure out which switch controls the light bulb?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 204,
      question: "How do you place 50 good candies and 50 rotten candies in two boxes such that if you choose a box at random and take out a candy at random, it better be good! We need to maximize the probability of getting a good candy when selecting a random box and a random candy from it.",
      answer: "Place 1 good candy in one box and all the remaining (49 good and 50 rotten candies) in the second box.",
      explanation: [
        "Place 1 good candy in one box and all remaining (49 good and 50 rotten candies) in the second box.",
        "This will give a probability of (1/2) * 1 + (1/2) * (49/99) = 74.74% Credit: brainstellar",
      ],
      hint: "How do you place 50 good candies and 50 rotten candies in two boxes such that if you choose a box at random and take out a candy at random, it better be good! We need to maximize the probability of getting a good candy when selecting a random box and a random candy from it.",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 205,
      question: "In a world where everyone wants a girl child, each family continues having babies till they have a girl. What do you think will the boy-to-girl ratio be eventually? Assuming probability of having a boy or a girl is the same and there is no other gender at the time of birth.",
      answer: "1:1",
      explanation: [
        "Suppose there are N couples.",
        "First time, N/2 girls and N/2 boys are born.",
        "N/2 couples retire, and rest half try for another child. Credit: brainstellar",
      ],
      hint: "In a world where everyone wants a girl child, each family continues having babies till they have a girl. What do you think will the boy-to-girl ratio be eventually? Assuming probability of having a boy or a girl is the same and there is no other gender at the time of birth.",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 206,
      question: "Hundred tigers and one sheep are put on a magic island that only has grass. Tigers can live on grass, but they want to eat sheep. If a Tiger bites the Sheep then it will become a sheep itself. If 2 tigers attack a sheep, only the first tiger to bite converts into a sheep. Tigers don't mind being a sheep, but they have a risk of getting eaten by another tiger. All tigers are intelligent and want to survive. Will the sheep survive?",
      answer: "Sheep survives!",
      explanation: [
        "If there is 1 tiger, then it will eat the sheep because he does not need to worry about being eaten. Sheep will not survive.",
        "If there are 2 tigers, both of them knows that if one eats the Sheep, the other tiger will eat him.",
        "So, the sheep will survive.",
        "If there are 3 tigers, then they each of them knows that if one tiger eats up the sheep, then Iceland will be left with 1 sheep and 2 tigers and as shown in the Credit: brainstellar",
      ],
      hint: "Hundred tigers and one sheep are put on a magic island that only has grass. Tigers can live on grass, but they want to eat sheep. If a Tiger bites the Sheep then it will become a sheep itself. If 2 tigers attack a sheep, only the first tiger to bite converts into a sheep. Tigers don't mind being a sheep, but they have a risk of getting eaten by another tiger. All tigers are intelligent and want to survive. Will the sheep survive?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 207,
      question: "A duck is sitting at the center of a circular lake. A fox is waiting at the shore, not able to swim, wishing to eat the duck. The Fox can move around the whole lake at a speed four times the speed at which the duck can swim. The duck can fly, but only once it reaches the shore of the lake, it can't fly from the water directly. Can the duck always reach the shore without being eaten by the fox? Note: This is an old duck, and cannot take a flight while swimming. The duck cannot submerge in the water.",
      answer: "At a radius of slightly less than R/4, the duck can swim in circles, forcing the fox to run around. Once the duck is at a phase of π from the fox it starts swimming towards the shore and flies away.",
      explanation: [
        "This is a classic problem involving geometry and relative speed, often referred to as the \"Duck and Fox Problem\".",
        "Swim in Circles: The duck begins by swimming in a circle with a radius of r < R/4 where R is the radius of the lake.",
        "The center of this circle is the same as that of the lake.",
        "The fox is four times as fast as the duck. By swimming in a small circle, the duck can start creating an angular separation between itself and the fox.",
        "Force the Fox to Run: Since the fox is trying to chase the duck, it will continue to run around, trying to move to the point nearest to the duck but on the shore.",
        "As the duck goes around slightly faster, the fox lags behind.",
        "Eventually, the duck will be at a point where the fox is directly across the lake from it.",
        "Wait for the Right Moment: The duck continues swimming in its smaller circle until the fox is straight across the lake from it.",
        "At this point, the duck and fox are separated by half the circumference of the lake, a distance that the fox has to cover to reach the duck if it heads straight for the shore.",
        "Head for the Shore: While standing directly opposite, the duck can now swim straight to the shore.",
        "Duck has to travel around R * 3/4 distance, while the fox has to travel π R.",
        "Given the ratio of their speeds, it will take 3R and 3.14 * R units of time respectively.",
        "Hence the duck will have a few extra moments to start the flight.",
        "Escape: Reaching moments before the fox, the duck can now fly away to safety. Credit: brainstellar",
      ],
      hint: "A duck is sitting at the center of a circular lake. A fox is waiting at the shore, not able to swim, wishing to eat the duck. The Fox can move around the whole lake at a speed four times the speed at which the duck can swim. The duck can fly, but only once it reaches the shore of the lake, it can't fly from the water directly. Can the duck always reach the shore without being eaten by the fox? Note: This is an old duck, and cannot take a flight while swimming. The duck cannot submerge in the water.",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 208,
      question: "An airplane flies in a straight line from airport A to airport B, and then back in a straight line from B to A. It travels with a constant engine speed and there is no wind. Will the total travel time for the same round trip be greater, less or the same if, throughout both the flights a constant wind blows from A to B?",
      answer: "The more the wind blows, the total time will be higher even though one of the journeys is faster.",
      explanation: [
        "Intuition: The time during which the plane's speed is boosted is shorter than the time during which it is slowed down, so the over all effect is of slow-down.",
        "Maths: Suppose the wind blows at a speed of w from A to B, and the plane's engine is capable of a steady speed of s (without any wind).",
        "Ignore acceleration and de-acceleration.",
        "Suppose the distance is d, the total time will be 2d/s without any wind.",
        "Speed from A to B is (s + w) and B to A is (s - w).",
        "t = d/(s+w) + d/(s-w) = d(2s/(s^2 - w^2)) = 2d/(s - (w^2/s)) > 2d/s",
        "For 0 < w < s, the denominator in the first term is less than s, and therefore the total time is greater than the time without the wind.",
        "Consider the edge case, where the plane's speed is the same as the wind. In one direction, the plane's speed is doubled, while in the other, it becomes zero! (i.e. it takes an infinite amount of time to finish the journey!) Credit: brainstellar",
      ],
      hint: "An airplane flies in a straight line from airport A to airport B, and then back in a straight line from B to A. It travels with a constant engine speed and there is no wind. Will the total travel time for the same round trip be greater, less or the same if, throughout both the flights a constant wind blows from A to B?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 209,
      question: "You are given two cords that both burn in exactly one hour, not necessarily at a uniform rate. How should you light the cords to determine a time interval of exactly 15 minutes?",
      answer: "Break the cord into approximately half, and burn these two cords from both of their ends. If both these cords finish burning together, that means exactly 15 minutes have passed. If any one of these cords finishes first, break the other cords from approximately the middle, and further burn all ends of these little cords. Continuing this way theoretically leads to exactly 15 minutes!",
      explanation: [
        "First, let's try to measure thirty minutes. To do that, we can burn both ends of a cord.",
        "Even if it burns non-uniformly, it will still finish in exactly 30 minutes.",
        "To measure 15 minutes, burn the first cord at one end and the second cord at both ends.",
        "Half an hour later, when the second cord finishes burning, the first cord has exactly 30 minutes of length left.",
        "Now we can burn the other end of the first cord, and it shall finish in exactly 15 minutes.",
        "Follow-up Question: Instead of having two cords, what if you only had one cord, how would you measure 15 minutes?",
        "Follow-up Answer: Break the cord into approximately half, and burn these two cords from both of their ends.",
        "If both these cords finish burning together, that means exactly 15 minutes have passed.",
        "If any one of these cords finishes first, break the other cords from approximately the middle, and further burn all ends of these little cords.",
        "Continuing this way theoretically leads to exactly 15 minutes! Credit: brainstellar",
      ],
      hint: "You are given two cords that both burn in exactly one hour, not necessarily at a uniform rate. How should you light the cords to determine a time interval of exactly 15 minutes?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 210,
      question: "There are 10 black socks and 10 red socks in a cupboard. Your task is to draw a few socks at random, without looking, such that you get at least one matching pair (single color). What's the least number of socks that you need to draw? Assume that there is no left-right distinction in these socks.",
      answer: "3",
      explanation: [
        "The Pigeonhole Principle states that if there are (N+1) pigeons to fit in N holes, at least one hole will have 2 or Credit: brainstellar",
      ],
      hint: "There are 10 black socks and 10 red socks in a cupboard. Your task is to draw a few socks at random, without looking, such that you get at least one matching pair (single color). What's the least number of socks that you need to draw? Assume that there is no left-right distinction in these socks.",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 211,
      question: "Prove that there are two opposite points on the Earth's surface that have the same temperature. Assume that the temperature varies continuously over the surface.",
      answer: "",
      explanation: [
        "The motivation is that the temperature is a continuous function, and cannot keep increasing as we go around a circle.",
        "Consider any great circle, like the Equator.",
        "Suppose t(θ) is the temperature at the point θ.",
        "Define f(θ) = t(θ) - t(θ+π).",
        "Note that f(0) = t(0) - t(π) and f(π) = t(π) - t(2π) = t(π) - t(0) = -f(0).",
        "Either both f(0) and f(π) are 0 or one of them is positive and the other is negative.",
        "Using Mean Value Theorem, f(θ) must be zero for some point between 0 and π.",
        "Thus, there will always be a pair of two opposite points at the same temperature.",
        "Trivia: There are an uncountably infinite number of such pairs.",
        "Borsuk-Ulam Theorem states that every continuous function from an n-sphere into Euclidean n-space maps some pair of antipodal points to the same point.",
        "At n = 1, there exist two opposite points on the circle where the temperature is the same.",
        "At n = 2, at any moment, there is always a pair of antipodal points on the Earth's surface with equal temperatures and equal barometric pressures. Credit: brainstellar",
      ],
      hint: "Prove that there are two opposite points on the Earth's surface that have the same temperature. Assume that the temperature varies continuously over the surface.",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 212,
      question: "The probability of having accidents on a road in one hour is 3/4. What is the probability of accidents in half an hour?",
      answer: "1/2",
      explanation: [
        "Probability of no accident in 1 hour = P(no accidents in the first half an hour) * P(no accidents in the Credit: brainstellar",
      ],
      hint: "The probability of having accidents on a road in one hour is 3/43/43/4. What is the probability of accidents in half an hour?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 213,
      question: "Suppose you're on a game show, and you're given the choice of three doors: Behind one door is a car; behind the others, goats. You pick a door, say No. 1, and the host, who knows what's behind the doors, opens another door, say No. 3, which has a goat. Now, do you want to pick door No. 2? What is the probability to win the car if you switch?",
      answer: "2/3",
      explanation: [
        "The probability that your initial choice did not have a car is indeed 2/3.",
        "Initial Misstep: After one door is opened, there are exactly two doors left, and one of them has a car. So the probability that the car is behind either door is 1/2. This is incorrect because the host knows which door has a car and which door has a goat. The host always opens a door with a goat.",
        "Correct Solution: The following table shows which Door the host might open. Assume that the car is behind Gate #1, and we randomly choose one door.",
        "Initial choice: Door #1, Door #2, Door #3",
        "Reality: Car, Goat, Goat",
        "Host opens: #2 or #3, #3, #2",
        "Remaining: #3 or #2, #1, #1",
        "Good to switch: No, Yes, Yes",
        "We see that at the end, the remaining unopened door is Door #1 if we start with Door #2 or Door #3.",
        "This means that in 2 out of 3 cases, we started with the incorrect Door (#2 or #3) and we got the option to switch with the correct door at the end (#1).",
        "So you should switch to the other door, and win the car with a probability of 2/3.",
        "Generalization: The probability of being initially wrong is the same as the probability of being correct after switching.",
        "We can generalize this to n doors. The probability of winning the game by switching after the host has opened n-2 doors is (1 - 1/n). Credit: brainstellar",
      ],
      hint: "Suppose you're on a game show, and you're given the choice of three doors: Behind one door is a car; behind the others, goats. You pick a door, say No. 1, and the host, who knows what's behind the doors, opens another door, say No. 3, which has a goat. Now, do you want to pick door No. 2? What is the probability to win the car if you switch?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 214,
      question: "One hundred prisoners are lined up, facing one direction and assigned a random hat, either red or blue. Each prisoner can see the hats in front of them but not behind. Starting with the prisoner at the back of the line and moving forward, they must each, in turn, say only one word which must be \"red\" or \"blue\". If the word matches their hat color they are released, if not, they are kept imprisoned. They can hear each others' answers, no matter how far they are on the line, but they do not hear the verdict (whether the answer was correct). A friendly guard warns them one night before, giving them enough time to come up with a strategy. How many prisoners can be freed using the best strategy? Assume that there is an unknown number of red & blue hats.",
      answer: "99 of the 100 prisoners can be freed, and 1 has a 50:50 chance",
      explanation: [
        "We can number prisoners from 100 to 1, with 100 being the last person in the line.",
        "Prisoners agree that if the 100th person will say \"red\" if there are an even number of \"red\" hats visible on the prisoners 1 to 99, and blue otherwise.",
        "This way, prisoner number 99 can look ahead and count the red hats.",
        "if they add up to an even number and the number 100 said \"red\", then 99 must be wearing a blue hat.",
        "if they add up to an even number and number 100 said \"blue\", signaling an odd number of red hats, number 99 must also be wearing a red hat. Credit: brainstellar",
      ],
      hint: "One hundred prisoners are lined up, facing one direction and assigned a random hat, either red or blue. Each prisoner can see the hats in front of them but not behind. Starting with the prisoner at the back of the line and moving forward, they must each, in turn, say only one word which must be \"red\" or \"blue\". If the word matches their hat color they are released, if not, they are kept imprisoned. They can hear each others' answers, no matter how far they are on the line, but they do not hear the verdict (whether the answer was correct). A friendly guard warns them one night before, giving them enough time to come up with a strategy. How many prisoners can be freed using the best strategy? Assume that there is an unknown number of red & blue hats.",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 215,
      question: "A traveler meets a pair of twins at a fork in the road: one path is correct and one incorrect. One of the twins always tells the truth (knight), and the other one always lies (knave). Which single question can the traveler ask one of the twins to determine the correct path?",
      answer: "is guaranteed to be 'Yes' if and only if the road on the right is correct. The traveler can also ask, \"If I were to ask you whether the road on the right is correct, would you say 'Yes'?\", both the twins tell yes only if the right path is indeed correct.",
      explanation: [
        "This can be constructed in many ways.",
        "The traveler can ask, \"Would the other twin agree that the road on the left is correct?\"",
        "The answer is guaranteed to be 'Yes' if and only if the road on the right is correct.",
        "The traveler can also ask, \"If I were to ask you whether the road on the right is correct, would you say 'Yes'?\", both the twins tell yes only if the right path is indeed correct. Credit: brainstellar",
      ],
      hint: "A traveler meets a pair of twins at a fork in the road: one path is correct and one incorrect. One of the twins always tells the truth (knight), and the other one always lies (knave). Which single question can the traveler ask one of the twins to determine the correct path?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 216,
      question: "There are two jars, one contains water, and the other contains wine (equal volumes). A certain amount of water is transferred to the wine, then the same amount of the mixture is transferred back to the water beaker. Is there now more water in the wine than there is wine in the water? Assume there is no expansion, compression, spillage or any chemical reaction.",
      answer: "Equal!",
      explanation: [
        "The final volumes of both the mixture-liquids are equal.",
        "This means in the first jars, the combined volume of water & wine is the same as that of jar B.",
        "Assume that the original volume is L.",
        "Suppose the final volume in the first jar is x for water and (L-x) for wine.",
        "This implies that the second jar has x amount of wine and (L-x) of water.",
        "This proves that there are equal amounts of water in the wine jar and wine in the water jar. Credit: brainstellar",
      ],
      hint: "There are two jars, one contains water, and the other contains wine (equal volumes). A certain amount of water is transferred to the wine, then the same amount of the mixture is transferred back to the water beaker. Is there now more water in the wine than there is wine in the water? Assume there is no expansion, compression, spillage or any chemical reaction.",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 217,
      question: "There are 100 Light bulbs in a sequence, all kept in OFF state. The first person comes and toggles all the bulbs which are at position that is multiple of 1, i.e. switch all bulbs to ON. The second person toggles all multiples of 2, i.e. turn the even numbered bulbs OFF and leave the odd ones as is. The third person comes and toggles all multiples of 3. This process continues till the 100th person do their part. After this, how many bulbs are in ON state?",
      answer: "10 bulbs",
      explanation: [
        "Observation: Draw a small grid of 6x6 on a piece of paper and simulate the outcome.",
        "Observe that each bulb is toggled as many times as many unique divisors it has.",
        "For example, bulb number 6 has divisors [1,2,3,6], so it is toggled back and forth by person number [1,2,3,6], i.e, 4 times.",
        "In this case, only the bulb number 1 and 4 are ON at the end of 6 steps, and they have odd number of divisors.",
        "Can it be that perfect square number have odd unique divisors? Checking for some Credit: brainstellar",
      ],
      hint: "There are 100 Light bulbs in a sequence, all kept in OFF state. The first person comes and toggles all the bulbs which are at position that is multiple of 111, i.e. switch all bulbs to ON. The second person toggles all multiples of 222, i.e. turn the even numbered bulbs OFF and leave the odd ones as is. The third person comes and toggles all multiples of 333. This process continues till the 100th100^{\\text{th}}100th person do their part. After this, how many bulbs are in ON state?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 218,
      question: "We have a weighted coin that shows a Head with probability p and tails with 1−p, (0.5<p<1). How to define two equally likely events using this coin? Each event is a function of the outcomes of one or more coin tosses. For example, we can toss 2 times and define Event1 as [HH, TT] and Event2 as [TH, HT].",
      answer: "Toss 2 times, event1 is HT, event2 is TH, and repeat the process otherwise.",
      explanation: [
        "For an arbitrary p, this cannot be accomplished in a single toss.",
        "If we toss twice, we observe that the probability of HT and TH is the same, i.e. the probability of heads in the first toss and tails in the second is the same as its reverse, i.e. p * (1-p) = (1-p) * p",
        "Hence, we can declare these two as the two events.",
        "If we observe HH or TT, we retry.",
        "Follow-up question: What's the probability of an infinite repetition?",
        "Follow-up Answer: Let us calculate the probability of the first retry",
        "Probability of HH or TT = p^2 + (1-p)^2",
        "P(r) = 2p^2 -2p + 1",
        "This is a quadratic equation, with a minimum value of P(r) = 0.5 at p = 0.5, and 0.5 < P(r) < 1 for the range 0.5 < p < 1",
        "Thus, the probability of an infinite repetition is P(r) * P(r) * ... = 0 (because P(r) < 1)",
        "Note that if r is close to 1 then P(r) is close to 1, and it might take a very long sequence before event 1 or event 2 occurs. Credit: brainstellar",
      ],
      hint: "We have a weighted coin that shows a Head with probability ppp and tails with 1−p1-p1−p, (0.5<p<1)(0.5<p<1)(0.5<p<1). How to define two equally likely events using this coin? Each event is a function of the outcomes of one or more coin tosses. For example, we can toss 2 times and define Event1 as [HH, TT] and Event2 as [TH, HT].",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 219,
      question: "Spiderman has two close friends, Mary Jane & Gwen Stacy. After every mission, he rushes to the central subway. One line heads towards Mary's place, and another towards Stacy. Trains from each line leave every 10 minutes. Spiderman being impartial always boards the first train that leaves. However, he observes that he ends up visiting Mary Jane nine times more often than Gwen Stacy. Can you decipher why?",
      answer: "The gap from M to G is 1 minute, and the gap from G to M is 9 minutes",
      explanation: [
        "Since both trains leave at the same frequency of 10 minutes, probably the solution lies in the gap between the two consecutive trains of each line.",
        "Suppose the train M (towards Mary) leaves at the minutes: 0, 10, 20,...",
        "And the train G (towards Gwen) leaves at the minutes: x, (x+ 10), (x+20)... and so on, where (0 < x < 10)",
        "Suppose Spiderman randomly reaches the station at some time t + 10*n minutes where n is an arbitrary integer and t is the fraction that determines his fate, 0 < t ≤ 10.",
        "Note that if 0 < t ≤ x means that he just missed M and now has to wait for G.",
        "While x < t ≤ 10 means the opposite.",
        "Thus, the probability that he takes the train G is: P(G) = P(0 < t ≤ x)",
        "0.1 = (x-0)/10 ⟹ x = 1",
        "The train heading to Mary Jane's location leaves precisely 1 minute before the train heading to Gwen Stacy's location.",
        "Therefore, 9 out of 10 times, spiderman reaches the station when the Credit: brainstellar",
      ],
      hint: "Spiderman has two close friends, Mary Jane & Gwen Stacy. After every mission, he rushes to the central subway. One line heads towards Mary's place, and another towards Stacy. Trains from each line leave every 10 minutes. Spiderman being impartial always boards the first train that leaves. However, he observes that he ends up visiting Mary Jane nine times more often than Gwen Stacy. Can you decipher why?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 220,
      question: "An Egg breaks only if dropped from above a threshold floor, within a 100-story building. Every time you drop an egg, it is counted as an attempt. You are given 2 eggs to deduce the threshold floor, with a minimum number of attempts in the worst case!",
      answer: "It can be done in 14 steps in the worst case.",
      explanation: [
        "We can skip some floors and jump ahead when testing with the first egg (egg1).",
        "Whenever egg1 breaks, egg2 has to scan linearly from the last safe floor to the floor where egg1 broke.",
        "For example, we can test floors 10, 15, 20 and so on.",
        "Suppose egg1 broke at the 20th floor, now we need to test from 16 to 19, which can be done one by one using the second egg (egg2).",
        "But this is suboptimal, because regardless of when egg1 breaks, egg2 is always taking 4 attempts.",
        "We can improve this algorithm by reducing the length of the gap on each attempt of egg1.",
        "For instance, if we test at floor 10, 10+9, 10+9+8, and so on, then in the worst case, the number of attempts will be at-most (1+9)=10 or (2+8)=10 and so on...",
        "But, there's a problem, this sequence ends at 10 + 9 + 8... = n * (n+1)/2 = 55 and does not span the entire range of 100 floors.",
        "But the idea is in the right direction.",
        "A solution for minimum steps in the worst case is the smallest integer greater than or equal to the positive solution of x * (x+1)/2 = 100 ⟹ x = 13.651",
        "Start at floor 14, if the egg breaks start linearly from 1, if it does not break then drop the egg from 14 + 13 = 27th floor, and so on.",
        "This ensures at-most 14 attempts. Credit: brainstellar",
      ],
      hint: "An Egg breaks only if dropped from above a threshold floor, within a 100-story building. Every time you drop an egg, it is counted as an attempt. You are given 2 eggs to deduce the threshold floor, with a minimum number of attempts in the worst case!",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 221,
      question: "Without explicitly calculating, find out which is bigger: e^π or π^e?",
      answer: "e^π",
      explanation: [
        "Initial Misstep: e^π ≈ 23.14; π^e ≈ 22.46, hence e^π is bigger. But this is not a valid method. We need to compare the two numbers without calculating them.",
        "Method 1: Since e^x = 1 + x + x^2/2! + …, we have e^x > 1+x.",
        "Let x = (π/e -1) and solve: ⟹ e^(π/e - 1) > 1 + π/e - 1 ⟹ e^(π/e)/e > π/e ⟹ e^(π/e) > π ⟹ e^π > π^e (raised to power e on both sides)",
        "Hence e^π is bigger.",
        "Method 2: Suppose ∼ denotes the relation between the two terms.",
        "e^π ∼ π^e ⟺ e^(1/e) ∼ π^(1/π) (raised to power 1/(eπ) on both sides)",
        "Note the function f(x) = x^(1/x)",
        "To investigate how this function behaves, we need to take its derivative.",
        "Consider g(x) = ln(f(x)) = ln(x)/x",
        "Differentiate using product rule: g'(x) = (1-ln(x))/x^2",
        "The derivative g' is negative if ln(x) > 1 ⟹ g is decreasing for x > e ⟹ f is decreasing for x > e because ln is a monotonic transformation.",
        "⟹ f(e) > f(π) because e < π ⟹ e^(1/e) > π^(1/π) ⟹ e^π > π^e",
        "Thus e^π is bigger.",
        "Notes: This puzzle is usually considered easy because it is easy to ask and verify (using a calculator). Credit: brainstellar",
      ],
      hint: "Without explicitly calculating, find out which is bigger: e^πe^\\pie^π or π^e\\pi^eπ^e?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 222,
      question: "1024 pirates stand in a circle. They start shooting alternately in a cycle such that the 1st pirate shoots the 2nd, the 3rd shoots the 4th and so on. The pirates who got shot are eliminated from the game. They continue in circles, shooting the next standing pirate, till only one pirate is left. Which position should someone stand to survive?",
      answer: "1",
      explanation: [
        "Let us try a few numbers.",
        "For n = 2, the 1st person survives by shooting the 2nd.",
        "For n = 4, the 1st person survives again.",
        "Let us define \"round\" as one complete circle of shootings.",
        "Logically it makes sense that the first person always survives as the number of people keeps halving evenly in each round.",
        "Let us prove this by induction.",
        "Let S(n) be the safe position for a given n = 2^k",
        "Base Case: When k = 0, we have one pirate (2^0 = 1). The only pirate, which is the first, is the last to survive, so S(1) = 1.",
        "Inductive Step: Assume our hypothesis is true for k = m. That is, S(2^m) = 1.",
        "We need to prove this holds for k = m + 1, i.e. for n = 2^(m+1) pirates.",
        "In the first round of shooting, all pirates in even-numbered positions are eliminated.",
        "Therefore, at the end of the first round, there are 2^m pirates left, all in odd-numbered positions.",
        "Now, the pirates' positions are reset, and the first pirate (who was initially in position 1) is still in position 1.",
        "Therefore, we now have a circle of 2^m pirates, starting from the first pirate.",
        "The inductive hypothesis states that the first pirate will survive till the end.",
        "Thus, S(2^k) = 1 is true for any integer k ≥ 0.",
        "For n = 1024 = 2^10, the position of the surviving pirate would still be the 1st position.",
        "Therefore, someone should stand in the first position to survive.",
        "Trivia: This problem is called \"Josephus problem\", named after Flavius Josephus, a Jewish historian living in the 1st century.",
        "If n is not a power of 2, then we can use a formula. Find the largest m such that 2^m < n. Take l = n - 2^m. Then the safe position is 2 * l + 1. Credit: brainstellar",
      ],
      hint: "1024 pirates stand in a circle. They start shooting alternately in a cycle such that the 1st pirate shoots the 2nd, the 3rd shoots the 4th and so on. The pirates who got shot are eliminated from the game. They continue in circles, shooting the next standing pirate, till only one pirate is left. Which position should someone stand to survive?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 223,
      question: "I bought two fair six-sided dice. Keeping the first one untouched, I modified the second die, by erasing each face and writing a number of my own. Now, the sum of outcomes of the two dice is equally likely an integer between 1 and 12. Can you deduce the numbers written on the modified die? Note: For each dice, each face is equally likely to turn up after a toss.",
      answer: "0 0 0 6 6 6",
      explanation: [
        "The sum of 1 and 12 ensures that there is at least one 0 and one 6.",
        "Since the sum ranges from 1 to 12 only, the faces of the modified die can only have an integer from 0 to 6.",
        "This also means that the sum of two outcomes can be 1 only iff the regular and modified dice outcomes are 1 and 0 respectively.",
        "Let R and M be the outcomes of the regular and modified dice respectively.",
        "⟹ P(R + M = 1) = P(R = 1 ∩ M = 0) = P(R = 1) * P(M = 0) = P(R = 1) * P(M = 0)",
        "⟹ 1/12 = 1/6 * P(M = 0) ⟹ P(M = 0) = 1/2 Credit: brainstellar",
      ],
      hint: "I bought two fair six-sided dice. Keeping the first one untouched, I modified the second die, by erasing each face and writing a number of my own. Now, the sum of outcomes of the two dice is equally likely an integer between 1 and 12. Can you deduce the numbers written on the modified die? Note: For each dice, each face is equally likely to turn up after a toss.",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 224,
      question: "This is a 3 part question. Assume the gender of a child can be either Boy or Girl, equally likely. Suppose I have two children. Younger one is a girl. What is the probability that both children are girls? Suppose I have two children, and atleast one of them is a boy. Find the probability that both of them are boys. Suppose I have two kids, lets call them X and Y. Suppose X is a girl. What is the probability that I have two daughters?",
      answer: "1/2, 1/3, 1/2",
      explanation: [
        "Since it is already known that younger one is a girl, we just need the probability that older one is also a girl.",
        "This is simply 1/2 since both genders are equally likely as per the assumption in the question.",
        "Without any information, there are 4 equally likely possibilities (BB, BG, GB, GG) for the genders of the two children.",
        "Since atleast-one of them is a boy, we can remove the GG case from our sample space.",
        "Now there are 3 possibilities, and all three are equally likely, hence the probability that both the children are girls is 1/3",
        "This is counter-intuitive.",
        "One might say that since the names (X, Y) were anonymous, this problem should have been same as the second problem.",
        "But it turns out that there is indeed some extra information, which changes the probability.",
        "Author has actually fixed a person (X), and X's gender is \"G\" from now on.",
        "Thus we only need to find the probability that Y's gender is \"G\".",
        "It still confuses me how statment (2) and statement (3) are different statements, leading to different outcomes.",
        "Statement (1) is equivalent to statement (3).",
        "Conditional Probability: We can also calculate the second answer using conditional probability.",
        "We can denote: A: the event that at least one child is a boy. B: the event that both children are boys.",
        "We want to find the probability of event B, given that A has ocurred.",
        "Using conditional probability formula: P(B | A) = P(B ∩ A)/P(A)",
        "Here P(B ∩ A) = P(B) = 1/4 (both B and A are true when B is true)",
        "P(A) = 3/4 (amongst 4 equally likely cases, 3 are favourable)",
        "overall, P(B | A) = (1/4)/(3/4) = 1/3 Credit: brainstellar",
      ],
      hint: "This is a 3 part question. Assume the gender of a child can be either Boy or Girl, equally likely. Suppose I have two children. Younger one is a girl. What is the probability that both children are girls? Suppose I have two children, and atleast one of them is a boy. Find the probability that both of them are boys. Suppose I have two kids, lets call them X and Y. Suppose X is a girl. What is the probability that I have two daughters?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 225,
      question: "In a dark room, there is a deck of 52 cards, with exactly 10 cards facing up, rest are facing down. You can touch the cards with your hands but cannot sense which cards are facing up/down. You need to split all these cards into two decks with equal number of cards facing up!",
      answer: "Create a deck of 10 cards randomly from the original 52-card deck. And then turn over the 10-card deck.",
      explanation: [
        "This puzzle involves a trick, i.e, we can manually flip over any number of cards.",
        "We create a deck of k = 10 cards randomly selected from the deck.",
        "Suppose the k-card deck included x number of cards that were originally facing up, and k-x cards are facing up in the other deck.",
        "By flipping over this k-card deck, now there are exactly k-x cards facing up in this deck, same as the other deck.",
        "This question can be solved regardless of the original number k = 10, as long as we know the count of cards facing up. Credit: brainstellar",
      ],
      hint: "In a dark room, there is a deck of 52 cards, with exactly 10 cards facing up, rest are facing down. You can touch the cards with your hands but cannot sense which cards are facing up/down. You need to split all these cards into two decks with equal number of cards facing up!",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 226,
      question: "A certain town comprises of 100 married couples. Some husbands secretly cheat on their wives. All wives know about the nature of every husband except their own. When a wife concludes that her husband cheated, she kicks her husband into the street at midnight. All husbands remain silent about their secret. One day, the mayor of the town announces to the whole town that there is at least 1 cheating husband in the town. After announcement, no one talks, waiting for someone to get kicked. Till 9th night from announcement, no husband was kicked, but on the 10th night, some husbands got kicked out simultaneously. How many are they?",
      answer: "",
      explanation: [
        "It must be 10 husbands kicked out.",
        "If there was only 1 cheating husband in the town, there will be 99 women who know exactly who the cheater is.",
        "The 1 remaining woman, who is being cheated on, would have assumed there are no cheaters.",
        "But now that the mayor has confirmed that there is at least one cheater, she realizes that her own husband must be cheating on her.",
        "So her husband gets kicked on the day of the announcement.",
        "Now let's assume there are 2 cheaters in the town.",
        "There will be 98 women in the town who know who the 2 cheaters are.",
        "The 2 wives, who are being cheated on, would think that there is only 1 cheater in the town.",
        "Since neither of these 2 women know that their husbands are cheaters, they both do not report their husbands in on the day of the announcement.",
        "The Credit: brainstellar",
      ],
      hint: "A certain town comprises of 100 married couples. Some husbands secretly cheat on their wives. All wives know about the nature of every husband except their own. When a wife concludes that her husband cheated, she kicks her husband into the street at midnight. All husbands remain silent about their secret. One day, the mayor of the town announces to the whole town that there is at least 1 cheating husband in the town. After announcement, no one talks, waiting for someone to get kicked. Till 9th night from announcement, no husband was kicked, but on the 10th night, some husbands got kicked out simultaneously. How many are they?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 227,
      question: "A father claims about snowfall last night. First daughter tells that the probability of snowfall on a particular night is 1/8. Second daughter tells that 5 out of 6 times the father is lying! What is the probability that there actually was a snowfall?",
      answer: "1/36",
      explanation: [
        "Let S = Snowfall occurred, and C be the event that the father is claiming snowfall ocurred.",
        "Probability of (Snowfall given Claim) = P(S | C) = P(C|S) * P(S)/P(C)",
        "P(S) = 1/8",
        "P(C|S) = 1 - 5/6 = 1/6 (given in the question, father lies 5/6 times)",
        "P(C) = P(True claim) + P(False Claim) = P(C ∩ S) + P(C ∩ S') where S' means that it did not snow.",
        "= P(C|S) * P(S) + P(C | S') * P(S') = (1/6 * 1/8) + (5/6 * 7/8)",
        "P(S | C) = P(C|S) * P(S)/P(C) = (1/6 * 1/8)/((1/6 * 1/8) + (5/6 * 7/8)) = 1/36 Credit: brainstellar",
      ],
      hint: "A father claims about snowfall last night. First daughter tells that the probability of snowfall on a particular night is 1/8. Second daughter tells that 5 out of 6 times the father is lying! What is the probability that there actually was a snowfall?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 228,
      question: "You are in a game against devil, on a perfectly round table and with an infinite pile of pennies. He says, \"OK, we'll take turns putting one penny down, no overlapping allowed, and the pennies must rest flat on the table surface. The first guy who can't put a penny down loses.\" You can go first. How will you guarantee victory?",
      answer: "",
      explanation: [
        "You place a penny right in the center of the table.",
        "After that, whenever the devil places a penny on the table, mimic his placement by placing a penny diametrically opposite and at same distance from center.",
        "If he has a place to place a penny, so will you.",
        "The devil will run out of places to put a quarter before you do. Credit: brainstellar",
      ],
      hint: "You are in a game against devil, on a perfectly round table and with an infinite pile of pennies. He says, \"OK, we'll take turns putting one penny down, no overlapping allowed, and the pennies must rest flat on the table surface. The first guy who can't put a penny down loses.\" You can go first. How will you guarantee victory?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 229,
      question: "Two witches make a nightly visit to an all-night coffee shop. Each arrives at a random time between 0:00 and 1:00. Each one of them stays for exactly 30 minutes. On any one given night, what is the probability that the witches will meet at the coffee shop?",
      answer: "3/4",
      explanation: [
        "Plot the graph of X and Y, where X and Y denote the time each witch arrives.",
        "This will form a 60x60 square for total feasible region.",
        "The probability that they meet is |X-Y|<= 30.",
        "Draw this as favorable region, by joining line (30,0) with (60,30) and (0,30) with (30,60).",
        "Clearly the interior of this region has area 3/4 th of total.",
        "Hence the probability = 3/4 = 0.75 Credit: brainstellar",
      ],
      hint: "Two witches make a nightly visit to an all-night coffee shop. Each arrives at a random time between 0:00 and 1:00. Each one of them stays for exactly 30 minutes. On any one given night, what is the probability that the witches will meet at the coffee shop?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 230,
      question: "So there's this king. Someone breaks into his wine cellar where he stores 1000 bottles of wine. This person proceeds to poison one of the 1000 bottles, but gets away too quickly for the king's guard to see which one he poisoned or to catch him. The king needs the remaining 999 safe bottles for his party in 4 weeks. The king has 10 prisoners who deserve execution. The poison takes about 3 weeks to take effect, and any amount of it will kill whoever drinks it. How can he figure out which bottle was poisoned in time for the party?",
      answer: "",
      explanation: [
        "The king has to mix wine in order to isolate the single poisoned one.",
        "There are 10 servants. After about 3 weeks, each one can be either dead or alive, meaning that there are 2^10 = 1024 possible outcomes.",
        "Since 1024 > 1000, it's actually possible for some scheme to work.",
        "Here's the scheme: The king assigns each servant a number from 1-10.",
        "The king assigns each bottle a number from 0-999.",
        "When he labels them, though, he writes the number on the bottle in binary with ten digits, like this: 0: 000000000, 1: 000000001, 2: 000000010, 3: 000000011, 4: 000000100, 5: 000000101, ... 999: 1111100111 and so on.",
        "Now the strategy is simple: Pick bottle 1, write its binary form, look at the positions where '1' appears (here: 1st only).",
        "Make the corresponding prisoner drink small quantitiy of that wine. (ie prisoner 1 takes a sip of wine #1).",
        "Continue this process upto 1000th wine.",
        "After 3 weeks, suppose only prisoner number 4 & 7 die.",
        "This means the binary representation of poisoned wine has '1' at position 4 & 7, and rest all zeros.",
        "Convert this binary number to decimal and that gives the poisoned wine. Credit: brainstellar",
      ],
      hint: "So there's this king. Someone breaks into his wine cellar where he stores 1000 bottles of wine. This person proceeds to poison one of the 1000 bottles, but gets away too quickly for the king's guard to see which one he poisoned or to catch him. The king needs the remaining 999 safe bottles for his party in 4 weeks. The king has 10 prisoners who deserve execution. The poison takes about 3 weeks to take effect, and any amount of it will kill whoever drinks it. How can he figure out which bottle was poisoned in time for the party?",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 231,
      question: "Let X be a random variable that takes value 0 or 1 with 50% probability each. You need to define a new random variable Y as a function of X, such that Y has the value 1 with 25% probability and 0 otherwise.",
      answer: "Y = X * X' where X' is an independent copy of X",
      explanation: [
        "Given X is a random variable such that P(X=1)=P(X=0)=0.5.",
        "These mathematical entities typically represent a real world concept.",
        "For example, this X can take value 0 or 1 based on the outcome of a coin toss, say Tails representing 0 and Heads represeting 1.",
        "But we can toss this coin again, and get another sample independent of the first outcome.",
        "Let X' take the value 0 or 1 based on this second toss, independent of the first toss.",
        "This is the concept of an independent copy.",
        "Let X' be an independent copy of X. It has the same probability distribution as X but the value may or may not be the same.",
        "Thus, P(X=1) = P(X'=1) = 0.5",
        "Also, we can imagine if one coin-toss has probability of 1/2 for a heads, then the probability will be 1/4 for both coins to show up heads.",
        "P(X=1, X'=1) = P(X=1) * P(X'=1) = 1/4",
        "Hence, we can define Y = 1 if both X and X' are 1, and 0 otherwise.",
        "We can also use product operator to simplify this relationship.",
        "Y = X * X'",
        "This way, if both X and X' are 1 then Y will be 1, otherwise zero.",
        "This is not the same as Z = X^2 because Z can take the value 0 or 1 with probability 50% each.",
        "Programming Variant: Following is the programming version of this question: Function f1() returns true or false with 50% probability each, define function f2() that can return true with 25% probability, and false otherwise. You may use the function f1.",
        "This can be answered using the and gate.",
        "def f2(): return f1() and f1() Credit: brainstellar",
      ],
      hint: "Let XXX be a random variable that takes value 0 or 1 with 50% probability each. You need to define a new random variable YYY as a function of XXX, such that YYY has the value 1 with 25% probability and 0 otherwise.",
      difficulty: "easy",
      targetTime: 60,
    },
    {
      id: 301,
      question: "A line of 100 airline passengers is waiting to board a plane. They each hold a ticket to one of the 100 seats on that flight. For convenience, let's say that the nth passenger in line has a ticket for seat number 'n'. Being drunk, the first person in line picks a random seat (equally likely for each seat). All of the other passengers are sober, and will go to their assigned seats unless it is already occupied; If it is occupied, they will then find a free seat to sit in, at random. What is the probability that the last (100th) person to board the plane will sit in their own seat (#100)?",
      answer: "1/2",
      explanation: [
        "Note that the last passenger can only take seat #1 or #100.",
        "If any passenger takes seat #1, the cycle stops, and all the subsequent passengers take their own seats (including the last).",
        "Otherwise, if the #100 seat is taken before #1, the cycle is paused, i.e., the subsequent passengers do take their own seats, but the last passenger would take seat #1.",
        "Now, any passenger from 1st to 99th who is picking a random vacant seat will choose between #1, #100 or any other seat equally likely.",
        "Thus, by symmetry, #1 or #100, anyone will be taken first - with equal probability.",
        "Hence the last person ends up in their own seat with a probability of 0.5",
        "Follow-up Question: What's the probability that the second-last person sits on their seat?",
        "Follow-up Answer: 2/3. The answer follows from the same logic of symmetry between the choice of seat #1, seat #100 and seat #99.",
        "The probability that the kth person from the last will find their seat vacant is k/(k+1). Credit: brainstellar",
      ],
      hint: "A line of 100 airline passengers is waiting to board a plane. They each hold a ticket to one of the 100 seats on that flight. For convenience, let's say that the nthn^{\\text{th}}nth passenger in line has a ticket for seat number 'n'. Being drunk, the first person in line picks a random seat (equally likely for each seat). All of the other passengers are sober, and will go to their assigned seats unless it is already occupied; If it is occupied, they will then find a free seat to sit in, at random. What is the probability that the last (100th) person to board the plane will sit in their own seat (#100)?",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 302,
      question: "A stick is broken into 3 parts, by choosing 2 points randomly along its length. With what probability can it form a triangle?",
      answer: "1/4",
      explanation: [
        "All 3 sides have to have lengths less than half the length of the stick.",
        "the conditions are min{x.y}<= 0.5; max{x,y}>=0.5; |x-y|<=0.5.",
        "looking at the unit square, and dividing into 8 congruent triangles by lines parallel to the axes and y=x line, its easy to see 2 of the 8 triangles satisfy the condition.",
        "so the answer is 1/4 Credit: brainstellar",
      ],
      hint: "A stick is broken into 3 parts, by choosing 2 points randomly along its length. With what probability can it form a triangle?",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 303,
      question: "A rabbit sits at the bottom of a staircase with n stairs. The rabbit can hop up only one or two stairs at a time. What kind of sequence is depicted by the different ways possible for the rabbit to ascend to the top of the stairs of length n=1,2,3...?",
      answer: "Fibonacci Sequence.",
      explanation: [
        "Suppose f(n) are the number of ways to reach nth stair.",
        "Notice that the final hop is either a single jump or double jump, i.e. its from (n-1)th stair or (n-2)th.",
        "Thus f(n) = f(n-1) + f(n-2), where f(0)=f(1)=1.",
        "This is Fibonacci sequence. Credit: brainstellar",
      ],
      hint: "A rabbit sits at the bottom of a staircase with n stairs. The rabbit can hop up only one or two stairs at a time. What kind of sequence is depicted by the different ways possible for the rabbit to ascend to the top of the stairs of length n=1,2,3...?",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 304,
      question: "A. B & C live together and share everything equally. One day A brings home 5 logs of wood, B brings 3 logs and C brings none. Then they use the wood to cook together and share the food. Since C did not bring any wood, he gives $8 instead. How much to A and how much to B?",
      answer: "",
      explanation: [
        "Since each person consumed 8/3 woods.",
        "A gave 5-8/3 = 7/3 woods to C and B gave 3-8/3 = 1/3 woods to C.",
        "So, Out of the 8 dollars, A gets 7 and B gets 1 Credit: brainstellar",
      ],
      hint: "A. B & C live together and share everything equally. One day A brings home 5 logs of wood, B brings 3 logs and C brings none. Then they use the wood to cook together and share the food. Since C did not bring any wood, he gives $8 instead. How much to A and how much to B?",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 305,
      question: "Suppose you have a hotel which has one floor with infinite number of rooms in a row and all of them are occupied. A new customer wants to check in, how will you accommodate her? What if infinite number of people want to check in, how will you accommodate them? Suppose infinite number of buses arrive at the hotel, each having infinite number of people, how will you accommodate them?",
      answer: "",
      explanation: [
        "Since there are infinite number of rooms and infinite+1= infinite",
        "Just ask person in room k to move to k+1, thus making the first room vacant. :)",
        "In the other case, since infinite+infinite = infinite asking person in room k to move to 2k solves the problem.",
        "Since NxN is countable set. We can get a 1-1 mapping from N to NxN",
        "Hence, we can accommodate (infinite people X infinite buses) in the hotel.",
        "Relevant article: http://en.wikipedia.org/wiki/Cantor_pairing_function Credit: brainstellar",
      ],
      hint: "Suppose you have a hotel which has one floor with infinite number of rooms in a row and all of them are occupied. A new customer wants to check in, how will you accommodate her? What if infinite number of people want to check in, how will you accommodate them? Suppose infinite number of buses arrive at the hotel, each having infinite number of people, how will you accommodate them?",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 306,
      question: "In this gambling game, a player can buy a ticket for Rs 1 on any number from 1 to 6. Three identical and unfair dice are rolled. If the booked number appears on 0, 1, 2 or 3 dice, player wins Rs 0, 1, 2 or 3 respectively, without returning the original Rs 1. What is expected money you can win after buying a ticket for Rs 1?",
      answer: "1/2",
      explanation: [
        "We bet Rs 1 on each number 1-6.",
        "In any case, we get Rs 3 back.",
        "That is 1/2 per ticket.",
        "Hence the expected amount of money we can win is 1/2.",
        "A tedious way to arrive at this answer is to calculate the probability of getting 1, 2 or 3 faces common to our booking. Credit: brainstellar",
      ],
      hint: "In this gambling game, a player can buy a ticket for Rs 1 on any number from 1 to 6. Three identical and unfair dice are rolled. If the booked number appears on 0, 1, 2 or 3 dice, player wins Rs 0, 1, 2 or 3 respectively, without returning the original Rs 1. What is expected money you can win after buying a ticket for Rs 1?",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 307,
      question: "A group has 70 members. For any two members X and Y there is a language that X speaks but Y does not, and there is a language that Y speaks but X does not. At least how many different languages are spoken by this group?",
      answer: "This group has at least 8 different languages.",
      explanation: [
        "Let's go with hit and trial.",
        "Everyone knows the same language, that is a contradiction.",
        "Therefore it must be Credit: brainstellar",
      ],
      hint: "A group has 70 members. For any two members XXX and YYY there is a language that XXX speaks but YYY does not, and there is a language that YYY speaks but XXX does not. At least how many different languages are spoken by this group?",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 308,
      question: "A and B are in a team called AB, playing against C. If AB team wins they win Rs 3, nothing otherwise. The Game: A and B are placed in 2 separate rooms far away. A will toss a coin and B will also toss a coin; A will have to guess the outcome of B's toss and B will guess A's. If both guesses are right, team AB wins Rs 3, nothing otherwise. Should they play the game, by paying Rs 1 at the start?",
      answer: "1/2",
      explanation: [
        "Let's list down all the possibilities.",
        "A B: H H, H T, T H, T T",
        "Observe that 2 out of 4 times, their coins have the same face, i.e. either both heads or both tails.",
        "They can speak their own coin's face as their guess.",
        "They win the game with a probability of 1/2.",
        "The pay-off will be positive (1/2 * 3 - 1 = 0.5), and hence they should play this game. Credit: brainstellar",
      ],
      hint: "A and B are in a team called AB, playing against C. If AB team wins they win Rs 3, nothing otherwise. The Game: A and B are placed in 2 separate rooms far away. A will toss a coin and B will also toss a coin; A will have to guess the outcome of B's toss and B will guess A's. If both guesses are right, team AB wins Rs 3, nothing otherwise. Should they play the game, by paying Rs 1 at the start?",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 309,
      question: "Snow-particles are falling on the ground one after another. A particular snowflake turns out to be of type \"Stellar Dendrite\" with probability 'p' if its previous particle was also Stellar Dendrite, and with probability 'q' if previous one was something else. If a snowflake is picked from ground, what is the probability that it is Stellar Dendrite?",
      answer: "probability is q/(1-p+q)",
      explanation: [
        "Let x be the probability that a snowflake picked from the ground is a 'Stellar Dendrite'.",
        "Thus, when a new snowflake is falling, the last snowflake was Stellar Dendrite with probability x.",
        "This means that the probability the new falling snowflake is Stellar Dendrite = x * p + (1-x) * q.",
        "But, for the composition of the snowflakes on the ground to remain constant, xp+(1-x)q should be same as x",
        "⟹ x = xp + q - xq = x(p-q) + q",
        "⟹ x(1- (p-q)) = q",
        "⟹ x = q/(1-p+q)",
        "This is a kind of steady state analysis. Credit: brainstellar",
      ],
      hint: "Snow-particles are falling on the ground one after another. A particular snowflake turns out to be of type \"Stellar Dendrite\" with probability 'p' if its previous particle was also Stellar Dendrite, and with probability 'q' if previous one was something else. If a snowflake is picked from ground, what is the probability that it is Stellar Dendrite?",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 310,
      question: "After the revolution, each of the 66 citizens of a certain city, including the king, has a salary of 1. King cannot vote, but has the power to suggest changes - namely, redistribution of salaries. Each person's salary must be a whole number of dollars, and the salaries must sum to 66. He suggests a new salary plan for every person including himself in front of the city. Citizens are greedy, and vote yes if their salary is raised, no if decreased, and don't vote otherwise. The suggested plan will be implemented if the number of \"yes\" votes are more than \"no\" votes. The king is both, selfish and clever. He proposes a series of such plans. What is the maximum salary he can obtain for himself?",
      answer: "63",
      explanation: [
        "Continuing from the hint, The king begins by proposing that 33 citizens have their salaries doubled to $2, at the expense of the remaining 33 (himself included). Credit: brainstellar",
      ],
      hint: "After the revolution, each of the 66 citizens of a certain city, including the king, has a salary of 1. King cannot vote, but has the power to suggest changes - namely, redistribution of salaries. Each person's salary must be a whole number of dollars, and the salaries must sum to 66. He suggests a new salary plan for every person including himself in front of the city. Citizens are greedy, and vote yes if their salary is raised, no if decreased, and don't vote otherwise. The suggested plan will be implemented if the number of \"yes\" votes are more than \"no\" votes. The king is both, selfish and clever. He proposes a series of such plans. What is the maximum salary he can obtain for himself?",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 311,
      question: "At a party of N people, there are some friendships. Prove that there are at-least two people with the same count of friends. Assume that N≥2 and that the friendships are symmetric, i.e, if A is friends with B, then B is in turn friends with A.",
      answer: "Since there are N-1 possibilities for friend-count and total N people, atleast two people must have the same count.",
      explanation: [
        "The question can be solved by using the Pigeonhole Principle, which essentially states that if there are Credit: brainstellar",
      ],
      hint: "At a party of NNN people, there are some friendships. Prove that there are at-least two people with the same count of friends. Assume that N≥2N \\ge 2N≥2 and that the friendships are symmetric, i.e, if AAA is friends with BBB, then BBB is in turn friends with AAA.",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 312,
      question: "p and q are two points chosen at random between 0 & 1. What is the probability that the ratio p/q lies between 1 & 2?",
      answer: "0.25",
      explanation: [
        "Assume that the points are x & y respectively.",
        "We want to know if x/y is between 1 and 2.",
        "If we plot this, the limits are x/y = 1 and x/y = 2.",
        "Thus, the desired region is the area between lines y = x & y = x/2.",
        "This region is 1/4 th of the rest. Credit: brainstellar",
      ],
      hint: "p and q are two points chosen at random between 0 & 1. What is the probability that the ratio p/q lies between 1 & 2?",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 314,
      question: "Roll a die, and you get paid what the dice shows. But if you want, you can request a second chance & roll the die again; get paid what the second roll shows instead of the first. What is the expected value?",
      answer: "4.25",
      explanation: [
        "Let's compute the expected value of a single roll first.",
        "A fair six-sided die has outcomes 1 through 6 each with probability 1/6.",
        "So the expected value of a single roll is: 1/6 * 1 + 1/6 * 2 + 1/6 * 3 + 1/6 * 4 + 1/6 * 5 + 1/6 * 6 = 3.5",
        "Now, for the strategy where we can roll a second time, the optimal strategy is to roll again when the first roll is below the expected value (i.e., 1, 2, or 3) because on average, the second roll should be higher.",
        "So, if we roll a 1, 2, or 3, we should roll again, and the expected value of that roll is again 3.5.",
        "If we roll a 4, 5, or 6, we should keep it.",
        "Therefore, the expected value of the game under this optimal strategy is:",
        "1/6 * 3.5 + 1/6 * 3.5 + 1/6 * 3.5 + 1/6 * 4 + 1/6 * 5 + 1/6 * 6 = 25.5/6 = 4.25",
        "So, the expected payout under the optimal strategy of re-rolling when the first roll is 1, 2, or 3 is $4.25.",
        "Follow up question: What if you are allowed to roll the dice as many times as you want? What is the expected value of the game?",
        "Answer: 6",
        "Solution: If the number is not 6, you can request a retry. Stop only when the value is equal to 6. Credit: brainstellar",
      ],
      hint: "Roll a die, and you get paid what the dice shows. But if you want, you can request a second chance & roll the die again; get paid what the second roll shows instead of the first. What is the expected value?",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 315,
      question: "A very innocent monkey throws a fair die. The monkey will eat as many bananas as are shown on the die, from 1 to 5. But if the die shows '6', the monkey will eat 5 bananas and throw the die again. This may continue indefinitely. What is the expected number of bananas the monkey will eat?",
      answer: "4",
      explanation: [
        "Method 1: The intuition is that either the die is thrown only once, or Credit: brainstellar",
      ],
      hint: "A very innocent monkey throws a fair die. The monkey will eat as many bananas as are shown on the die, from 1 to 5. But if the die shows '6', the monkey will eat 5 bananas and throw the die again. This may continue indefinitely. What is the expected number of bananas the monkey will eat?",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 316,
      question: "What is the expected number of coin tosses required to get N consecutive heads? Denote the term by E_N",
      answer: "Recurrence form: E_N = 2E_{N-1} + 2; Closed form: E_N = 2^{N+1}-2",
      explanation: [
        "Method 1: We can simply reuse the method from problem \"Innocent Monkey\" (the law of total probability)",
        "Define let X_N = number of tosses to get N consecutive heads",
        "E_N = expected number of coin tosses we require from now on, to get N consecutive heads.",
        "Note that if we already have N-1 Heads, then with probability (1/2), we can get N consecutive heads, and with probability (1/2), we get a tail, and the state is reset.",
        "E_N = 1/2(E_{(N-1)} + 1) + 1/2(E_{N-1} + 1 + E_N)",
        "the extra 1 is because we just used a toss",
        "E_N = 2E_{N-1} + 2",
        "This is a recurrence relation and a good enough solution.",
        "But we can solve this into its closed form too.",
        "The right way to solve this is by using generating functions or characteristic equations.",
        "But we will use a Credit: brainstellar",
      ],
      hint: "What is the expected number of coin tosses required to get NNN consecutive heads? Denote the term by ENE_NEN",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 317,
      question: "A chess tournament has K levels and N=2^K players with skills P1>P2>...>P_N. At each level, random pairs are formed and one person from each pair proceeds to the next level. When two opponents play, the one with the better skills always wins. What is the probability that players P1 and P2 will meet in the final level?",
      answer: "N/(2(N-1))",
      explanation: [
        "Consider K = 1, N = 2, the probability is 1.",
        "Consider K = 2, N = 4; the first round can be in the following ways:",
        "(P_1 × P_2) × (P_3 × P_4), (P_1 × P_3) × (P_2 × P_4), (P_1 × P_4) × (P_2 × P_3)",
        "They don't meet in finals in the first case (out of a total of three).",
        "Thus, for K = 2, N = 4, the probability that they meet is 2/3.",
        "Assume that instead of forming random pairs at each level, we have already constructed a \"tournament tree\", which is a binary tree.",
        "At the bottom of this structure, we have the initial N players.",
        "Each node represents the match between the two children (players), and the value of each node is the player who won that match.",
        "The value of the top-level root node is the overall winner of the tournament.",
        "With this image, we can see the whole tournament is deterministic and only depends on the initial arrangement of players (at the bottom level).",
        "We also notice that the two players who reach the final level are the best players of the left half of the tree and the right of the tree (respectively).",
        "Imagine N players getting partitioned into two groups of N/2 players each, with player P_1 topping in the first group and player P_2 in the second.",
        "The best player of each partition reaches the final.",
        "The probability that a random partition separates player P_1 from P_2 is (N/2)/(N-1)",
        "Here's how: There are N empty slots in a sequence at the bottom layer of the tournament tree.",
        "We can start assigning players from P_1.",
        "Suppose P_1 is assigned to a slot in the first half.",
        "For P_2, there are total N-1 slots remaining, and N/2 are in a new group (that does not contain P_1).",
        "Hence, there are (N/2) favorable choices and N-1 total choices.",
        "Hence the probability is N/(2(N-1))",
        "Note: The question says that we are forming random pairs at each level. But that is equivalent to retroactively constructing the bottom-layer of the tournament tree, in any desirable fashion.",
        "For example, consider at the i th level, we randomly decide to match P_j with P_k, even though they were not siblings in the tree at that level.",
        "That's fine, we can modify the tree such that now P_j and P_k are siblings, while keeping the entire branch below each of those nodes intact. Credit: brainstellar",
      ],
      hint: "A chess tournament has KKK levels and N=2KN = 2^KN=2K players with skills P1>P2>...>PNP_1 > P_2 > ... >P_{N}P1​>P2​>...>PN​. At each level, random pairs are formed and one person from each pair proceeds to the next level. When two opponents play, the one with the better skills always wins. What is the probability that players P1P_1P1​ and P2P_2P2​ will meet in the final level?",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 318,
      question: "A coin is tossed 10 times and the output written as a string. What is the expected number of HH? Note that in HHH, number of HH = 2. (eg: expected number of HH in 2 tosses is 0.25, 3 tosses is 0.5)",
      answer: "",
      explanation: [
        "Let the expected number of HH for n tossed is E(n).",
        "So, probability that an (n-1) toss experiments, ends in T is 1/2.",
        "So, E(n) = 1/2 * E(n-1) + 1/2 * (1/2 * (E(n-1)+1) + 1/2 * (E(n-1)))",
        "(The first case when it ends in T. & The second case when it ends in H.",
        "In the second case, if you get an H then, you get 1 Credit: brainstellar",
      ],
      hint: "A coin is tossed 10 times and the output written as a string. What is the expected number of HH? Note that in HHH, number of HH = 2. (eg: expected number of HH in 2 tosses is 0.25, 3 tosses is 0.5)",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 319,
      question: "The stick drops and breaks at a random point distributed uniformly across the length. What is the expected length of the smaller part?",
      answer: "",
      explanation: [
        "The probability that the break point belongs to first half is 1/2.",
        "In this case, the expected length of the small part is L/4.",
        "Its L/4 in the other case too.",
        "Hence E = 1/2 * L/4 + 1/2 * L/4 = L/4 Credit: brainstellar",
      ],
      hint: "The stick drops and breaks at a random point distributed uniformly across the length. What is the expected length of the smaller part?",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 401,
      question: "An ant is standing on one corner of a cube & can only walk on the edges. The ant is drunk and from any corner, it moves randomly by choosing any edge! What is the expected number of edges the ant travels, to reach the opposite corner?",
      answer: "10",
      explanation: [
        "We can define 4 equivalent states, based on the corner the Ant is at:",
        "Starting corner.",
        "Corner adjacent to the starting corner.",
        "Corner that shares an edge with the opposite corner.",
        "The opposite corner.",
        "We can represent the expected number of steps E_i from each state as follows:",
        "E_0 = 1 + 1/3(E_1 + E_1 + E_1)",
        "E_1 = 1 + 1/3(E_0 + E_2 + E_2)",
        "E_2 = 1 + 1/3(E_1 + E_1 + E_3)",
        "E_3 = 0 (already reached the destination)",
        "Solving this we find E_0 = 10",
        "Calculations:",
        "⟹ E_0 = 1 + E_1 & E_2 = 1 + 2/3 * E_1",
        "Substitute E_0 and E_2 in the middle equation.",
        "⟹ 3E_1 = 3 + (1 + E_1) + 2(1 + 2/3 E_1)",
        "⟹ 3E_1 = 4 + E_1 + 2 + 4/3 E_1",
        "⟹ 2/3 E_1 = 6 ⟹ E_1 = 9 ⟹ E_0 = 10 Credit: brainstellar",
      ],
      hint: "An ant is standing on one corner of a cube & can only walk on the edges. The ant is drunk and from any corner, it moves randomly by choosing any edge! What is the expected number of edges the ant travels, to reach the opposite corner?",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 402,
      question: "What is the expected distance of any point on Earth and the north pole? Take Earth radius 1. Clarification: Shortest distance cuts through the sphere, instead of lying on surface. Further thinking: Is this question same as choosing two random points on unit sphere and asking their expected distance?",
      answer: "4/3",
      explanation: [
        "2 * sin(x/2) is the distance of north pole from a point on the ring at angle x from the z axis.",
        "So, integrate from 0 to pi, (2 * pi * sin(x) * 2 * sin(x/2) dx) and divide by the total area which is 4 * pi.",
        "Answer: 4/3",
        "Another approach is to imagine a horizontal ring of dy thickness at distance y from N (north pole).",
        "Area of ring = 2 * pi * dy",
        "Probability of choosing point on this ring = dy/2",
        "Distance of N & a point on ring = sqrt(2y)",
        "Exp length = integral (y=0 to 2) of sqrt(2y) dy/2 = 4/3",
        "And yes, taking two random points on surface of sphere and asking their expected distance is same as this very question. Credit: brainstellar",
      ],
      hint: "What is the expected distance of any point on Earth and the north pole? Take Earth radius 1. Clarification: Shortest distance cuts through the sphere, instead of lying on surface. Further thinking: Is this question same as choosing two random points on unit sphere and asking their expected distance?",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 403,
      question: "A stick is broken into 3 pieces, by randomly choosing two points along its unit length, and cutting it. What is the expected length of the middle part?",
      answer: "1/3",
      explanation: [
        "Double integral of |x-y|dxdy gives 1/3 as answer.",
        "This is same as one would expect from a broken pencil.",
        "Palak's Solution: Integrate from 0 to 1, x * x/2 + (1-x) * (1-x)/2 = 1/3",
        "logic: if one cut is at distance x from left, with probability x, the second cut comes before it, and expected length of middle piece is x/2.. Credit: brainstellar",
      ],
      hint: "A stick is broken into 3 pieces, by randomly choosing two points along its unit length, and cutting it. What is the expected length of the middle part?",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 404,
      question: "There are n letters and n envelopes. You put the letters randomly in the envelopes so that each letter is in one envelope. (Effectively a random permutation of n numbers chosen uniformly). Calculate the expected number of envelopes with the correct letter inside them.",
      answer: "1",
      explanation: [
        "Let X_i be the indicator random variable such that: 1 if the i th letter ends up in the i th envelope. 0 otherwise",
        "E[X_i] = P(X_i = 1) = 1/n for any i",
        "let X be the number of letters that ended up in their respective envelopes.",
        "Now, X = X_1 + X_2 + … + X_n",
        "E[X] = E[∑_{i=1}^{n} X_i] = ∑_{i=1}^{n} E[X_i] (Using Linearity of Expectations)",
        "= ∑_{i=1}^{n} (1/n) = 1",
        "Therefore, we expect on average one letter to be in the correct envelope. Credit: brainstellar",
      ],
      hint: "There are nnn letters and nnn envelopes. You put the letters randomly in the envelopes so that each letter is in one envelope. (Effectively a random permutation of nnn numbers chosen uniformly). Calculate the expected number of envelopes with the correct letter inside them.",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 405,
      question: "A soda company is holding a contest where everyone who collects one each of N different coupons wins some prize. You get a coupon with each purchase of a soda, and each coupon is equally likely. What's the expected number of soda bottles you have to buy in order to collect all the coupons?",
      answer: "",
      explanation: [
        "Divide the whole process in to stages. Each stage ends with collecting a coupon which is new (different from the coupons we already have)",
        "Let C_i be the random variable which denotes the number of coupons we buy in the stage i.",
        "Let C be the random variable which denotes the number of coupons we buy in order to get all n coupons",
        "Now, C= C_1 + C_2 + ... + C_n",
        "Note C_1 = 1;",
        "In general, while we are during stage i, we already have with us (i-1) different coupons.",
        "So, the probability of getting a new coupon is p_i = n-(i-1)/n.",
        "Also note that each C_i is a Geometrically distributed random variable with success probability equal to p_i.",
        "So, E(C_i) = 1/p_i = n/(n-i+1).",
        "By using Linearity of Expectations, E(C) = E(C_1) +E(C_2) + ...+E(C_n) = n(1/n + 1/(n-1)+ ... +1) ~ nlogn. Credit: brainstellar",
      ],
      hint: "A soda company is holding a contest where everyone who collects one each of N different coupons wins some prize. You get a coupon with each purchase of a soda, and each coupon is equally likely. What's the expected number of soda bottles you have to buy in order to collect all the coupons?",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 406,
      question: "You have 100 noodles in your soup bowl. You are told to take two ends of some noodles (each end on any noodle has the same probability of being chosen) in your bowl and connect them. You continue until there are no free ends. What is the expected number of loops? What is the probability of making one large loop which includes every noodle?",
      answer: "= 1/(2N-1) + 1/(2N-3) + ... + 1/3 + 1 where N = 100. This formula can also be proved using induction. Calculating Probability of single large loop: If you followed last result, this one is simple, this time all the identitiy variables are zero except last one. Thus probability is [1 - 1/(2N-1)] * [1 - 1/(2N-3)] * ... * [1-1/3] = Product (i = 2 to N) [(2i-2)/(2i-1)]",
      explanation: [
        "First calculate expected number of loops:",
        "Denote X1 = identity variable, which takes value 1 every time a (long) noodle becomes a loop by connecting to its end, (if its own end is connected to some other noodle, then that other noodle's end will be considered).",
        "Thus, number of loops = X1 +...+ X100, thus, expected number of loops = E(X1) + ... + E(X100).",
        "This will give answer = 1/(2N-1) + 1/(2N-3) + ... + 1/3 + 1 where N = 100.",
        "This formula can also be proved using induction.",
        "Calculating Probability of single large loop:",
        "If you followed last result, this one is simple, this time all the identitiy variables are zero except last one.",
        "Thus probability is [1 - 1/(2N-1)] * [1 - 1/(2N-3)] * ... * [1-1/3] = Product (i = 2 to N) [(2i-2)/(2i-1)] Credit: brainstellar",
      ],
      hint: "You have 100 noodles in your soup bowl. You are told to take two ends of some noodles (each end on any noodle has the same probability of being chosen) in your bowl and connect them. You continue until there are no free ends. What is the expected number of loops? What is the probability of making one large loop which includes every noodle?",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 407,
      question: "Given the set of numbers from 1 to n: {1, 2, 3 .. n} We draw n numbers randomly (with uniform distribution) from this set (with replacement). What is the expected number of distinct values that we would draw?",
      answer: "E(n) = n[1-(1-1/n)^n]",
      explanation: [
        "Notice that number of distinct points in the produced set is same as number of distinct points selected from the given set {1..n}.",
        "For that we denote indicator function Si, that is, Si = 1 if the interger i is taken into produced set.",
        "Let S denote the number of distinct points selected, S = S1+..+Sn",
        "E(S) = E(S1) +...+ E(Sn) and E(Si) = 1 * P(Si) = 1 - (Probability that 'i' is not chosen in any draw) = 1 - (Prob that is i is not chosen in one 1st draw)^n = 1 - (1 - 1/n)^n",
        "Thus E(S) = n * (1 - ((n-1)/n)^n) Credit: brainstellar",
      ],
      hint: "Given the set of numbers from 1 to n: { 1, 2, 3 .. n } We draw n numbers randomly (with uniform distribution) from this set (with replacement). What is the expected number of distinct values that we would draw?",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 408,
      question: "What is the expected number of cards that need to be turned over in a regular 52-card deck in order to see the first ace?",
      answer: "53/5",
      explanation: [
        "Define X1,X2…X48, such that Xi = 1 if ith card turns over before 4 aces, 0 otherwise.",
        "Thus, total number of cards turned to see first ace = 1 + sum (Xi)",
        "using linearity of expectation, E(X) = 1 + sum (E(Xi))",
        "Now consider the ith card and the four aces, all the orders are equally likely:",
        "X,A,A,A,A Or A,X,A,A,A, or 3 others.",
        "They are equally likely when we have no knowledge about position of these Aces with respect of the deck.",
        "Hence we have 5 equally likely slots for ith card: 1 A 2 A 3 A 4 A 5.",
        "We are interested in 1st slot.",
        "Hence E(Xi) = 1/5 for all i = 1 to 48",
        "Thus E(X) = 1 + 48/5 = 53/5 = 10.6",
        "This can be done by recursive equation f(n) = (4/n) * 1 + ((n-4)/n) * (1+f(n-1)), where f(n)=expected cards to flip in a deck of n cards, but I definitely can't solve this without a computer.",
        "A shorter explanation is to consider the 52 cards uniformly distributed over (0,1), so on average they're at k/53 for k=1,2,3,…,52.",
        "The four aces are on average at 1/5, 2/5, 3/5, 4/5.",
        "So 0.2=k/53 implies k=10.6, done! Credit: brainstellar",
      ],
      hint: "What is the expected number of cards that need to be turned over in a regular 52-card deck in order to see the first ace?",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 409,
      question: "x & y are two random points selected uniformly between 0 & 1. Using them, create a point uniformly random in a circle of radius 1. (uniform means that the probability density is constant)",
      answer: "θ = 2πx and r = √y, then take the point as (r cos(θ), r sin(θ))",
      explanation: [
        "We could generate a random point in the square and reject it if it is not in the circle.",
        "However, the question asks to transform the point, not filter it.",
        "We need to somehow manipulate the given random point (x, y)",
        "Initial Misstep: The coordinates of the point in the circle are then given by (r cos(θ), r sin(θ)) where r is the radius and θ is the angle.",
        "Thus, we can use polar coordinates, x can be converted to the angle and y can be used as the radius.",
        "Let θ = 2πx, its value ranged between 0 to 2π",
        "Let r = y, the radius in the polar coordinates, its value is between 0 and 1.",
        "The Polar Coordinate (r, θ) can be converted to the cartesian coordinate.",
        "Thus, (y cos(2πx), y sin(2πx)) will generate a random point within the disk of radius 1.",
        "However, to ensure uniform distribution, we can't just take r = y.",
        "This is because points near the center of the circle are much Credit: brainstellar",
      ],
      hint: "xxx & yyy are two random points selected uniformly between 000 & 111. Using them, create a point uniformly random in a circle of radius 111. (uniform means that the probability density is constant)",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 410,
      question: "N points are chosen at random on the circumference of a circle. A convex n-gon (n sided polygon) is drawn by joining these n points. What is the probability that the center of circle lies inside the region of n-gon?",
      answer: "1 - nP where P = 1/2^{n-1}",
      explanation: [
        "For a polygon inscribed in a circle to exclude the center of that circle, there must be a straight line that can be drawn through the center of the circle such that all vertices (points) of the polygon are on one side of that line.",
        "In terms of the circle, this line is a diameter, and all the points are within a semi-circle.",
        "Thus, the polygon excludes the center if and only if all points are within a semi-circle.",
        "This is easier to check.",
        "Suppose we lock the first point (at random), imagine a semi-circular arc that starts from this point, in a clockwise direction around the circle.",
        "We want to know if the Credit: brainstellar",
      ],
      hint: "N points are chosen at random on the circumference of a circle. A convex nnn-gon (n sided polygon) is drawn by joining these n points. What is the probability that the center of circle lies inside the region of nnn-gon?",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 412,
      question: "On pressing a button, a random number is generated uniformly between 0 & 1. You keep on generating these numbers until their sum exceeds 1. What is the probability that you need to press the button more than n times? What is the expected number of times you need to press the button?",
      answer: "Probability: 1/n!; Expected times: e",
      explanation: [
        "Probability of Credit: brainstellar",
      ],
      hint: "On pressing a button, a random number is generated uniformly between 0 & 1. You keep on generating these numbers until their sum exceeds 1. What is the probability that you need to press the button more than n times? What is the expected number of times you need to press the button?",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 413,
      question: "You are initially located at the origin on the x-axis. You start a random walk with an equal probability of moving left or right, one step at a time. What is the probability that you will reach point a before reaching point −b? Assume a and b are natural numbers. a>1;b>1",
      answer: "b/(a+b)",
      explanation: [
        "Probability: Let us assume that we stop walking the moment we reach any of a or −b.",
        "As we keep walking randomly, we'll eventually hit one of the two points, and the game will surely end.",
        "Suppose P_a is the probability that we end at a, and (1 - P_a) is the probability that we end with −b.",
        "Let X be the position on the x-axis at the end of this game.",
        "E[X] = a * P_a + (-b) * (1 - P_a)",
        "Also note that the walk is symmetric (equal probability in either direction), so, logically, E[X] = 0",
        "0 = a * P_a - b * (1 - P_a)",
        "Solve to get P_a = b/(a + b)",
        "Follow up Question: What is the expected number of steps to reach either a or −b?",
        "Follow up Solution: Warning: This solution uses the knowledge of Martingales and advanced stochastic theory.",
        "In probability theory, a Martingale is a model of a fair game where knowledge of past events does not help to predict the mean of the future winnings, and where the expected value of the Credit: brainstellar",
      ],
      hint: "You are initially located at the origin on the xxx-axis. You start a random walk with an equal probability of moving left or right, one step at a time. What is the probability that you will reach point aaa before reaching point −b-b−b? Assume aaa and bbb are natural numbers. a>1;b>1a >1; b > 1a>1;b>1",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 414,
      question: "You are taking out candies one by one from a jar that has 10 red candies, 20 blue candies, and 30 green candies in it. What is the probability that there is at least 1 blue candy and 1 green candy left in the jar when you have taken out all the red candies? Assume that the candies of the same color are indistinguishable from one another.",
      answer: "7/12",
      explanation: [
        "30/60 * 20/30 + 20/60 * 30/40 = 7/12",
        "We will reach this formula by considering the complete sequence of 60 candies.",
        "Any scenario that satisfies the given question will match one of the following two:",
        "The 60th candy in this sequence is green, and some blue candy exists before this and after the last red candy.",
        "The 60th candy is blue, and some green candy exists before this and after the last red candy.",
        "In the first scenario, let G be the event that the 60th candy is green.",
        "Let B* be the event that there is a blue candy before that but after the last red.",
        "Since these two events are not independent, we want to calculate:",
        "P(G ∩ B*) = P(G) * P(B* | G)",
        "P(G) = 30/60 because the 60th candy will be one of 30 greens, and there are a total of 60 choices.",
        "P(B* | G) is the probability of finding a blue candy after the last red, given that the 60th candy is green.",
        "Now remove all green candies from consideration, there are 30 candies (10 red & 20 blue).",
        "Imagine a random sequence of these 30 candies (it might be scattered anywhere from position 1 to 59, but still, it is a random sequence of 30 candies only).",
        "The probability that the 30th one of these is blue is 20/30.",
        "Thus P(G ∩ B*) = (30/60) * (20/30). Credit: brainstellar",
      ],
      hint: "You are taking out candies one by one from a jar that has 101010 red candies, 202020 blue candies, and 303030 green candies in it. What is the probability that there is at least 111 blue candy and 111 green candy left in the jar when you have taken out all the red candies? Assume that the candies of the same color are indistinguishable from one another.",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 415,
      question: "An aircraft hovers above sea, trying to catch a submarine moving with a constant velocity under the sea. The submarine is completely invisible, but using a human radar only once, the aircraft knows the exact location of submarine under the sea. The direction of submarine is unknown, but constant. The aircraft can move at twice the speed of submarine. As soon as the aircraft is just vertically above the submarine, Aircrafet can magnetically pick it up. How does the aircraft catch the submarine? How much time ill it take?",
      answer: "Let Op, Os be the initial positions of the plane and the submarine, resp. For time t0 = d/(s+p), the plane will move towards Os in the OpOs direction. After that, with Os as the origin, the plane will maintain a constant velocity of s along the radial direction. Thus, at an angle theta from OpOs, tangential displacement in time dt is sqrt(p^2-s^2) * dt = r * d(theta) = s * t * d(theta) => dt/t = s/sqrt(p^2-s^2) * d(theta). Integrating t from t0 to tf, and theta from 0 to 2 * pi, we get tf = t0 *",
      explanation: [
        "Let speed of plane be 2s, submarine: s, original distance d",
        "Locus of submarine after time t is circle of radius s * t centered at original location of submarine.",
        "Thus the plane moves 2/3 distance towards submarine, and then spirals out by increasing radius with speed 's'.",
        "The submarine is caught after one round.",
        "For General case, with speeds p > s, see Palak's Answer:",
        "Let Op, Os be the initial positions of the plane and the submarine, resp.",
        "For time t0 = d/(s+p), the plane will move towards Os in the OpOs direction.",
        "After that, with Os as the origin, the plane will maintain a constant velocity of s along the radial direction.",
        "Thus, at an angle theta from OpOs, tangential displacement in time dt is sqrt(p^2-s^2) * dt = r * d(theta) = s * t * d(theta) => dt/t = s/sqrt(p^2-s^2) * d(theta).",
        "Integrating t from t0 to tf, and theta from 0 to 2 * pi, we get tf = t0 * exp[2 * pi * s/sqrt(p^2-s^2)] = [d/(s+p)] * exp[2 * pi * s/sqrt(p^2-s^2)].",
        "Note that the plane can be vertically above the submarine any time between t0 and tf, depending on the direction theta of the velocity of the submarine wrt OpOs, thus making tf the worst case time. Credit: brainstellar",
      ],
      hint: "An aircraft hovers above sea, trying to catch a submarine moving with a constant velocity under the sea. The submarine is completely invisible, but using a human radar only once, the aircraft knows the exact location of submarine under the sea. The direction of submarine is unknown, but constant. The aircraft can move at twice the speed of submarine. As soon as the aircraft is just vertically above the submarine, Aircrafet can magnetically pick it up. How does the aircraft catch the submarine? How much time ill it take?",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 416,
      question: "A spy is located on a one-dimensional line. At time 0, the spy is at location A. With each time interval, the spy moves B units to the right (if B is negative, the spy is moving left). A and B are fixed integers, but they are unknown to you. You are to catch the spy. The means by which you can attempt to do that is: at each time interval (starting at time 0), you can choose a location on the line and ask whether or not the spy is currently at that location. That is, you will ask a question like \"Is the spy currently at location 27?\" and you will get a yes/no answer. Devise an algorithm that will eventually find the spy",
      answer: ". Devise an algorithm that will eventually find the spy",
      explanation: [
        "Here is a detailed solution with images",
        "And here is a short solution:",
        "Since integer 2-tuples (x, y) are countable, there exists a function f: N → N*N such that f covers all integer 2-tuples.",
        "Let f(n) = (f_1(n), f_2(n)).",
        "The algorithm will be to check for location f_1(n) + n * f_2(n) at time instant n.",
        "Given A and B, there exists n_0 such that f(n_0) = (f_1(n_0), f_2(n_0)) = (A, B), and thus at time instant n_0 we will be checking for location f_1(n_0) + n_0 * f_2(n_0) which is = A + B * n_0 - the actual location of the spy. Credit: brainstellar",
      ],
      hint: "A spy is located on a one-dimensional line. At time 0, the spy is at location A. With each time interval, the spy moves B units to the right (if B is negative, the spy is moving left). A and B are fixed integers, but they are unknown to you. You are to catch the spy. The means by which you can attempt to do that is: at each time interval (starting at time 0), you can choose a location on the line and ask whether or not the spy is currently at that location. That is, you will ask a question like \"Is the spy currently at location 27?\" and you will get a yes/no answer. Devise an algorithm that will eventually find the spy",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 419,
      question: "You are given N coins which look identical (assume N = 2^k). But actually some of them are pure gold coins (hence are heavy) and the rest are aluminum coins with thin gold plating (light). You are given one beam balance with two pans. What is the number of weighing required to separate the gold from fake coins? (all gold coins have equal weights & all fake coins too have the same weight)",
      answer: "",
      explanation: [
        "It takes about (log N)^2 operations:",
        "Divide the set of 2^k with d heavy coins into two sets, each with 2^(k-1) coins with floor(d/2) heavy coins.",
        "If we can do this, we can determine the number of heavy coins in O(log n)^2 operations.",
        "Dividing the set can be done in O(log n).",
        "(*Later) So, T(n) = T(n/2) + O(log n) T(n) = O(log^2 n).",
        "To be exact, this is k*(k+1)/2. where k = log N",
        "(*Sub-Algorithm) Divide the set into two sets A and B of equal number of coins.",
        "Let A greater than B and to make both side of equal weight, I need to shift few coins from A to B and equal number of coins from B to A.",
        "So divide A into A1 and A2, and B into B1 and B2.",
        "Move A2 from A into B and B1 from B into A now if (A1,B1) is greater than (B2,A2) then I have not moved enough coins from A into B so as to make B part heavy enough hence you divide A1 into A11,A12 and move A12 in B side Credit: brainstellar",
      ],
      hint: "You are given N coins which look identical (assume N = 2^k). But actually some of them are pure gold coins (hence are heavy) and the rest are aluminum coins with thin gold plating (light). You are given one beam balance with two pans. What is the number of weighing required to separate the gold from fake coins? (all gold coins have equal weights & all fake coins too have the same weight)",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 420,
      question: "Two immensely intelligent players, A & B, engage in a game, the rules of which are as follows. For a natural number N, the board consists of numbers from 1 to N. Each player takes turns to strike off a (new) number from the board. But, to make sure N doesn't affect who wins, there is an added rule. Once you strike off a number, you also have to strike off all its divisors in that same chance, irrespective of whether any of those divisors were already marked. The player to strike off the last number on the board wins. Can A construct a winning strategy? Note: The question asks for the existence of the strategy, not to devise the strategy itself.",
      answer: "For a given N, either A has a winning strategy or B. If B has the strategy, then A can strike 1 and copy B's strategy.",
      explanation: [
        "There is no simple winning strategy, based on the initial number N, that A can use to win the game.",
        "We'll use the common strategy stealing argument.",
        "Determinism: The game can be represented as a tree, where each node represents a possible state of the game, and the children represent valid moves to the Credit: brainstellar",
      ],
      hint: "Two immensely intelligent players, A & B, engage in a game, the rules of which are as follows. For a natural number NNN, the board consists of numbers from 111 to NNN. Each player takes turns to strike off a (new) number from the board. But, to make sure NNN doesn't affect who wins, there is an added rule. Once you strike off a number, you also have to strike off all its divisors in that same chance, irrespective of whether any of those divisors were already marked. The player to strike off the last number on the board wins. Can A construct a winning strategy? Note: The question asks for the existence of the strategy, not to devise the strategy itself.",
      difficulty: "hard",
      targetTime: 120,
    },
    {
      id: 421,
      question: "N undercover agents have been found in don's lair. Less than half of them are terrorists and the rest are anti-terrorists. The nature of their job is so secret that there is no proof what so ever to testify who is who. Although each of them knows who was actual terrorist and who was anti because they worked in teams. A query consists of asking person i if person j is Anti. Anti will always speak truth but a terrorist may lie to confuse you. The goal is to find out one anti in fewest queries.",
      answer: "is correct. Note that if such chain contains an anti then last person in the chain would be anti. So query person 1 about 2. If answer is yes query person 2 about 3. continue till answer is correct. suppose at some point person i when queried about person j says wrong, in that case remove person i and j from the chain, and continue query process by querying predecessor of i about successor of j. Here note that when we remove person i and j from the chain at-least one of them must be faulty. here",
      explanation: [
        "Please note that this question cannot be solved with any algorithm if terrorists are Credit: brainstellar",
      ],
      hint: "N undercover agents have been found in don's lair. Less than half of them are terrorists and the rest are anti-terrorists. The nature of their job is so secret that there is no proof what so ever to testify who is who. Although each of them knows who was actual terrorist and who was anti because they worked in teams. A query consists of asking person i if person j is Anti. Anti will always speak truth but a terrorist may lie to confuse you. The goal is to find out one anti in fewest queries.",
      difficulty: "hard",
      targetTime: 120,
    },
  ] as ProbaQuestion[],
  'coding-project': [
    {
      id: 1,
      prompt: "Moving Average Crossover: Implement a function that takes price data and returns buy/sell signals when a short MA crosses a long MA.",
      tags: ["Coding", "Technical Analysis", "Python"],
      starChecks: [
        "Function signature and input validation",
        "Correct calculation of moving averages",
        "Proper detection of crossover points",
        "Clear return format for signals",
      ],
    },
    {
      id: 2,
      prompt: "Bollinger Bands: Write a function to calculate Bollinger Bands (mean ± 2 std dev) for a given window size.",
      tags: ["Coding", "Technical Analysis", "Statistics"],
      starChecks: [
        "Correct rolling mean calculation",
        "Correct rolling standard deviation",
        "Proper band calculation (mean ± 2σ)",
        "Handles edge cases (window size, data length)",
      ],
    },
    {
      id: 3,
      prompt: "Maximum Drawdown: Given an array of portfolio values, calculate the maximum drawdown.",
      tags: ["Coding", "Risk Metrics", "Algorithm"],
      starChecks: [
        "Correct drawdown calculation (peak to trough)",
        "Efficient algorithm (O(n) time complexity)",
        "Handles edge cases (empty array, single value)",
        "Returns both max drawdown value and period",
      ],
    },
    {
      id: 4,
      prompt: "Sharpe Ratio Calculator: Implement a function to calculate annualized Sharpe ratio from daily returns.",
      tags: ["Coding", "Risk Metrics", "Statistics"],
      starChecks: [
        "Correct calculation: (mean return - risk-free) / (std dev × √252)",
        "Proper annualization (252 trading days)",
        "Handles risk-free rate parameter",
        "Edge case handling (zero variance, negative returns)",
      ],
    },
    {
      id: 5,
      prompt: "Pairs Trading Signal: Given two correlated stocks' prices, detect when the spread deviates >2 std devs.",
      tags: ["Coding", "Pairs Trading", "Statistics"],
      starChecks: [
        "Calculate spread (price1 - price2 or ratio)",
        "Calculate rolling mean and std dev of spread",
        "Detect when |spread - mean| > 2σ",
        "Return clear signals (buy/sell spread)",
      ],
    },
    {
      id: 6,
      prompt: "Order Book Imbalance: Given bid/ask arrays with prices and quantities, calculate the order book imbalance.",
      tags: ["Coding", "Market Microstructure", "Order Book"],
      starChecks: [
        "Calculate bid/ask volumes correctly",
        "Imbalance formula: (bid_volume - ask_volume) / (bid_volume + ask_volume)",
        "Handle edge cases (zero volume, empty book)",
        "Return normalized imbalance value",
      ],
    },
    {
      id: 7,
      prompt: "VWAP Calculator: Implement Volume-Weighted Average Price for a series of trades.",
      tags: ["Coding", "Execution", "VWAP"],
      starChecks: [
        "Correct VWAP formula: Σ(price × volume) / Σ(volume)",
        "Handle cumulative calculation efficiently",
        "Return VWAP for each point in time",
        "Edge case handling (zero volume)",
      ],
    },
    {
      id: 8,
      prompt: "Options Pricer: Implement Black-Scholes formula for European call/put options.",
      tags: ["Coding", "Options", "Black-Scholes"],
      starChecks: [
        "Correct Black-Scholes formula implementation",
        "Calculate d1 and d2 correctly",
        "Use cumulative normal distribution (approximation)",
        "Handle both call and put options",
      ],
    },
    {
      id: 9,
      prompt: "Greeks Calculator: Calculate Delta, Gamma, Vega for an option position.",
      tags: ["Coding", "Options", "Greeks"],
      starChecks: [
        "Delta: ∂Option/∂Stock (numerical or analytical)",
        "Gamma: ∂Delta/∂Stock",
        "Vega: ∂Option/∂Volatility",
        "Handle multiple positions correctly",
      ],
    },
    {
      id: 10,
      prompt: "Candlestick Pattern Detector: Detect specific patterns (e.g., hammer, doji) in OHLC data.",
      tags: ["Coding", "Technical Analysis", "Pattern Recognition"],
      starChecks: [
        "Correct OHLC data parsing",
        "Pattern detection logic (body, wick ratios)",
        "Handle multiple patterns",
        "Return pattern type and confidence",
      ],
    },
    {
      id: 11,
      prompt: "Monte Carlo Simulation: Simulate 10,000 paths of a stock following geometric Brownian motion.",
      tags: ["Coding", "Simulation", "Stochastic Processes"],
      starChecks: [
        "Correct GBM formula: S_t = S_0 × e^((μ-σ²/2)t + σW_t)",
        "Generate random normal increments",
        "Efficient vectorized implementation",
        "Return distribution of final prices",
      ],
    },
    {
      id: 12,
      prompt: "Correlation Matrix: Calculate rolling correlation matrix for multiple assets.",
      tags: ["Coding", "Statistics", "Correlation"],
      starChecks: [
        "Correct correlation calculation: Cov(X,Y) / (σₓ × σᵧ)",
        "Rolling window implementation",
        "Handle missing data",
        "Return symmetric correlation matrix",
      ],
    },
    {
      id: 13,
      prompt: "Mean Reversion Strategy: Implement a mean reversion strategy with entry/exit logic based on z-score.",
      tags: ["Coding", "Strategy", "Mean Reversion"],
      starChecks: [
        "Calculate z-score: (price - mean) / std",
        "Entry: z-score > threshold (e.g., 2)",
        "Exit: z-score returns to mean",
        "Position sizing and risk management",
      ],
    },
    {
      id: 14,
      prompt: "Kelly Criterion: Calculate optimal position size given win rate and payoff ratio.",
      tags: ["Coding", "Position Sizing", "Kelly"],
      starChecks: [
        "Kelly formula: f = (p×b - q) / b where p=win rate, b=payoff ratio, q=1-p",
        "Handle edge cases (f < 0, f > 1)",
        "Fractional Kelly implementation",
        "Return optimal position size",
      ],
    },
    {
      id: 15,
      prompt: "Portfolio Optimization: Implement Markowitz mean-variance optimization (simplified version).",
      tags: ["Coding", "Portfolio", "Optimization"],
      starChecks: [
        "Calculate expected returns and covariance matrix",
        "Objective function: maximize Sharpe or minimize variance",
        "Constraint handling (weights sum to 1, long-only)",
        "Return optimal weights",
      ],
    },
    {
      id: 16,
      prompt: "Time Series Forecasting: Implement simple ARIMA or moving average forecast.",
      tags: ["Coding", "Forecasting", "Time Series"],
      starChecks: [
        "ARIMA model fitting (or simple MA)",
        "Parameter estimation",
        "Forecast generation",
        "Error metrics calculation",
      ],
    },
    {
      id: 17,
      prompt: "Stop Loss Implementation: Given trades and prices, implement trailing stop loss logic.",
      tags: ["Coding", "Risk Management", "Stop Loss"],
      starChecks: [
        "Track highest price since entry",
        "Update stop loss: highest_price - trailing_distance",
        "Exit when price hits stop loss",
        "Handle multiple positions",
      ],
    },
    {
      id: 18,
      prompt: "Market Impact Model: Estimate market impact cost given order size and market liquidity parameters.",
      tags: ["Coding", "Execution", "Market Impact"],
      starChecks: [
        "Market impact formula (e.g., square root model)",
        "Input: order size, average daily volume, volatility",
        "Calculate expected impact cost",
        "Return cost estimate",
      ],
    },
    {
      id: 19,
      prompt: "Cointegration Test: Implement basic cointegration test for pairs trading.",
      tags: ["Coding", "Pairs Trading", "Cointegration"],
      starChecks: [
        "Calculate spread: price1 - β×price2",
        "Test for stationarity (ADF test or simple variance check)",
        "Estimate cointegration coefficient β",
        "Return test statistic and p-value",
      ],
    },
    {
      id: 20,
      prompt: "Risk Parity: Calculate risk parity weights for a portfolio of assets.",
      tags: ["Coding", "Portfolio", "Risk Parity"],
      starChecks: [
        "Calculate inverse volatility weights",
        "Normalize weights to sum to 1",
        "Handle correlation (full risk parity)",
        "Return risk parity weights",
      ],
    },
    {
      id: 21,
      prompt: "High-Frequency Data Aggregation: Aggregate tick data into 1-minute bars (OHLCV).",
      tags: ["Coding", "Data Processing", "Aggregation"],
      starChecks: [
        "Group ticks by time intervals",
        "Calculate OHLC (open, high, low, close)",
        "Sum volumes (V)",
        "Efficient time-based grouping",
      ],
    },
    {
      id: 22,
      prompt: "Slippage Calculator: Calculate expected slippage given order size and average daily volume.",
      tags: ["Coding", "Execution", "Slippage"],
      starChecks: [
        "Slippage model (e.g., proportional to participation rate)",
        "Input: order size, ADV, volatility",
        "Calculate expected slippage",
        "Return slippage estimate in basis points",
      ],
    },
    {
      id: 23,
      prompt: "Factor Exposure: Calculate portfolio exposures to common factors (momentum, value, etc.).",
      tags: ["Coding", "Factor Models", "Exposure"],
      starChecks: [
        "Factor loading calculation for each asset",
        "Portfolio exposure = Σ(weight × factor_loading)",
        "Handle multiple factors",
        "Return factor exposure vector",
      ],
    },
    {
      id: 24,
      prompt: "Regime Detection: Implement simple regime detection (high/low volatility) using HMM or threshold.",
      tags: ["Coding", "Regime Detection", "HMM"],
      starChecks: [
        "Calculate rolling volatility",
        "Threshold-based or HMM-based detection",
        "Identify regime switches",
        "Return regime labels",
      ],
    },
    {
      id: 25,
      prompt: "Backtesting Engine: Build a simple backtesting framework with entry/exit rules.",
      tags: ["Coding", "Backtesting", "Framework"],
      starChecks: [
        "Signal generation from data",
        "Entry/exit rule implementation",
        "Position tracking and P&L calculation",
        "Return performance metrics",
      ],
    },
    {
      id: 26,
      prompt: "Performance Attribution: Break down portfolio returns into asset allocation and selection effects.",
      tags: ["Coding", "Performance", "Attribution"],
      starChecks: [
        "Calculate allocation effect",
        "Calculate selection effect",
        "Interaction effect",
        "Return attribution breakdown",
      ],
    },
    {
      id: 27,
      prompt: "Liquidity Score: Calculate a liquidity score for stocks based on volume and spread.",
      tags: ["Coding", "Liquidity", "Scoring"],
      starChecks: [
        "Combine volume and spread metrics",
        "Normalize to 0-1 scale",
        "Higher volume, lower spread = higher score",
        "Return liquidity score",
      ],
    },
    {
      id: 28,
      prompt: "Signal Aggregation: Combine multiple trading signals with weighted voting.",
      tags: ["Coding", "Signal Processing", "Aggregation"],
      starChecks: [
        "Weighted average of signals",
        "Handle signal normalization",
        "Threshold for final signal",
        "Return aggregated signal",
      ],
    },
    {
      id: 29,
      prompt: "Transaction Cost Analysis: Calculate total trading costs including spread, commissions, and market impact.",
      tags: ["Coding", "Costs", "Analysis"],
      starChecks: [
        "Spread cost calculation",
        "Commission calculation",
        "Market impact estimation",
        "Return total cost breakdown",
      ],
    },
    {
      id: 30,
      prompt: "Real-time P&L Calculator: Track real-time P&L for multiple positions with live price updates.",
      tags: ["Coding", "P&L", "Real-time"],
      starChecks: [
        "Position tracking (quantity, entry price)",
        "Unrealized P&L: (current_price - entry_price) × quantity",
        "Realized P&L from closed positions",
        "Handle multiple positions efficiently",
      ],
    },
  ] as BehavioralQuestion[],
  'statistics-ml': [
    {
      id: 1,
      question: "Explain the Central Limit Theorem and its relevance to trading.",
      answer: "CLT states that sample means of independent observations converge to normal distribution. In trading: portfolio returns, strategy performance metrics, and risk estimates can be approximated as normal, enabling statistical inference and risk management.",
      explanation: [
        "CLT: Sum/average of i.i.d. random variables → normal distribution as n → ∞",
        "Trading relevance: Portfolio returns (sum of asset returns) approximate normal",
        "Enables: confidence intervals, hypothesis testing, VaR calculations",
        "Limitations: Assumes independence, may not hold for fat-tailed distributions",
      ],
      hint: "Think about how portfolio returns are sums of individual returns",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 2,
      question: "What's the difference between Type I and Type II errors in the context of a trading signal?",
      answer: "Type I (false positive): Signal says trade but shouldn't trade (lose money). Type II (false negative): Signal says don't trade but should trade (miss opportunity). In trading, Type I is often costlier.",
      explanation: [
        "Type I error (α): Reject null when true - false positive signal",
        "Type II error (β): Accept null when false - false negative (miss trade)",
        "Trading context: Type I = bad trades, Type II = missed good trades",
        "Power = 1 - β: probability of detecting true signal",
      ],
      hint: "Type I = false alarm, Type II = missed detection",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 3,
      question: "How do you test if two trading strategies have significantly different Sharpe ratios?",
      answer: "Use a statistical test like the Jobson-Korkie test or bootstrap method. Compare Sharpe ratios accounting for correlation between strategies. Null hypothesis: Sharpe ratios are equal.",
      explanation: [
        "Jobson-Korkie test: Tests equality of Sharpe ratios",
        "Accounts for correlation between strategy returns",
        "Bootstrap: Resample returns, calculate Sharpe distribution",
        "Alternative: Compare Sharpe ratios with confidence intervals",
      ],
      hint: "Need to account for correlation and distribution of Sharpe ratio",
      difficulty: "hard",
      targetTime: 90,
    },
    {
      id: 4,
      question: "Explain p-hacking and how it affects quantitative strategy development.",
      answer: "P-hacking is repeatedly testing hypotheses until finding significant results by chance. In quant: testing many factors/parameters until one shows significance inflates false discovery rate. Solutions: multiple testing correction, out-of-sample testing, hold-out data.",
      explanation: [
        "P-hacking: Multiple hypothesis testing without correction",
        "Problem: 5% significance level means 1 in 20 tests significant by chance",
        "In quant: Testing 100 factors → expect 5 significant by chance",
        "Solutions: Bonferroni correction, FDR control, out-of-sample validation",
      ],
      hint: "Multiple testing without correction inflates false positives",
      difficulty: "medium",
      targetTime: 75,
    },
    {
      id: 5,
      question: "What's heteroskedasticity and why does it matter in financial time series?",
      answer: "Heteroskedasticity is non-constant variance over time. In finance: volatility clustering (high vol follows high vol). Matters because: violates OLS assumptions, affects confidence intervals, requires GARCH/volatility models.",
      explanation: [
        "Heteroskedasticity: Variance changes over time",
        "Financial markets: Volatility clustering (ARCH/GARCH effects)",
        "Problems: Standard errors biased, inefficient estimates",
        "Solutions: GARCH models, robust standard errors, volatility weighting",
      ],
      hint: "Think about volatility clustering in markets",
      difficulty: "medium",
      targetTime: 75,
    },
    {
      id: 6,
      question: "Describe the difference between in-sample and out-of-sample testing.",
      answer: "In-sample: testing on data used to build model (optimistic, overfitting risk). Out-of-sample: testing on unseen data (realistic performance). Out-of-sample is the true test of generalization.",
      explanation: [
        "In-sample: same data used for training and testing",
        "Problem: overfitting, optimistic performance",
        "Out-of-sample: separate hold-out data",
        "Out-of-sample performance is what matters for live trading",
      ],
      hint: "In-sample = same data, out-of-sample = new data",
      difficulty: "easy",
      targetTime: 45,
    },
    {
      id: 7,
      question: "What's multiple testing correction and when should you use it?",
      answer: "Adjusts significance levels when testing multiple hypotheses. Methods: Bonferroni (conservative), FDR (less conservative). Use when: testing many factors, parameters, or strategies to control false discovery rate.",
      explanation: [
        "Problem: Testing 100 factors at 5% level → expect 5 significant by chance",
        "Bonferroni: divide α by number of tests",
        "FDR (False Discovery Rate): less conservative alternative",
        "Essential in quant research to avoid false discoveries",
      ],
      hint: "Controls false positives when testing many hypotheses",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 8,
      question: "Explain the difference between correlation and causation with a trading example.",
      answer: "Correlation: two variables move together. Causation: one variable causes the other. Example: High VIX correlates with market drops, but doesn't cause them - both caused by fear/uncertainty. Need controlled experiments or natural experiments to establish causation.",
      explanation: [
        "Correlation: statistical relationship, no direction",
        "Causation: one variable directly causes another",
        "Trading: Many correlations are spurious or reverse causality",
        "Establishing causation requires: controlled experiments, natural experiments, or strong theoretical framework",
      ],
      hint: "Correlation ≠ causation - need evidence of mechanism",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 9,
      question: "What's autocorrelation in time series and how do you detect it?",
      answer: "Autocorrelation: correlation of series with its lagged values. Detect using: ACF plot, Ljung-Box test, or Durbin-Watson test. In finance: indicates predictability, violates independence assumption.",
      explanation: [
        "Autocorrelation: Corr(X_t, X_{t-k}) for lag k",
        "Detection: ACF plot shows correlation at different lags",
        "Tests: Ljung-Box, Durbin-Watson",
        "Trading: Autocorrelation suggests predictability or market inefficiency",
      ],
      hint: "Measure correlation with past values",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 10,
      question: "Describe the bootstrapping method and its use in strategy validation.",
      answer: "Bootstrap: resample data with replacement to estimate distribution of statistics. Use: estimate confidence intervals for Sharpe ratio, test statistics, or strategy returns without assuming distribution. Accounts for finite sample uncertainty.",
      explanation: [
        "Bootstrap: resample original data with replacement",
        "Calculate statistic on each resample",
        "Distribution of statistics approximates true distribution",
        "Useful for: confidence intervals, hypothesis testing without distributional assumptions",
      ],
      hint: "Resample with replacement to estimate distributions",
      difficulty: "medium",
      targetTime: 75,
    },
    {
      id: 11,
      question: "What's the difference between parametric and non-parametric tests?",
      answer: "Parametric: assumes distribution (e.g., normal). Non-parametric: no distribution assumption. Examples: t-test (parametric) vs Mann-Whitney (non-parametric). Non-parametric more robust but less powerful.",
      explanation: [
        "Parametric: assumes data follows specific distribution",
        "Non-parametric: no distributional assumptions",
        "Trade-off: parametric more powerful if assumptions hold, non-parametric more robust",
        "In finance: often use non-parametric due to fat tails",
      ],
      hint: "Parametric assumes distribution, non-parametric doesn't",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 12,
      question: "Explain cross-validation for time series data. Why can't you use standard k-fold CV?",
      answer: "Standard k-fold CV violates temporal order (future data leaks into training). Use: walk-forward validation (train on past, test on future), or purged CV (remove overlapping periods). Preserves temporal structure.",
      explanation: [
        "Standard k-fold: randomly splits data, violates time order",
        "Time series: must respect temporal order",
        "Walk-forward: train on [0:t], test on [t+1:T]",
        "Purged CV: removes overlapping periods between train/test",
      ],
      hint: "Time series requires temporal ordering - use walk-forward",
      difficulty: "medium",
      targetTime: 75,
    },
    {
      id: 13,
      question: "What's stationarity and why is it important for time series modeling?",
      answer: "Stationarity: statistical properties (mean, variance, autocorrelation) constant over time. Important because: most time series models assume stationarity, enables forecasting, and makes statistical inference valid.",
      explanation: [
        "Stationary: mean, variance, autocorrelation don't change over time",
        "Most models (ARIMA, etc.) assume stationarity",
        "Non-stationary: trends, changing volatility",
        "Solution: differencing, detrending, or use models that handle non-stationarity",
      ],
      hint: "Stationary = constant statistical properties over time",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 14,
      question: "Describe the Augmented Dickey-Fuller test and what it tells you.",
      answer: "ADF test: tests null hypothesis that time series has unit root (non-stationary). If reject null (p < 0.05), series is stationary. Used to check if differencing needed before modeling.",
      explanation: [
        "ADF: tests H₀: series has unit root (non-stationary)",
        "If p < 0.05: reject null, series is stationary",
        "If p > 0.05: fail to reject, series is non-stationary (need differencing)",
        "Critical for time series modeling",
      ],
      hint: "Tests for unit root (non-stationarity)",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 15,
      question: "What's the difference between GARCH and simple rolling volatility?",
      answer: "Rolling volatility: equal weights to all observations in window. GARCH: weights recent observations more, models volatility clustering, predicts future volatility. GARCH adapts faster to regime changes.",
      explanation: [
        "Rolling: equal weights, simple average of squared returns",
        "GARCH: exponential weighting, recent data more important",
        "GARCH: models volatility clustering (ARCH effects)",
        "GARCH: can forecast future volatility",
      ],
      hint: "GARCH uses weighted average and models clustering",
      difficulty: "medium",
      targetTime: 75,
    },
    {
      id: 16,
      question: "Explain Maximum Likelihood Estimation in the context of fitting distributions to returns.",
      answer: "MLE: finds parameters that maximize probability of observing the data. For returns: assume distribution (e.g., normal), write likelihood function, maximize log-likelihood. Gives parameter estimates (mean, variance) that best fit observed returns.",
      explanation: [
        "MLE: maximize P(data | parameters)",
        "For returns: assume distribution, write likelihood",
        "Maximize log-likelihood (easier than likelihood)",
        "Gives best-fit parameters for assumed distribution",
      ],
      hint: "Find parameters that maximize probability of data",
      difficulty: "medium",
      targetTime: 75,
    },
    {
      id: 17,
      question: "What's the difference between L1 and L2 regularization? When would you use each?",
      answer: "L1 (Lasso): |w| penalty, drives weights to zero (sparsity). L2 (Ridge): w² penalty, shrinks weights but keeps them. Use L1 for feature selection, L2 when all features might matter. Can combine (Elastic Net).",
      explanation: [
        "L1: |w| penalty → sparsity (feature selection)",
        "L2: w² penalty → shrinkage (all features kept)",
        "L1: when many irrelevant features",
        "L2: when all features potentially relevant",
      ],
      hint: "L1 = sparsity, L2 = shrinkage",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 18,
      question: "Describe how Principal Component Analysis could be used for portfolio construction.",
      answer: "PCA finds principal components (linear combinations) that explain most variance. Use: reduce dimensionality, identify risk factors, construct factor-mimicking portfolios, or reduce noise in covariance matrix estimation.",
      explanation: [
        "PCA: finds directions of maximum variance",
        "First PC often represents 'market factor'",
        "Use PCs as risk factors for portfolio construction",
        "Reduces dimensionality, improves covariance estimation",
      ],
      hint: "PCA finds risk factors from return data",
      difficulty: "medium",
      targetTime: 75,
    },
    {
      id: 19,
      question: "What's the curse of dimensionality and how does it affect ML models in trading?",
      answer: "Curse: as dimensions increase, data becomes sparse, distances become similar, models overfit. In trading: many features (100s), limited data (years), leads to overfitting. Solutions: feature selection, regularization, dimensionality reduction.",
      explanation: [
        "Curse: high dimensions → sparse data, all points equidistant",
        "Trading: many features, limited historical data",
        "Problem: overfitting, poor generalization",
        "Solutions: PCA, feature selection, regularization",
      ],
      hint: "High dimensions + limited data = overfitting",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 20,
      question: "Explain ensemble methods (bagging, boosting) and their application to trading.",
      answer: "Bagging: average predictions from models on bootstrapped data (reduces variance). Boosting: sequentially fit models to correct previous errors (reduces bias). In trading: Random Forest (bagging), XGBoost (boosting) for signal generation.",
      explanation: [
        "Bagging: parallel models, average predictions (variance reduction)",
        "Boosting: sequential models, correct errors (bias reduction)",
        "Trading: Random Forest, XGBoost for alpha signals",
        "Ensembles: more robust, better generalization",
      ],
      hint: "Bagging = parallel, Boosting = sequential",
      difficulty: "medium",
      targetTime: 75,
    },
    {
      id: 21,
      question: "What's the difference between Random Forest and Gradient Boosting?",
      answer: "Random Forest: bagging of decision trees, parallel training, reduces variance. Gradient Boosting: sequential trees correcting errors, reduces bias. RF: faster, less overfitting. GB: often more accurate but slower, more prone to overfitting.",
      explanation: [
        "Random Forest: bagging, parallel, variance reduction",
        "Gradient Boosting: sequential, bias reduction",
        "RF: faster, more robust",
        "GB: often more accurate, but slower and can overfit",
      ],
      hint: "RF = parallel bagging, GB = sequential boosting",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 22,
      question: "Describe how you'd use cross-entropy loss vs MSE for a trading classifier.",
      answer: "Cross-entropy: for classification (predict up/down), penalizes wrong class predictions. MSE: for regression (predict return magnitude). Cross-entropy better for binary classification, MSE for continuous targets.",
      explanation: [
        "Cross-entropy: for classification (binary or multi-class)",
        "MSE: for regression (continuous targets)",
        "Trading classifier (up/down): use cross-entropy",
        "Trading regressor (return size): use MSE",
      ],
      hint: "Cross-entropy for classification, MSE for regression",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 23,
      question: "What's a confusion matrix and how do you interpret it for trading signals?",
      answer: "Confusion matrix: table of predicted vs actual. For trading: rows = predicted (buy/sell), columns = actual (up/down). Metrics: precision (of buys, how many correct), recall (of actual ups, how many caught), F1 score.",
      explanation: [
        "Confusion matrix: predicted vs actual classification",
        "Trading: buy/sell predictions vs actual up/down",
        "Metrics: precision, recall, F1, accuracy",
        "Helps understand type of errors (false positives vs false negatives)",
      ],
      hint: "Table showing predicted vs actual classifications",
      difficulty: "easy",
      targetTime: 45,
    },
    {
      id: 24,
      question: "Explain the ROC curve and AUC in the context of binary trading signals.",
      answer: "ROC: plots True Positive Rate vs False Positive Rate at different thresholds. AUC: area under curve, measures classifier quality (1.0 = perfect, 0.5 = random). Higher AUC = better signal quality. AUC = 0.7+ is good for trading.",
      explanation: [
        "ROC: TPR (sensitivity) vs FPR (1-specificity)",
        "AUC: area under ROC curve",
        "AUC = 1.0: perfect classifier, 0.5: random",
        "Trading: AUC > 0.6 useful, > 0.7 good",
      ],
      hint: "ROC shows trade-off between true and false positives",
      difficulty: "medium",
      targetTime: 75,
    },
    {
      id: 25,
      question: "What's batch normalization and why might it help in financial neural networks?",
      answer: "Batch norm: normalizes layer inputs to mean 0, variance 1. Helps: faster training, higher learning rates, reduces internal covariate shift. In finance: can help with non-stationary data, though may not always help due to small batch sizes.",
      explanation: [
        "Batch norm: normalize inputs to each layer",
        "Benefits: faster convergence, higher learning rates",
        "Finance: may help with non-stationary data",
        "Limitation: small batch sizes in finance can hurt performance",
      ],
      hint: "Normalizes layer inputs to stabilize training",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 26,
      question: "Describe the vanishing gradient problem and how it affects deep learning for trading.",
      answer: "Vanishing gradient: gradients become very small in deep networks, early layers don't learn. In finance: deep networks may not work well. Solutions: ReLU activation, residual connections, careful initialization, or use shallower networks.",
      explanation: [
        "Problem: gradients shrink exponentially through layers",
        "Early layers get tiny gradients, don't update",
        "Finance: deep networks often don't help",
        "Solutions: ReLU, skip connections, or shallow networks",
      ],
      hint: "Gradients become too small in deep networks",
      difficulty: "medium",
      targetTime: 75,
    },
    {
      id: 27,
      question: "What's the difference between online learning and batch learning for live trading?",
      answer: "Batch: train on all data, then deploy. Online: update model continuously as new data arrives. Online: adapts to regime changes, but can be unstable. Batch: more stable but may become stale. Hybrid: periodic retraining.",
      explanation: [
        "Batch: train once, deploy fixed model",
        "Online: continuously update with new data",
        "Online: adapts to changes, but can be noisy",
        "Trading: often use periodic retraining (semi-online)",
      ],
      hint: "Online = continuous update, Batch = train once",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 28,
      question: "Explain how you'd handle imbalanced classes in trading data (rare events).",
      answer: "Methods: oversample minority class (SMOTE), undersample majority, class weights (penalize misclassifying minority more), different metrics (F1, AUC-ROC instead of accuracy), or cost-sensitive learning.",
      explanation: [
        "Problem: rare events (e.g., crashes) are minority class",
        "Oversampling: duplicate or generate minority samples",
        "Class weights: penalize minority misclassification more",
        "Metrics: use F1, AUC instead of accuracy",
      ],
      hint: "Balance classes or adjust loss function",
      difficulty: "medium",
      targetTime: 75,
    },
    {
      id: 29,
      question: "What's transfer learning and could it be applied to trading?",
      answer: "Transfer learning: use model trained on one task for another. In trading: train on one asset/market, apply to another. Challenges: non-stationarity, different regimes. Possible for: similar assets, different time periods with care.",
      explanation: [
        "Transfer: pre-train on source, fine-tune on target",
        "Trading: train on one market, apply to another",
        "Challenges: regime differences, non-stationarity",
        "May work for: similar assets, related markets",
      ],
      hint: "Use knowledge from one domain in another",
      difficulty: "hard",
      targetTime: 90,
    },
    {
      id: 30,
      question: "Describe A/B testing methodology for comparing two trading strategies.",
      answer: "A/B test: randomly assign trades to strategy A or B, compare performance. Key: random assignment, sufficient sample size, control for market conditions. Metrics: Sharpe ratio, returns, risk-adjusted returns. Statistical test for significance.",
      explanation: [
        "Random assignment: each trade to A or B",
        "Compare: returns, Sharpe, risk metrics",
        "Statistical test: are differences significant?",
        "Challenges: market regime changes, sample size",
      ],
      hint: "Random assignment and statistical comparison",
      difficulty: "medium",
      targetTime: 75,
    },
  ] as MLQuestion[],
  'trading-intuition': [
    {
      id: 1,
      question: "Two highly correlated stocks diverge suddenly. What are potential causes and how would you trade it?",
      answer: "Causes: company-specific news, sector rotation, liquidity events, or correlation breakdown. Trade: pairs trade (long underperformer, short outperformer) expecting reversion, but check if divergence is fundamental vs temporary.",
      explanation: [
        "Potential causes: Fundamental change, temporary dislocation, liquidity",
        "Trading approach: Pairs trade if mean-reverting",
        "Risk: Divergence could be permanent (fundamental change)",
        "Check: News, volume, whether correlation breakdown is structural",
      ],
      hint: "Consider whether divergence is temporary or permanent",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 2,
      question: "Volatility is at historic lows. How should this affect your strategy selection and position sizing?",
      answer: "Low vol suggests: reduce position sizes (vol will normalize), favor mean reversion over momentum, increase hedging, prepare for vol spike. Low vol often precedes high vol periods.",
      explanation: [
        "Low vol environment: Volatility clustering suggests vol will rise",
        "Position sizing: Reduce sizes anticipating vol normalization",
        "Strategy: Mean reversion may work better than momentum",
        "Risk: Vol spikes can cause large losses if over-leveraged",
      ],
      hint: "Volatility tends to cluster and mean-revert",
      difficulty: "medium",
      targetTime: 75,
    },
    {
      id: 3,
      question: "You observe large volume without price movement. What might this indicate?",
      answer: "Possible causes: large block trade at midpoint, market maker inventory management, accumulation/distribution, or information asymmetry. Could signal upcoming move or institutional positioning.",
      explanation: [
        "High volume, low price change: Unusual activity",
        "Possible causes: Block trades, market making, accumulation",
        "Trading implication: May signal upcoming directional move",
        "Investigate: Who is trading, order flow, market microstructure",
      ],
      hint: "Think about what causes volume without price impact",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 4,
      question: "A stock's implied volatility is much higher than realized volatility. What trade does this suggest?",
      answer: "Sell volatility (short options, sell straddles/strangles). IV > RV means options are expensive relative to actual movement. Profit from vol crush if realized vol stays low.",
      explanation: [
        "IV > RV: Options are expensive relative to actual movement",
        "Trade: Sell volatility (short options, sell straddles)",
        "Profit from: Volatility crush, theta decay",
        "Risk: Large move could cause losses",
      ],
      hint: "When IV > RV, options are rich - sell them",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 5,
      question: "You notice your alpha factor worked well for 3 years but stopped working 6 months ago. What do you do?",
      answer: "Investigate: regime change, factor crowding, data issues, or overfitting. Check: out-of-sample performance, factor exposure changes, market regime. Consider: reducing allocation, modifying factor, or killing strategy if fundamental change.",
      explanation: [
        "Possible causes: Regime change, crowding, overfitting, data issues",
        "Investigation: Check regime, factor exposure, correlation breakdown",
        "Action: Reduce allocation, modify factor, or kill strategy",
        "Learning: Factor decay is normal, need continuous research",
      ],
      hint: "Factor decay is common - investigate cause before abandoning",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 6,
      question: "End-of-day vs intraday patterns: which is more likely to persist and why?",
      answer: "End-of-day patterns more likely to persist. Reasons: less noise (aggregated data), institutional flows (end-of-day rebalancing), less competition from HFT. Intraday patterns: more noise, more competition, harder to capture.",
      explanation: [
        "End-of-day: aggregated, less noise",
        "Institutional flows: rebalancing, fund flows",
        "Less HFT competition at end of day",
        "Intraday: more noise, more competition, faster decay",
      ],
      hint: "Consider noise, competition, and institutional behavior",
      difficulty: "medium",
      targetTime: 75,
    },
    {
      id: 7,
      question: "A pairs trade's spread has widened beyond your model's prediction. What factors do you consider before adding to the position?",
      answer: "Check: fundamental news (permanent vs temporary), liquidity (can you exit?), correlation breakdown (structural change?), model validity (is model still correct?), position size (risk limits), and time horizon (mean reversion timeframe).",
      explanation: [
        "Fundamental: is divergence permanent?",
        "Liquidity: can you exit if wrong?",
        "Model: is cointegration still valid?",
        "Risk: position size, drawdown limits",
      ],
      hint: "Assess if divergence is temporary or permanent",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 8,
      question: "Your momentum strategy is losing money in a trending market. What might be wrong?",
      answer: "Possible issues: wrong timeframe (too fast/slow), entry timing (entering too late), position sizing (too small), transaction costs (overtrading), or regime change (momentum not working in this regime). Check: are you actually capturing the trend?",
      explanation: [
        "Timeframe: momentum may work on different horizon",
        "Entry: entering after trend exhausted",
        "Costs: transaction costs eating returns",
        "Regime: momentum may not work in current market",
      ],
      hint: "Check timeframe, entry timing, costs, and regime",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 9,
      question: "How would you trade around a scheduled macro announcement (e.g., Fed decision)?",
      answer: "Options: avoid trading (reduce exposure), trade volatility (long vol before, short after), directional bet (if strong view), or wait for reaction (trade the fade). Risk: high volatility, gap risk, liquidity issues. Often best to reduce exposure.",
      explanation: [
        "Reduce exposure: avoid high volatility periods",
        "Volatility trade: long vol before, short after",
        "Directional: if strong view on outcome",
        "Reaction trade: trade the fade after initial move",
      ],
      hint: "Consider volatility, liquidity, and gap risk",
      difficulty: "medium",
      targetTime: 75,
    },
    {
      id: 10,
      question: "You discover a high Sharpe ratio strategy but maximum position size is limited. How do you think about capacity?",
      answer: "Capacity: maximum AUM before strategy degrades. Factors: market depth, impact costs, competition. If capacity limited: accept it, find similar uncorrelated strategies, or optimize for capacity (lower Sharpe but scalable).",
      explanation: [
        "Capacity: AUM before alpha degrades",
        "Factors: liquidity, market impact, competition",
        "Solutions: diversify to similar strategies",
        "Trade-off: high Sharpe vs high capacity",
      ],
      hint: "Balance Sharpe ratio with scalability",
      difficulty: "medium",
      targetTime: 75,
    },
    {
      id: 11,
      question: "A stock exhibits strong mean reversion on short timescales but momentum on long timescales. How do you reconcile this?",
      answer: "Different timeframes have different dynamics. Short-term: microstructure effects, noise, mean reversion. Long-term: fundamentals, trends, momentum. Use: multi-timeframe approach, or separate strategies for each timeframe.",
      explanation: [
        "Short-term: noise, microstructure, mean reversion",
        "Long-term: fundamentals, trends, momentum",
        "Solution: multi-timeframe models",
        "Or: separate strategies for each horizon",
      ],
      hint: "Different timeframes have different dynamics",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 12,
      question: "Your model says buy but market microstructure indicators suggest selling pressure. Which do you trust?",
      answer: "Microstructure often more reliable for short-term. Check: timeframe (model may be longer-term), recent data (model may use stale data), and combine both (model for direction, microstructure for timing). Often: reduce position or wait.",
      explanation: [
        "Microstructure: real-time, short-term",
        "Model: may be longer-term, use older data",
        "Combine: model for direction, microstructure for timing",
        "When conflict: reduce position or wait",
      ],
      hint: "Microstructure for timing, model for direction",
      difficulty: "medium",
      targetTime: 75,
    },
    {
      id: 13,
      question: "You're seeing high correlation breakdown across assets. What does this suggest about market regime?",
      answer: "Suggests: regime change, stress period, or flight to quality. High correlation breakdown often precedes or accompanies volatility spikes, market stress. Action: reduce risk, increase hedging, or trade the volatility.",
      explanation: [
        "Correlation breakdown: regime change indicator",
        "Often precedes: volatility spikes, stress",
        "May indicate: flight to quality, uncertainty",
        "Action: reduce risk, hedge, or trade volatility",
      ],
      hint: "Correlation breakdown signals regime change",
      difficulty: "medium",
      targetTime: 75,
    },
    {
      id: 14,
      question: "A factor that has been rewarded (e.g., value) underperforms for an extended period. Is it dead or dormant?",
      answer: "Hard to distinguish. Check: fundamental reason (regime change vs temporary), historical precedent (has it recovered before?), and valuation (is it extreme?). Often: reduce allocation but don't eliminate (factors can come back).",
      explanation: [
        "Dead: structural change, won't recover",
        "Dormant: temporary, will recover",
        "Check: history, fundamentals, valuation",
        "Often: reduce but don't eliminate",
      ],
      hint: "Distinguish structural change from temporary underperformance",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 15,
      question: "How would you trade around earnings announcements? Is the risk-reward favorable?",
      answer: "High risk: gap risk, volatility, unpredictable. Strategies: avoid (reduce exposure), trade volatility (long vol before), or trade the reaction (fade initial move). Risk-reward: often unfavorable due to high volatility and unpredictable outcomes.",
      explanation: [
        "High risk: gap risk, high volatility",
        "Strategies: avoid, trade vol, or trade reaction",
        "Risk-reward: often unfavorable",
        "Many quants avoid earnings periods",
      ],
      hint: "High volatility and gap risk make it challenging",
      difficulty: "medium",
      targetTime: 75,
    },
    {
      id: 16,
      question: "Your statistical arbitrage strategy shows decreasing profitability over time. What are potential causes?",
      answer: "Causes: crowding (others copying), regime change (market structure changed), overfitting (never worked out-of-sample), transaction costs (increased), or data issues. Investigate: is it all strategies or just this one?",
      explanation: [
        "Crowding: others discovered same strategy",
        "Regime: market structure changed",
        "Overfitting: strategy never truly worked",
        "Costs: transaction costs increased",
      ],
      hint: "Check crowding, regime, overfitting, and costs",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 17,
      question: "You observe that your strategy's performance is highly skewed (many small wins, few large losses). Is this problematic?",
      answer: "Yes, problematic. Skewed returns: high tail risk, may blow up. Check: risk management (stop losses?), position sizing (too large?), or strategy design (picking up pennies in front of steamroller). Need: better risk controls.",
      explanation: [
        "Skewed: many small wins, few large losses",
        "Problem: tail risk, potential blow-up",
        "Causes: poor risk management, position sizing",
        "Solution: stop losses, position limits, better risk controls",
      ],
      hint: "Skewed returns indicate tail risk",
      difficulty: "medium",
      targetTime: 75,
    },
    {
      id: 18,
      question: "Market liquidity is deteriorating. How does this affect your strategy implementation?",
      answer: "Effects: higher transaction costs, wider spreads, slippage, difficulty exiting. Actions: reduce position sizes, widen stop losses, avoid illiquid names, increase holding periods, or pause strategy until liquidity returns.",
      explanation: [
        "Higher costs: spreads, slippage, impact",
        "Exit risk: difficulty closing positions",
        "Actions: reduce size, widen stops, avoid illiquid",
        "May need to pause strategy",
      ],
      hint: "Deteriorating liquidity increases costs and exit risk",
      difficulty: "medium",
      targetTime: 75,
    },
    {
      id: 19,
      question: "You find a strategy that works only on Mondays. Is this exploitable or data mining?",
      answer: "Likely data mining. Check: out-of-sample performance, theoretical reason (why Mondays?), multiple testing correction (testing many day-of-week effects). If robust: may be calendar effect (e.g., weekend news), but be skeptical.",
      explanation: [
        "Likely: data mining, multiple testing",
        "Check: out-of-sample, theoretical reason",
        "If robust: may be calendar effect",
        "Be very skeptical of day-of-week effects",
      ],
      hint: "Be skeptical - likely data mining unless robust",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 20,
      question: "A new exchange/venue launches. How might this affect your existing strategies?",
      answer: "Effects: fragmentation (liquidity split), new opportunities (arbitrage), or competition (others may exploit faster). Monitor: volume migration, spread changes, latency requirements. May need: new data feeds, faster execution, or strategy adjustments.",
      explanation: [
        "Fragmentation: liquidity split across venues",
        "Opportunities: cross-venue arbitrage",
        "Competition: others may exploit faster",
        "May need: new infrastructure, faster execution",
      ],
      hint: "New venue changes market structure",
      difficulty: "medium",
      targetTime: 75,
    },
    {
      id: 21,
      question: "You're competing with HFT firms. What timeframes and strategies remain viable?",
      answer: "Viable: longer timeframes (minutes to days), fundamental strategies, less liquid markets, or strategies requiring human judgment. Avoid: millisecond strategies, simple arbitrage, or highly liquid markets where HFT dominates.",
      explanation: [
        "HFT dominates: millisecond, simple arbitrage",
        "Viable: longer horizons, fundamental, less liquid",
        "Or: strategies requiring judgment, complex analysis",
        "Focus on areas where speed less important",
      ],
      hint: "Focus on timeframes and strategies where speed less critical",
      difficulty: "medium",
      targetTime: 75,
    },
    {
      id: 22,
      question: "How do corporate actions (splits, dividends) affect backtesting and live trading?",
      answer: "Splits: adjust prices (divide by split ratio). Dividends: adjust for ex-dividend drops. Critical: adjust historical prices, or backtest will be wrong. Live: handle automatically or manually. Often: use adjusted prices from data provider.",
      explanation: [
        "Splits: price adjustment needed",
        "Dividends: ex-dividend price drop",
        "Backtest: must use adjusted prices",
        "Live: handle automatically or manually",
      ],
      hint: "Must adjust prices for corporate actions",
      difficulty: "medium",
      targetTime: 60,
    },
    {
      id: 23,
      question: "Your strategy has negative skew (frequent small gains, rare large losses). How do you manage risk?",
      answer: "Risk management: strict stop losses, position limits, reduce leverage, or hedge tail risk (options). Problem: strategy may be 'picking up pennies in front of steamroller'. Consider: is strategy fundamentally flawed?",
      explanation: [
        "Negative skew: tail risk",
        "Risk controls: stops, limits, hedging",
        "Problem: may indicate flawed strategy",
        "Consider: redesign strategy to reduce tail risk",
      ],
      hint: "Negative skew indicates tail risk - need strict controls",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 24,
      question: "You observe clustering of returns (volatility clustering). How do you incorporate this?",
      answer: "Use: GARCH models (forecast volatility), regime-switching models, or volatility-adjusted position sizing. Volatility clustering: high vol follows high vol. Incorporate: increase position when vol low, decrease when vol high.",
      explanation: [
        "Volatility clustering: high vol follows high vol",
        "Models: GARCH, regime-switching",
        "Application: volatility-adjusted sizing",
        "Size positions inversely to volatility",
      ],
      hint: "Use GARCH or volatility-adjusted sizing",
      difficulty: "medium",
      targetTime: 75,
    },
    {
      id: 25,
      question: "A regulatory change is announced. How do you assess its impact on your strategies?",
      answer: "Assess: read regulation, identify affected strategies, estimate impact (costs, constraints), test scenarios, and plan adjustments. May need: reduce certain strategies, modify execution, or find alternatives. Monitor: implementation timeline.",
      explanation: [
        "Read: understand regulation",
        "Identify: which strategies affected",
        "Estimate: costs, constraints, impact",
        "Plan: adjustments or alternatives",
      ],
      hint: "Systematically assess impact and plan adjustments",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 26,
      question: "You find that your strategy works better during certain market hours. How do you exploit this?",
      answer: "If robust: trade only during those hours, or weight signals more during those hours. But: be very skeptical - likely data mining. Check: out-of-sample, theoretical reason, multiple testing. If truly robust: implement time-based filters.",
      explanation: [
        "If robust: trade only during those hours",
        "Or: weight signals by time",
        "But: be very skeptical of time effects",
        "Check: out-of-sample, multiple testing",
      ],
      hint: "Be skeptical unless very robust",
      difficulty: "medium",
      targetTime: 75,
    },
    {
      id: 27,
      question: "Your quant signal conflicts with fundamental analysis. How do you weigh these inputs?",
      answer: "Consider: timeframe (quant may be short-term, fundamental long-term), confidence in each signal, and combine (weighted average or use one as filter). Often: quant for timing, fundamental for direction, or use both with different weights.",
      explanation: [
        "Timeframe: quant vs fundamental may differ",
        "Confidence: weight by signal strength",
        "Combine: weighted average or filtering",
        "Often: quant for timing, fundamental for direction",
      ],
      hint: "Consider timeframe and confidence in each signal",
      difficulty: "medium",
      targetTime: 90,
    },
    {
      id: 28,
      question: "You notice your strategy's alpha is entirely explained by factor exposures. What does this mean?",
      answer: "Means: strategy has no true alpha, just factor exposure (e.g., market, value, momentum). Implication: can replicate with factor portfolio, lower fees. Action: either accept (factor investing) or find true alpha (idiosyncratic returns).",
      explanation: [
        "No true alpha: returns from factor exposure",
        "Can replicate: with factor portfolio",
        "Implication: lower fees, simpler implementation",
        "Or: find true idiosyncratic alpha",
      ],
      hint: "Factor exposure means no true alpha",
      difficulty: "medium",
      targetTime: 75,
    },
    {
      id: 29,
      question: "Market impact costs are higher than expected. How do you adjust your trading?",
      answer: "Adjust: reduce position sizes, trade slower (TWAP/VWAP), use dark pools, split orders, or avoid illiquid names. May need: revise expected returns, reduce turnover, or focus on more liquid markets.",
      explanation: [
        "Reduce size: smaller positions",
        "Trade slower: TWAP, VWAP",
        "Execution: dark pools, order splitting",
        "Focus: more liquid markets",
      ],
      hint: "Reduce size, trade slower, or use better execution",
      difficulty: "medium",
      targetTime: 75,
    },
    {
      id: 30,
      question: "You observe that retail trader sentiment is a contrarian indicator. How do you systematically exploit this?",
      answer: "Measure: retail flow data, sentiment indices, or social media. Strategy: fade retail (trade opposite). But: be careful - may not always work, need robust signal. Test: out-of-sample, check if relationship persists.",
      explanation: [
        "Measure: retail flow, sentiment data",
        "Strategy: contrarian (fade retail)",
        "Test: out-of-sample validation",
        "Careful: relationship may not persist",
      ],
      hint: "Measure retail sentiment and trade contrarian",
      difficulty: "medium",
      targetTime: 90,
    },
  ] as TradingQuestion[],
  'research-discussion': [
    {
      id: 1,
      prompt: "Walk me through your research process from idea generation to implementation.",
      tags: ["Research Process", "Methodology", "Implementation"],
      starChecks: [
        "Clear stages: idea → hypothesis → backtest → validation → implementation",
        "Specific tools and methods used",
        "How you validate ideas before implementation",
        "Risk management and monitoring process",
      ],
    },
    {
      id: 2,
      prompt: "Describe a research project that failed. What did you learn?",
      tags: ["Learning", "Failure", "Reflection"],
      starChecks: [
        "Specific failed project described",
        "Honest assessment of why it failed",
        "Key lessons learned",
        "How you applied learnings to future projects",
      ],
    },
    {
      id: 3,
      prompt: "How do you generate new trading ideas? What sources do you use?",
      tags: ["Idea Generation", "Research", "Sources"],
      starChecks: [
        "Multiple sources mentioned (papers, data, market observation)",
        "Systematic approach to idea generation",
        "How you prioritize and filter ideas",
        "Examples of successful ideas generated",
      ],
    },
    {
      id: 4,
      prompt: "Explain a recent paper you read that interested you and how it might apply to trading.",
      tags: ["Research", "Academic", "Application"],
      starChecks: [
        "Specific paper and key concepts explained",
        "Clear understanding of the research",
        "How it applies to trading",
        "Potential implementation approach",
      ],
    },
    {
      id: 5,
      prompt: "How do you balance complexity and interpretability in your models?",
      tags: ["Model Design", "Trade-offs", "Interpretability"],
      starChecks: [
        "Understanding of complexity vs interpretability trade-off",
        "Framework for making decisions",
        "Examples of when to use each approach",
        "How you communicate complex models",
      ],
    },
    {
      id: 6,
      prompt: "What's your approach to feature engineering for financial data?",
      tags: ["Feature Engineering", "Data", "Research"],
      starChecks: [
        "Domain knowledge vs data-driven features",
        "Handling non-stationarity and regime changes",
        "Feature selection methods",
        "Examples of successful features",
      ],
    },
    {
      id: 7,
      prompt: "Describe how you'd test if a new factor adds value to existing models.",
      tags: ["Factor Testing", "Validation", "Research"],
      starChecks: [
        "Incremental information content test",
        "Out-of-sample validation",
        "Statistical significance testing",
        "Economic significance assessment",
      ],
    },
    {
      id: 8,
      prompt: "How do you handle the non-stationarity of financial markets in your research?",
      tags: ["Non-Stationarity", "Time Series", "Research"],
      starChecks: [
        "Detecting non-stationarity (ADF test, etc.)",
        "Methods: differencing, detrending, regime models",
        "Walk-forward validation",
        "Adaptive models that handle regime changes",
      ],
    },
    {
      id: 9,
      prompt: "What's your framework for deciding when to kill a strategy?",
      tags: ["Strategy Management", "Decision Making", "Research"],
      starChecks: [
        "Performance metrics and thresholds",
        "Time period for evaluation",
        "Distinguish temporary vs permanent degradation",
        "Process for strategy retirement",
      ],
    },
    {
      id: 10,
      prompt: "How do you think about the decay of trading signals over time?",
      tags: ["Signal Decay", "Factor Lifecycle", "Research"],
      starChecks: [
        "Understanding why signals decay (crowding, regime)",
        "Measuring signal decay",
        "Strategies to extend signal life",
        "When to abandon vs modify signals",
      ],
    },
    {
      id: 11,
      prompt: "Describe your approach to portfolio construction when you have multiple uncorrelated alphas.",
      tags: ["Portfolio Construction", "Alpha Combination", "Research"],
      starChecks: [
        "Risk parity or equal risk contribution",
        "Kelly criterion or optimal sizing",
        "Correlation structure consideration",
        "Diversification benefits",
      ],
    },
    {
      id: 12,
      prompt: "How do you measure the economic significance vs statistical significance of a signal?",
      tags: ["Significance", "Evaluation", "Research"],
      starChecks: [
        "Statistical: p-values, confidence intervals",
        "Economic: Sharpe ratio, returns, capacity",
        "Transaction costs consideration",
        "Balancing both types of significance",
      ],
    },
    {
      id: 13,
      prompt: "What role does domain knowledge vs data-driven discovery play in your research?",
      tags: ["Research Philosophy", "Domain Knowledge", "Data Science"],
      starChecks: [
        "Balance between theory and empirics",
        "When to use each approach",
        "Combining both effectively",
        "Examples of successful hybrid approaches",
      ],
    },
    {
      id: 14,
      prompt: "How do you avoid overfitting when you have limited historical data?",
      tags: ["Overfitting", "Validation", "Research"],
      starChecks: [
        "Cross-validation methods for time series",
        "Regularization techniques",
        "Simple models vs complex",
        "Out-of-sample testing",
      ],
    },
    {
      id: 15,
      prompt: "Describe your process for hyperparameter tuning without data snooping.",
      tags: ["Hyperparameter Tuning", "Validation", "Research"],
      starChecks: [
        "Nested cross-validation",
        "Walk-forward optimization",
        "Separate validation set",
        "Avoiding look-ahead bias",
      ],
    },
    {
      id: 16,
      prompt: "How would you research the effectiveness of alternative data sources?",
      tags: ["Alternative Data", "Research", "Data Sources"],
      starChecks: [
        "Hypothesis formation",
        "Data acquisition and cleaning",
        "Feature extraction methods",
        "Validation and backtesting",
      ],
    },
    {
      id: 17,
      prompt: "What's your approach to combining signals with different forecast horizons?",
      tags: ["Signal Combination", "Multi-Horizon", "Research"],
      starChecks: [
        "Weighting by horizon",
        "Separate models vs combined",
        "Handling different update frequencies",
        "Optimal combination methods",
      ],
    },
    {
      id: 18,
      prompt: "How do you think about the trade-off between turnover and alpha?",
      tags: ["Turnover", "Alpha", "Trade-offs", "Research"],
      starChecks: [
        "Transaction costs vs alpha",
        "Optimal rebalancing frequency",
        "Turnover constraints",
        "Optimizing net returns",
      ],
    },
    {
      id: 19,
      prompt: "Describe how you'd research market microstructure effects on your strategy.",
      tags: ["Market Microstructure", "Research", "Execution"],
      starChecks: [
        "Identifying microstructure effects",
        "Measuring impact (spread, slippage)",
        "Incorporating into strategy",
        "Execution optimization",
      ],
    },
    {
      id: 20,
      prompt: "What's your process for validating that a backtest is realistic?",
      tags: ["Backtesting", "Validation", "Research"],
      starChecks: [
        "Transaction cost assumptions",
        "Slippage and market impact",
        "Survivorship bias checks",
        "Regime coverage",
      ],
    },
    {
      id: 21,
      prompt: "How do you think about strategy capacity in your research?",
      tags: ["Capacity", "Scalability", "Research"],
      starChecks: [
        "Estimating capacity limits",
        "Factors affecting capacity",
        "Optimizing for capacity vs Sharpe",
        "Diversification to increase capacity",
      ],
    },
    {
      id: 22,
      prompt: "Describe how you'd analyze why a strategy stopped working.",
      tags: ["Strategy Analysis", "Debugging", "Research"],
      starChecks: [
        "Performance attribution analysis",
        "Regime change detection",
        "Factor exposure changes",
        "Crowding analysis",
      ],
    },
    {
      id: 23,
      prompt: "What metrics beyond Sharpe ratio do you consider important for strategy evaluation?",
      tags: ["Performance Metrics", "Evaluation", "Research"],
      starChecks: [
        "Sortino, Calmar, Information ratio",
        "Maximum drawdown",
        "Win rate, profit factor",
        "Tail risk metrics",
      ],
    },
    {
      id: 24,
      prompt: "How do you incorporate transaction costs into your research?",
      tags: ["Transaction Costs", "Research", "Costs"],
      starChecks: [
        "Cost models (spread, impact, commissions)",
        "Backtesting with costs",
        "Optimization with cost constraints",
        "Realistic cost assumptions",
      ],
    },
    {
      id: 25,
      prompt: "Describe your approach to stress-testing a strategy.",
      tags: ["Stress Testing", "Risk Management", "Research"],
      starChecks: [
        "Historical stress scenarios",
        "Monte Carlo stress tests",
        "Regime change scenarios",
        "Tail risk analysis",
      ],
    },
    {
      id: 26,
      prompt: "How would you research optimal execution algorithms for your strategy?",
      tags: ["Execution", "Research", "Algorithms"],
      starChecks: [
        "TWAP, VWAP, implementation shortfall",
        "Market impact models",
        "Optimal execution research",
        "Testing execution algorithms",
      ],
    },
    {
      id: 27,
      prompt: "What's your framework for thinking about strategy diversification?",
      tags: ["Diversification", "Portfolio", "Research"],
      starChecks: [
        "Correlation structure",
        "Risk contribution",
        "Alpha diversification",
        "Optimal number of strategies",
      ],
    },
    {
      id: 28,
      prompt: "How do you handle survivorship bias in historical data?",
      tags: ["Survivorship Bias", "Data Quality", "Research"],
      starChecks: [
        "Identifying survivorship bias",
        "Using point-in-time data",
        "Including delisted stocks",
        "Correcting for bias",
      ],
    },
    {
      id: 29,
      prompt: "Describe how you'd research the optimal rebalancing frequency.",
      tags: ["Rebalancing", "Research", "Optimization"],
      starChecks: [
        "Trade-off: alpha decay vs transaction costs",
        "Testing different frequencies",
        "Adaptive rebalancing",
        "Optimal frequency determination",
      ],
    },
    {
      id: 30,
      prompt: "How do you think about the explainability vs performance trade-off in ML models for trading?",
      tags: ["Explainability", "ML Models", "Trade-offs", "Research"],
      starChecks: [
        "When explainability matters",
        "Interpretable models vs black boxes",
        "Post-hoc explanation methods",
        "Balancing performance and interpretability",
      ],
    },
  ] as BehavioralQuestion[],
  'quant-models': [
    {
      id: 1,
      question: 'What is Brownian motion, and which of its properties are essential for financial modeling?',
      answer: 'Brownian motion (Wiener process) is a continuous-time stochastic process with: independent increments (future moves independent of past), normally distributed increments (ΔW ~ N(0, Δt)), zero mean (E[ΔW] = 0), and variance proportional to time (Var(ΔW) = Δt). Essential properties: Markov property (memoryless), martingale property (E[W(t)|W(s)] = W(s)), and continuous paths. Used to model asset price randomness.',
      explanation: [
        'Independent increments: future moves are independent of past moves.',
        'Normally distributed: increments follow normal distribution with variance proportional to time.',
        'Markov property: process is memoryless, only current state matters.',
        'Martingale property: expected future value equals current value.',
        'Continuous paths: no jumps, smooth evolution over time.',
      ],
      hint: 'Brownian motion has independent, normally distributed increments with variance proportional to time',
      difficulty: 'medium',
      targetTime: 75,
    },
    {
      id: 2,
      question: 'Why do we model prices with geometric Brownian motion instead of arithmetic Brownian motion?',
      answer: 'Geometric Brownian motion (GBM): dS = μS dt + σS dW ensures prices stay positive (S > 0 always), has percentage returns (dS/S is normally distributed), and matches empirical behavior (prices are multiplicative, not additive). Arithmetic: dS = μ dt + σ dW can go negative (unrealistic for prices), has absolute returns. GBM is standard for equity prices.',
      explanation: [
        'GBM ensures prices stay positive: S > 0 always (realistic for asset prices).',
        'Percentage returns: dS/S is normally distributed (matches empirical data).',
        'Multiplicative: prices compound, not add (realistic behavior).',
        'Arithmetic can go negative: unrealistic for prices.',
        'GBM is standard: widely used in equity pricing models.',
      ],
      hint: 'Geometric Brownian motion ensures prices stay positive and models percentage returns',
      difficulty: 'medium',
      targetTime: 75,
    },
    {
      id: 3,
      question: 'What assumptions of Black–Scholes are most violated in real markets?',
      answer: 'Most violated: constant volatility (volatility is stochastic, has smile/skew), continuous trading (no jumps, but markets have jumps), no transaction costs (real trading has costs), constant interest rates (rates are stochastic), and log-normal returns (returns have fat tails, skewness). Reality: volatility smiles, jumps, transaction costs, stochastic rates, and non-normal returns.',
      explanation: [
        'Constant volatility: reality shows stochastic volatility with smile/skew.',
        'Continuous trading: markets have jumps and gaps.',
        'No transaction costs: real trading incurs fees and spreads.',
        'Constant interest rates: rates are stochastic in reality.',
        'Log-normal returns: empirical returns show fat tails and skewness.',
      ],
      hint: 'Black-Scholes assumes constant volatility, continuous trading, no jumps, and log-normal returns - all violated in reality',
      difficulty: 'medium',
      targetTime: 75,
    },
    {
      id: 4,
      question: 'Explain Ito\'s Lemma and give a financial intuition for it.',
      answer: 'Ito\'s Lemma: if f(S,t) is a function of a stochastic process S following dS = μ dt + σ dW, then df = (∂f/∂t + μ∂f/∂S + ½σ²∂²f/∂S²)dt + σ∂f/∂S dW. Financial intuition: derivative price depends on underlying (∂f/∂S), time decay (∂f/∂t), and convexity (½σ²∂²f/∂S² - the "gamma" term). The extra ½σ² term comes from stochastic calculus (not ordinary calculus). Essential for option pricing.',
      explanation: [
        'Derivative price depends on underlying: ∂f/∂S (delta).',
        'Time decay: ∂f/∂t (theta).',
        'Convexity term: ½σ²∂²f/∂S² (gamma) - unique to stochastic calculus.',
        'Extra term: ½σ² comes from stochastic calculus, not ordinary calculus.',
        'Essential: required for option pricing and hedging.',
      ],
      hint: 'Ito\'s Lemma accounts for the convexity term (gamma) that arises from stochastic calculus',
      difficulty: 'hard',
      targetTime: 90,
    },
    {
      id: 5,
      question: 'What does it mean to change from the physical measure to the risk-neutral measure?',
      answer: 'Physical measure (P): real-world probabilities, uses real drift μ. Risk-neutral measure (Q): pricing probabilities, uses risk-free rate r as drift. Change: replace μ with r, adjust probabilities so discounted prices are martingales. Why: allows pricing derivatives using risk-free rate, eliminates need to estimate risk premium. Fundamental theorem: derivative price = E^Q[discounted payoff].',
      explanation: [
        'Physical measure: real-world probabilities, uses actual drift μ.',
        'Risk-neutral measure: pricing probabilities, uses risk-free rate r.',
        'Change: replace μ with r, adjust probabilities.',
        'Result: discounted prices become martingales.',
        'Benefit: eliminates need to estimate risk premium.',
      ],
      hint: 'Risk-neutral measure uses risk-free rate as drift and makes discounted prices martingales',
      difficulty: 'hard',
      targetTime: 90,
    },
    {
      id: 6,
      question: 'Why does the implied volatility smile contradict Black–Scholes?',
      answer: 'Black-Scholes assumes constant volatility (same vol for all strikes/maturities). Smile: implied volatility varies by strike (higher vol for OTM puts/calls) and maturity (term structure). Contradiction: if BS were correct, all options would have same implied vol. Reality: market prices options with different vols, showing BS is wrong. Smile reflects: stochastic vol, jumps, and fat tails.',
      explanation: [
        'BS assumes: constant volatility for all strikes and maturities.',
        'Reality: implied volatility varies by strike (smile) and maturity (term structure).',
        'Contradiction: if BS correct, all options would have same implied vol.',
        'Market reality: options priced with different vols.',
        'Smile reflects: stochastic volatility, jumps, and fat tails.',
      ],
      hint: 'The volatility smile shows that implied volatility varies by strike and maturity, contradicting constant volatility assumption',
      difficulty: 'medium',
      targetTime: 75,
    },
    {
      id: 7,
      question: 'What problem does the local volatility model solve?',
      answer: 'Local volatility model: σ(S,t) is deterministic function of spot and time. Solves: fits all vanilla option prices exactly (can calibrate to smile), provides unique volatility surface, and allows pricing exotics consistently. Problem solved: how to price exotics when vanilla options show smile. Solution: use local vol surface calibrated to vanillas. Limitation: assumes deterministic vol (not stochastic).',
      explanation: [
        'Fits vanilla prices: can calibrate to match all vanilla option prices exactly.',
        'Unique surface: provides unique volatility surface from market prices.',
        'Pricing exotics: allows consistent pricing of exotic options.',
        'Problem solved: how to price exotics when vanillas show smile.',
        'Limitation: assumes deterministic volatility (not stochastic).',
      ],
      hint: 'Local volatility model fits the volatility smile by making volatility a deterministic function of spot and time',
      difficulty: 'hard',
      targetTime: 90,
    },
    {
      id: 8,
      question: 'Explain Dupire\'s local volatility formula and its main limitation.',
      answer: 'Dupire formula: σ_loc²(K,T) = 2(∂C/∂T + rK∂C/∂K) / (K²∂²C/∂K²). Gives local vol from call prices. Limitation: assumes deterministic volatility (vol depends only on S and t, not random), but real vol is stochastic. Problem: local vol predicts wrong forward smile dynamics (smile flattens too fast). Reality: stochastic vol models needed for forward smile.',
      explanation: [
        'Dupire formula: extracts local volatility from call option prices.',
        'Deterministic assumption: vol depends only on S and t, not random.',
        'Reality: real volatility is stochastic (random).',
        'Problem: predicts wrong forward smile dynamics (flattens too fast).',
        'Solution: stochastic volatility models needed for forward smile.',
      ],
      hint: 'Dupire formula extracts local volatility from option prices, but assumes deterministic volatility',
      difficulty: 'hard',
      targetTime: 90,
    },
    {
      id: 9,
      question: 'What motivates stochastic volatility models over local volatility?',
      answer: 'Stochastic volatility: vol is random process (dσ = ... dt + ... dW). Motivation: captures vol clustering (high vol periods), matches forward smile dynamics (smile doesn\'t flatten too fast), and models vol-of-vol risk. Local vol: deterministic, wrong forward smile. Stochastic vol: random, correct forward smile. Heston model is popular stochastic vol model.',
      explanation: [
        'Vol clustering: captures periods of high volatility.',
        'Forward smile: matches correct forward smile dynamics.',
        'Vol-of-vol risk: models volatility of volatility.',
        'Local vol: deterministic, wrong forward smile.',
        'Stochastic vol: random, correct forward smile.',
      ],
      hint: 'Stochastic volatility models capture random volatility dynamics and correct forward smile behavior',
      difficulty: 'hard',
      targetTime: 90,
    },
    {
      id: 10,
      question: 'Write the Heston model and explain the role of correlation.',
      answer: 'Heston model: dS = rS dt + √V S dW₁, dV = κ(θ - V)dt + σ√V dW₂, where dW₁ dW₂ = ρ dt. Correlation ρ: links stock and vol moves. Negative ρ (leverage effect): stock down → vol up (typical for equities). Positive ρ: stock up → vol up. Zero ρ: independent. Correlation creates skew: negative ρ → left skew (OTM puts expensive).',
      explanation: [
        'Heston model: two stochastic processes for stock and volatility.',
        'Correlation ρ: links stock and volatility movements.',
        'Negative ρ: leverage effect (stock down → vol up, typical for equities).',
        'Positive ρ: stock up → vol up.',
        'Skew: negative correlation creates left skew (OTM puts expensive).',
      ],
      hint: 'Heston model has two correlated Brownian motions - correlation creates volatility skew',
      difficulty: 'hard',
      targetTime: 90,
    },
    {
      id: 11,
      question: 'What is the Feller condition and what happens if it is violated?',
      answer: 'Feller condition: 2κθ ≥ σ² (for Heston model). Ensures: volatility V stays positive (never hits zero). If violated: V can hit zero (becomes negative, then model breaks). Interpretation: mean reversion (κθ) must be strong enough relative to vol-of-vol (σ) to keep V positive. In practice: often violated, but model still used (V rarely hits zero in practice).',
      explanation: [
        'Feller condition: 2κθ ≥ σ² ensures volatility stays positive.',
        'If violated: volatility can hit zero (becomes negative, model breaks).',
        'Interpretation: mean reversion must be strong relative to vol-of-vol.',
        'In practice: often violated, but model still used.',
        'Reality: volatility rarely hits zero in practice.',
      ],
      hint: 'Feller condition ensures volatility stays positive in the Heston model',
      difficulty: 'hard',
      targetTime: 90,
    },
    {
      id: 12,
      question: 'Why do stochastic volatility models still struggle with short-dated smiles?',
      answer: 'Short-dated smiles: very steep, hard to fit. Problem: stochastic vol models smooth out smile (vol evolves continuously), but short-dated options need sharp moves (jumps). Solution: add jumps (jump-diffusion models). Reality: short-dated = jump risk dominates, long-dated = vol risk dominates. Pure stochastic vol: good for long-dated, struggles with short-dated.',
      explanation: [
        'Short-dated smiles: very steep, hard to fit.',
        'Problem: stochastic vol smooths smile (vol evolves continuously).',
        'Reality: short-dated options need sharp moves (jumps).',
        'Solution: add jumps (jump-diffusion models).',
        'Short-dated: jump risk dominates. Long-dated: vol risk dominates.',
      ],
      hint: 'Short-dated smiles require jumps, which pure stochastic volatility models don\'t capture',
      difficulty: 'hard',
      targetTime: 90,
    },
    {
      id: 13,
      question: 'What is rough volatility, and what empirical fact does it explain?',
      answer: 'Rough volatility: volatility has fractional Brownian motion with Hurst exponent H < 1/2 (anti-persistent). Explains: very steep short-dated smile (power-law decay, not exponential). Standard models: exponential decay. Rough vol: power-law decay (matches data). Key: vol is "rough" (less smooth than standard models predict). Recent research area.',
      explanation: [
        'Rough volatility: uses fractional Brownian motion with H < 1/2.',
        'Explains: very steep short-dated smile (power-law decay).',
        'Standard models: exponential decay (doesn\'t match data).',
        'Rough vol: power-law decay (matches empirical data).',
        'Key: volatility is "rough" (less smooth than predicted).',
      ],
      hint: 'Rough volatility models use fractional Brownian motion to explain the steep short-dated volatility smile',
      difficulty: 'hard',
      targetTime: 90,
    },
    {
      id: 14,
      question: 'Why are jumps needed in asset price models?',
      answer: 'Jumps needed because: markets have sudden moves (news, crashes), short-dated options show steep smiles (jump risk), and continuous models underestimate tail risk. Pure diffusion: smooth paths, can\'t capture crashes. Jump-diffusion: sudden moves, captures crashes and short-dated smile. Merton model: adds Poisson jumps to GBM.',
      explanation: [
        'Markets have sudden moves: news, crashes, gaps.',
        'Short-dated options: show steep smiles (jump risk).',
        'Continuous models: underestimate tail risk.',
        'Pure diffusion: smooth paths, can\'t capture crashes.',
        'Jump-diffusion: captures sudden moves and crashes.',
      ],
      hint: 'Jumps capture sudden market moves and explain the steep short-dated volatility smile',
      difficulty: 'medium',
      targetTime: 75,
    },
    {
      id: 15,
      question: 'Compare Merton\'s jump–diffusion and pure Lévy models (e.g. VG or CGMY).',
      answer: 'Merton: GBM + Poisson jumps (finite activity, discrete jumps). VG/CGMY: pure Lévy (infinite activity, many small jumps). Merton: simpler, finite jumps. Lévy: more flexible, infinite small jumps. Both: capture fat tails and smiles. Merton: easier to calibrate. Lévy: better fit to data, more complex. Choice: depends on application and data fit.',
      explanation: [
        'Merton: GBM + Poisson jumps (finite activity, discrete jumps).',
        'Lévy models: infinite activity, many small jumps.',
        'Merton: simpler, easier to calibrate.',
        'Lévy: more flexible, better fit to data, more complex.',
        'Both: capture fat tails and volatility smiles.',
      ],
      hint: 'Merton has finite discrete jumps, while Lévy models have infinite small jumps',
      difficulty: 'hard',
      targetTime: 90,
    },
    {
      id: 16,
      question: 'How do jump models affect short-maturity option prices?',
      answer: 'Jump models: increase short-maturity option prices (especially OTM), create steep smile (jump risk premium), and capture crash risk. Pure diffusion: smooth smile. Jump-diffusion: steep smile (matches data). Short-dated: jump risk dominates (sudden moves matter more). Long-dated: vol risk dominates (jumps average out).',
      explanation: [
        'Increase prices: especially for out-of-the-money options.',
        'Steep smile: creates jump risk premium.',
        'Crash risk: captures tail risk from sudden moves.',
        'Short-dated: jump risk dominates.',
        'Long-dated: vol risk dominates (jumps average out).',
      ],
      hint: 'Jump models increase short-maturity option prices and create steep volatility smiles',
      difficulty: 'medium',
      targetTime: 75,
    },
    {
      id: 17,
      question: 'Why is mean reversion essential in interest rate models?',
      answer: 'Mean reversion: rates tend to return to long-term mean. Essential because: rates are bounded (can\'t go to infinity), economic forces pull rates to equilibrium, and models need realistic long-term behavior. Without mean reversion: rates can explode or go negative (unrealistic). Vasicek, CIR, Hull-White: all have mean reversion.',
      explanation: [
        'Rates are bounded: can\'t go to infinity.',
        'Economic forces: pull rates to equilibrium.',
        'Realistic behavior: models need realistic long-term behavior.',
        'Without mean reversion: rates can explode or go negative.',
        'All models: Vasicek, CIR, Hull-White have mean reversion.',
      ],
      hint: 'Mean reversion ensures interest rates stay bounded and return to long-term equilibrium',
      difficulty: 'medium',
      targetTime: 75,
    },
    {
      id: 18,
      question: 'Compare Vasicek and CIR models. Why is CIR often preferred?',
      answer: 'Vasicek: dr = κ(θ - r)dt + σ dW (Gaussian, can go negative). CIR: dr = κ(θ - r)dt + σ√r dW (square-root, stays positive). CIR preferred: rates stay positive (realistic), volatility scales with rate level (higher rates = higher vol), and better empirical fit. Vasicek: simpler, but can go negative (unrealistic).',
      explanation: [
        'Vasicek: Gaussian, can go negative (unrealistic).',
        'CIR: square-root process, stays positive (realistic).',
        'Volatility scaling: CIR has vol that scales with rate level.',
        'Empirical fit: CIR has better fit to data.',
        'Preference: CIR preferred for realistic behavior.',
      ],
      hint: 'CIR model ensures rates stay positive and has volatility that scales with the rate level',
      difficulty: 'medium',
      targetTime: 75,
    },
    {
      id: 19,
      question: 'What is the Hull–White model and why is it popular in practice?',
      answer: 'Hull-White: dr = (θ(t) - ar)dt + σ dW (time-dependent mean reversion level). Popular because: fits initial yield curve exactly (θ(t) calibrated to market), mean reverting (realistic long-term), and analytically tractable (closed-form solutions). Used for: pricing interest rate derivatives, risk management. Industry standard for IR modeling.',
      explanation: [
        'Time-dependent: θ(t) allows calibration to initial yield curve.',
        'Fits exactly: can match initial yield curve perfectly.',
        'Mean reverting: realistic long-term behavior.',
        'Analytically tractable: closed-form solutions available.',
        'Industry standard: widely used for IR derivatives pricing.',
      ],
      hint: 'Hull-White model fits the initial yield curve exactly and is analytically tractable',
      difficulty: 'medium',
      targetTime: 75,
    },
    {
      id: 20,
      question: 'What is adverse selection and how is it modeled mathematically?',
      answer: 'Adverse selection: informed traders trade against you (they know something you don\'t). Mathematical models: Glosten-Milgrom (bid-ask spread reflects information asymmetry), Kyle model (informed trader optimal strategy), and Avellaneda-Stoikov (optimal market making with adverse selection). Key: probability of informed trading (PIN) affects optimal quotes. Higher PIN = wider spreads.',
      explanation: [
        'Adverse selection: informed traders trade against you.',
        'Glosten-Milgrom: models bid-ask spread with information asymmetry.',
        'Kyle model: optimal strategy for informed traders.',
        'Avellaneda-Stoikov: optimal market making with adverse selection.',
        'PIN: probability of informed trading affects optimal quotes.',
      ],
      hint: 'Adverse selection models incorporate the probability of informed trading to determine optimal market making quotes',
      difficulty: 'hard',
      targetTime: 90,
    },
    {
      id: 21,
      question: 'Explain the Glosten–Milgrom or Kyle model in words.',
      answer: 'Glosten-Milgrom: market maker sets bid/ask, doesn\'t know if trader is informed. Informed trader: knows true value, trades when profitable. Uninformed: trades randomly. Market maker: updates beliefs from trades, widens spread when suspicious. Kyle model: informed trader chooses optimal trade size (balances profit vs price impact). Both: model information asymmetry and optimal strategies.',
      explanation: [
        'Glosten-Milgrom: market maker doesn\'t know if trader is informed.',
        'Informed trader: knows true value, trades when profitable.',
        'Market maker: updates beliefs, widens spread when suspicious.',
        'Kyle model: informed trader chooses optimal trade size.',
        'Both: model information asymmetry and optimal strategies.',
      ],
      hint: 'These models analyze how market makers and informed traders behave under information asymmetry',
      difficulty: 'hard',
      targetTime: 90,
    },
    {
      id: 22,
      question: 'What problem does the Avellaneda–Stoikov model solve?',
      answer: 'Avellaneda-Stoikov: optimal market making problem. Solves: how to quote bid/ask to maximize expected utility while managing inventory risk. Solution: optimal quotes depend on inventory (skew if imbalanced), time to expiration (wider near end), and risk aversion. Key: balances profit (spread) vs risk (inventory). Widely used in practice for algorithmic market making.',
      explanation: [
        'Problem: optimal market making with inventory risk.',
        'Solution: quotes depend on inventory (skew if imbalanced).',
        'Time effect: wider spreads near expiration.',
        'Risk aversion: affects optimal quoting strategy.',
        'Balance: profit (spread) vs risk (inventory).',
      ],
      hint: 'Avellaneda-Stoikov solves the optimal market making problem with inventory risk management',
      difficulty: 'hard',
      targetTime: 90,
    },
    {
      id: 23,
      question: 'How does inventory risk enter optimal market-making strategies?',
      answer: 'Inventory risk: holding imbalanced positions (long or short). Enters strategy: skew quotes (make long side cheaper to encourage sells), widen spreads (compensate for risk), and set position limits (stop if too imbalanced). Optimal quotes: depend on current inventory. More inventory = more risk = wider spreads, more skew. Goal: balance profit vs risk.',
      explanation: [
        'Inventory risk: holding imbalanced positions.',
        'Skew quotes: make long side cheaper to encourage sells.',
        'Widen spreads: compensate for increased risk.',
        'Position limits: stop if too imbalanced.',
        'Goal: balance profit vs risk.',
      ],
      hint: 'Inventory risk causes market makers to skew quotes and widen spreads to manage position exposure',
      difficulty: 'medium',
      targetTime: 75,
    },
    {
      id: 24,
      question: 'Why are Hawkes processes useful for modeling order flow?',
      answer: 'Hawkes processes: self-exciting point processes (events trigger more events). Useful because: order flow has clustering (orders trigger more orders), captures feedback (trades cause more trades), and models contagion (one market affects others). Applications: high-frequency trading, market impact, order flow prediction. Better than Poisson (which assumes independence).',
      explanation: [
        'Self-exciting: events trigger more events.',
        'Clustering: orders trigger more orders.',
        'Feedback: trades cause more trades.',
        'Contagion: one market affects others.',
        'Better than Poisson: captures dependence (not independence).',
      ],
      hint: 'Hawkes processes model self-exciting order flow where events trigger more events',
      difficulty: 'hard',
      targetTime: 90,
    },
    {
      id: 25,
      question: 'When would you prefer Monte Carlo over PDE methods (and vice versa)?',
      answer: 'Monte Carlo: prefer for high dimensions (many assets), path-dependent options (Asian, lookback), and complex payoffs. PDE: prefer for low dimensions (1-2 assets), early exercise (American options), and Greeks (sensitivities). Trade-off: MC = flexible but slow, PDE = fast but limited dimensions. Hybrid: use both depending on problem.',
      explanation: [
        'Monte Carlo: high dimensions, path-dependent options, complex payoffs.',
        'PDE: low dimensions, early exercise, Greeks.',
        'Trade-off: MC flexible but slow, PDE fast but limited.',
        'Hybrid: use both depending on problem.',
        'Choice: depends on problem characteristics.',
      ],
      hint: 'Monte Carlo for high dimensions and path-dependence, PDE for low dimensions and early exercise',
      difficulty: 'medium',
      targetTime: 75,
    },
    {
      id: 26,
      question: 'Why is Heston pricing often done using characteristic functions and FFT?',
      answer: 'Heston: no closed-form for option prices (stochastic vol). Characteristic function: closed-form for Heston (Fourier transform of density). FFT: fast numerical integration to compute option prices from characteristic function. Advantage: fast (O(N log N)), accurate, handles many strikes at once. Standard method: Heston characteristic function + FFT = efficient pricing.',
      explanation: [
        'Heston: no closed-form for option prices.',
        'Characteristic function: closed-form for Heston model.',
        'FFT: fast numerical integration (O(N log N)).',
        'Advantage: fast, accurate, handles many strikes.',
        'Standard method: widely used for efficient pricing.',
      ],
      hint: 'Characteristic functions and FFT provide fast, accurate pricing for stochastic volatility models',
      difficulty: 'hard',
      targetTime: 90,
    },
    {
      id: 27,
      question: 'What are the main numerical challenges in calibrating volatility models?',
      answer: 'Challenges: high-dimensional optimization (many parameters), non-convex objective (multiple local minima), expensive pricing (each evaluation costs time), and overfitting (fits noise, not signal). Solutions: good initial guesses, regularization, efficient pricing methods (FFT, approximations), and out-of-sample validation. Calibration is art + science.',
      explanation: [
        'High-dimensional: many parameters to optimize.',
        'Non-convex: multiple local minima.',
        'Expensive: each pricing evaluation costs time.',
        'Overfitting: fits noise, not signal.',
        'Solutions: good initial guesses, regularization, efficient methods.',
      ],
      hint: 'Calibration faces challenges from high-dimensional optimization, non-convex objectives, and expensive pricing',
      difficulty: 'hard',
      targetTime: 90,
    },
    {
      id: 28,
      question: 'Why can two models fit vanilla options equally well but hedge very differently?',
      answer: 'Different models: can fit same vanilla prices (same implied vols), but have different Greeks (deltas, gammas, vegas differ). Reason: models differ in dynamics (local vol vs stochastic vol), even if prices match. Hedging: depends on Greeks, not just prices. Local vol: wrong forward smile → wrong hedges. Stochastic vol: correct forward smile → better hedges.',
      explanation: [
        'Same prices: models can fit vanilla prices equally.',
        'Different Greeks: deltas, gammas, vegas differ.',
        'Different dynamics: local vol vs stochastic vol.',
        'Hedging: depends on Greeks, not just prices.',
        'Forward smile: local vol wrong, stochastic vol correct.',
      ],
      hint: 'Models that fit vanilla prices equally can have different Greeks and thus different hedging behavior',
      difficulty: 'hard',
      targetTime: 90,
    },
    {
      id: 29,
      question: 'How do model assumptions typically break during market stress?',
      answer: 'During stress: correlations spike (diversification fails), volatility explodes (models underestimate), jumps occur (continuous models break), liquidity dries up (models assume liquid), and fat tails appear (normal distributions fail). Models: calibrated to normal times, break in stress. Solution: stress testing, scenario analysis, and conservative assumptions.',
      explanation: [
        'Correlations spike: diversification fails.',
        'Volatility explodes: models underestimate.',
        'Jumps occur: continuous models break.',
        'Liquidity dries up: models assume liquid.',
        'Fat tails: normal distributions fail.',
      ],
      hint: 'Model assumptions break during stress when correlations spike, volatility explodes, and jumps occur',
      difficulty: 'medium',
      targetTime: 75,
    },
    {
      id: 30,
      question: 'If you were running a market-making book, how would you decide which model matters most?',
      answer: 'Decision factors: what you\'re trading (vanillas vs exotics), time horizon (short vs long), and risk tolerance. Vanillas: simple model (local vol) may suffice. Exotics: need stochastic vol/jumps. Short-dated: jumps matter. Long-dated: vol dynamics matter. Risk: simpler = easier to understand, complex = better fit but harder. Practical: use simplest model that captures key risks.',
      explanation: [
        'Trading: vanillas vs exotics (different models needed).',
        'Time horizon: short-dated (jumps) vs long-dated (vol dynamics).',
        'Risk tolerance: simpler vs complex models.',
        'Practical: use simplest model that captures key risks.',
        'Balance: model complexity vs fit vs understanding.',
      ],
      hint: 'Choose models based on what you\'re trading, time horizon, and risk tolerance - simplest that captures key risks',
      difficulty: 'hard',
      targetTime: 90,
    },
  ] as TradingQuestion[],
}

export const quantCategoryLabels: Record<string, string> = {
  'mental-calculations': 'Mental Calculations',
  'probability-exercises': 'Probability Exercises',
  'brainteasers': 'Brainteasers',
  'coding-project': 'Coding Project',
  'statistics-ml': 'Statistics & ML',
  'trading-intuition': 'Trading Intuition',
  'research-discussion': 'Research Discussion',
  'quant-models': 'Quant Models',
}

